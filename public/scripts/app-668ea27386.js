/******/!function(t){function n(i){if(e[i])return e[i].exports;var a=e[i]={exports:{},id:i,loaded:!1};return t[i].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}// webpackBootstrap
/******/
var e={};return n.m=t,n.c=e,n.p="",n(0)}([function(t,n,e){"use strict";var i=e(1),a=e(58),s=e(105),o=e(110),r=e(124),c=e(125),l=e(126);angular.module("ynoTasting",["ngAnimate","ngCookies","ngTouch","ngSanitize","ngMessages","ngAria","ngResource","ng-token-auth","ui.router","moment-picker","ngLodash",o.ServicesModule,a.CommonModule,i.ComponentsModule,s.FiltersModule]).constant("constants",l.AppConstants).component("app",r.AppComponent).config(c.AppConfig).run(["$log",function(t){"nginject";t.log("AppModule.run")}])},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ComponentsModule=void 0;var i=e(2),a=e(4),s=e(6),o=e(8),r=e(10),c=e(12),l=e(14),d=e(16),u=e(18),g=e(20),p=e(22),v=e(24),h=e(26),m=e(28),f=e(30),w=e(32),$=e(34),b=e(36),y=e(38),S=e(40),_=e(42),T=e(44),M=e(46),k=e(48),A=e(50),C=e(52),E=e(54),I=e(56);n.ComponentsModule=angular.module("ynoTasting.components",[]).component("addGuestModal",i.AddGuestModalComponent).component("addWineModal",a.AddWineModalComponent).component("alertsModal",s.AlertsModalComponent).component("connectionListItem",o.ConnectionListItemComponent).component("desktopNavPrimary",r.DesktopNavPrimaryComponent).component("desktopNavSecondary",c.DesktopNavSecondaryComponent).component("footerMenu",l.FooterMenuComponent).component("guestListItem",d.GuestListItemComponent).component("hostLocationForm",u.HostLocationFormComponent).component("hostLocationModal",g.HostLocationModalComponent).component("invitationDetailModal",p.InvitationDetailModalComponent).component("mobileNav",h.MobileNavComponent).component("notification",v.NotificationComponent).component("progressBar",m.ProgressBarComponent).component("showGuestModal",f.ShowGuestModalComponent).component("sortBar",w.SortBarComponent).component("stateSelectorModal",$.StateSelectorModalComponent).component("tasterPanel",b.TasterPanelComponent).component("tastingDetail",S.TastingDetailComponent).component("tastingDetailModal",_.TastingDetailModalComponent).component("tastingListItem",y.TastingListItemComponent).component("toggleSwitch",T.ToggleSwitchComponent).component("waitState",M.WaitStateComponent).component("wineInfoModal",k.WineInfoModalComponent).component("wineListItem",A.WineListItemComponent).component("wineRevealModal",C.WineRevealModalComponent).component("wineReviewModal",E.WineReviewModalComponent).component("wineReviewStatusModal",I.WineReviewStatusModalComponent).name},function(t,n,e){"use strict";function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.AddGuestModalComponent=void 0;var a=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),s=e(3);n.AddGuestModalComponent={bindings:{tasting:"<"},template:s.template,controller:function(){function t(n,e,a,s,o,r,c){"ngInject";var l=this;i(this,t),this.$log=e,this.name="add-guest-modal",this.GuestService=o,this.ModalService=s,this.TasterService=r,this.UserService=c,this.modalState="closed",this.viewState=1,this.user={},this.result={},this.connections=[],this.addGuestStatus={state:!1,label:"Invite New Users"},this.hostTastingStatus={state:!1,label:"Include Host"};var d=a.find(".main-modal-container"),u=n.$on("modal-state-change-event",function(t,n){n.name==l.name&&("open"==n.state?(TweenMax.to(a,.5,{autoAlpha:1}),TweenMax.from(d,.3,{transform:"scale(.5)"})):TweenMax.to(a,.5,{autoAlpha:0,onComplete:function(){l.user={},l.result={}}}))}),g=n.$on("destroy-guest-event",function(t,n){var e=void 0;if(n.taster_id==l.tasting.host.taster.id)l.hostTastingStatus.state=!1,l.hostTastingStatus.label="Include Host";else for(e=0;e<l.tasting.host.connections.length;e++)if(l.tasting.host.connections[e].taster_id==n.taster_id){l.connections.push(l.tasting.host.connections[e]);break}}),p=n.$on("include-host-as-guest-event",function(){l.hostTastingStatus.state=!0,l.hostTastingStatus.label="Host Included"}),v=n.$on("invite-new-user-event",function(){l.confirmModal()}),h=n.$on("invite-taster-event",function(t,n){l.viewState=1;for(var e=0;e<l.connections.length;e++)if(n.taster_id==l.connections[e].taster_id){l.connections.splice(e,1);break}});n.$on("$destroy",g),n.$on("$destroy",p),n.$on("$destroy",v),n.$on("$destroy",h),n.$on("$destroy",u)}return t.$inject=["$scope","$log","$element","ModalService","GuestService","TasterService","UserService"],a(t,[{key:"$onInit",value:function(){var t=void 0,n=void 0,e=void 0,i=void 0,a=void 0;for(this.ModalService.registerModal(this),t=0;t<this.tasting.guests.length;t++)if(i=this.tasting.guests[t],i.taster_id==this.tasting.host.taster.id){this.hostTastingStatus.state=!0,this.hostTastingStatus.label="Host Included";break}for(t=0;t<this.tasting.host.connections.length;t++){for(e=this.tasting.host.connections[t],a=!1,n=0;n<this.tasting.guests.length;n++)if(i=this.tasting.guests[n],e.taster_id==i.taster_id){a=!0;break}a||this.connections.push(e)}}},{key:"closeModal",value:function(){this.viewState=1,this.ModalService.setModalState("closed",this.name)}},{key:"confirmModal",value:function(){this.ModalService.setModalState("confirmed",this.name)}},{key:"inviteNewUser",value:function(){var t=this;this.user.id?this.TasterService.getTasterFromUser(this.user.id).then(function(n){t.GuestService.inviteTaster(t.tasting.id,n.id)}):this.GuestService.inviteNewUser(this.tasting.id,this.user.email)}},{key:"inviteConnection",value:function(t){this.GuestService.inviteTaster(this.tasting.id,t.taster_id)}},{key:"searchUserByEmail",value:function(t){var n=this;this.UserService.getUserByEmail(t).then(function(e){n.viewState=2,e?(n.$log.log("AddGuestModalComponent.searchUserByEmail",e),n.user=e,n.result.title=t+" is already a registered taster!",n.result.body="Send them a tasting invite?"):(n.user={email:t},n.result.title=t+" is not a registered taster.",n.result.body="Send them an invitation to join Yno Tasting?")})}},{key:"toggleAddGuestMethod",value:function(){this.addGuestStatus.state?(this.addGuestStatus.state=!1,this.addGuestStatus.label="Invite New User"):(this.addGuestStatus.state=!0,this.addGuestStatus.label="Invite Connection")}},{key:"addHostToGuests",value:function(){this.GuestService.includeHost(this.tasting.id)}}]),t}()}},function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.template='\n  <div class="main-modal-wrapper">\n\n    <div class="main-modal-container" ng-if="$ctrl.viewState==1">\n      <div class="main-modal-header">\n        <h3>Add Guests</h3>\n      </div>\n      <div class="main-modal-subheader">\n        <toggle-switch\n          ng-if="$ctrl.tasting.host.connections.length>0"\n          toggle-trigger="$ctrl.toggleAddGuestMethod()"\n          toggle-label="$ctrl.addGuestStatus.label"\n          toggle-state="$ctrl.addGuestStatus.state">\n        </toggle-switch>\n        <button class="text-btn include-host"\n          ng-disabled="$ctrl.hostTastingStatus.state"\n          ng-click="$ctrl.addHostToGuests()">\n            {{$ctrl.hostTastingStatus.label}}\n        </button>\n      </div>\n      <form name="inviteForm">\n      <div class="main-modal-content">\n        <div class="add-guest-form" ng-if="!$ctrl.addGuestStatus.state">\n          <div class="main-form-control">\n            <label>Email</label>\n            <input type="email" ng-model="$ctrl.user.email" required>\n          </div>\n        </div>\n        <connection-list-item\n          ng-if="$ctrl.addGuestStatus.state"\n          ng-repeat="connection in $ctrl.connections"\n          connection="connection"\n          taster="$ctrl.tasting.host.taster"\n          select-action="$ctrl.inviteConnection(connection)">\n        </connection-list-item>\n      </div>\n      <div class="main-modal-footer">\n        <span>&nbsp;</span>\n        <div>\n          <button type="button" ng-click="$ctrl.closeModal()"><span class="fa fa-times"></span></button>\n          <button\n            type="submit"\n            ng-disabled="inviteForm.$invalid"\n            ng-click="$ctrl.searchUserByEmail($ctrl.user.email)"\n            ng-if="!$ctrl.addGuestStatus.state">\n              <span class="fa fa-check"></span>\n          </button>\n        </div>\n      </div>\n      </form>\n    </div>\n\n    <div class="main-modal-container" ng-if="$ctrl.viewState==2">\n      <div class="main-modal-header">\n        <h3>Confirm Guest</h3>\n      </div>\n      <div class="main-modal-content">\n        <div class="add-guest-form">\n          <h4>{{$ctrl.result.title}}</h4>\n          <p>{{$ctrl.result.body}}</p>\n        </div>\n      </div>\n      <div class="main-modal-footer">\n        <span>&nbsp;</span>\n        <div>\n          <button ng-click="$ctrl.closeModal()"><span class="fa fa-times"></span></button>\n          <button ng-click="$ctrl.inviteNewUser()"><span class="fa fa-check"></span></button>\n        </div>\n      </div>\n    </div>\n\n  </div>\n'},function(t,n,e){"use strict";function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.AddWineModalComponent=void 0;var a=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),s=e(5);n.AddWineModalComponent={bindings:{tasting:"<"},template:s.template,controller:function(){function t(n,e,a,s,o,r){"ngInject";var c=this;i(this,t),this.$log=e,this.name="tasting-wine-modal",this.ModalService=s,this.WineService=r,this.modalState="closed",this.tastingWine=null;var l=a.find(".main-modal-container"),d=n.$on("modal-state-change-event",function(t,n){n.name==c.name&&("open"==n.state?(c.tastingWine={tasting:c.tasting,tasting_id:c.tasting.id},TweenMax.to(a,.5,{autoAlpha:1}),TweenMax.from(l,.3,{transform:"scale(.5)"})):(c.tastingWine={},TweenMax.to(a,.5,{autoAlpha:0})))}),u=n.$on("wine-create-event",function(t,n){c.tastingWine.wine=n,c.tastingWine.wine_id=n.id,o.create(c.tastingWine)}),g=n.$on("tasting-wine-create-event",function(t,n){c.tastingWine=n,c.confirmModal()});n.$on("destroy",d),n.$on("destroy",u),n.$on("destroy",g)}return t.$inject=["$scope","$log","$element","ModalService","TastingWineService","WineService"],a(t,[{key:"$onInit",value:function(){this.ModalService.registerModal(this)}},{key:"closeModal",value:function(){this.ModalService.setModalState("closed",this.name)}},{key:"confirmModal",value:function(){this.ModalService.setModalState("confirmed",this.name,this.tastingWine)}},{key:"createWine",value:function(){this.WineService.create(this.tastingWine.wine)}}]),t}()}},function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.template='\n  <div class="main-modal-wrapper">\n    <div class="main-modal-container">\n      <div class="main-modal-header">\n        <h3>Add Wine</h3>\n      </div>\n      <form name="tastingWineForm">\n      <div class="main-modal-content">\n        <div class="main-form-control" ng-class="{\'error\':tastingWineForm.$dirty && tastingWineForm.vintage.$invalid}">\n          <label>Vintage</label>\n          <input type="number" name="vintage"\n            ng-model="$ctrl.tastingWine.wine.vintage" placeholder="Year or 0 for non-vintage"\n            ng-pattern="/0{1}|[0-9]{4}/"\n            required>\n        </div>\n        <div class="main-form-control">\n          <label>Name</label>\n          <input type="text"\n            ng-model="$ctrl.tastingWine.wine.name" placeholder="Producer Region/Vineyard/Name Varietal"\n            required>\n        </div>\n        <div class="main-form-control">\n          <label>Price</label>\n          <input type="number" step=0.01\n            ng-model="$ctrl.tastingWine.price" placeholder="19.99"\n            required>\n        </div>\n      </div>\n      <div class="main-modal-footer">\n        <span>&nbsp;</span>\n        <div>\n          <button ng-click="$ctrl.closeModal()"><span class="fa fa-times"></span></button>\n          <button ng-click="$ctrl.createWine()" ng-disabled="tastingWineForm.$invalid"><span class="fa fa-check"></span></button>\n        </div>\n      </div>\n      </form>\n    </div>\n  </div>\n'},function(t,n,e){"use strict";function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.AlertsModalComponent=void 0;var a=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),s=e(7);n.AlertsModalComponent={template:s.template,controller:function(){function t(n,e,a,s,o){"ngInject";var r=this;i(this,t),this.$log=e,this.name="alerts-modal",this.AlertsService=s,this.ModalService=o,this.modalState="closed",this.currentAlert=null;var c=a.find(".main-modal-container"),l=n.$on("modal-state-change-event",function(t,n){n.name==r.name&&("open"==n.state&&"open"!=r.modalState?(r.modalState=n.state,TweenMax.to(a,.5,{autoAlpha:1}),TweenMax.from(c,.3,{transform:"scale(.5)"})):"open"!=n.state&&"open"==r.modalState&&(r.modalState=n.state,TweenMax.to(a,.5,{autoAlpha:0,onComplete:function(){r.user={},r.viewState=1,r.result={}}})))}),d=n.$on("set-alerts-event",function(t,n){r.currentAlert=n,r.ModalService.setModalState("open",r.name)}),u=n.$on("end-alerts-event",function(){r.ModalService.setModalState("closed",r.name)});n.$on("$destroy",d),n.$on("$destroy",u),n.$on("$destroy",l)}return t.$inject=["$scope","$log","$element","AlertsService","ModalService"],a(t,[{key:"$onInit",value:function(){this.ModalService.registerModal(this),this.AlertsService.broadcastAlerts()}},{key:"closeModal",value:function(){this.AlertsService.dismissAlert(this.currentAlert.id)}},{key:"confirmModal",value:function(){this.AlertsService.confirmAlert(this.currentAlert.id)}}]),t}()}},function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.template='\n  <div class="main-modal-wrapper">\n\n    <div class="main-modal-container" ng-show="$ctrl.currentAlert.type==\'failure\'">\n      <div class="main-modal-header">\n        <h3><span class="fa fa-bomb"></span> Error!</h3>\n      </div>\n      <div class="main-modal-content">\n        <p>{{$ctrl.currentAlert.message}}</p>\n      </div>\n      <div class="main-modal-footer">\n        <span>&nbsp;</span>\n        <div>\n          <button ng-click="$ctrl.closeModal()"><span class="fa fa-times"></span></button>\n        </div>\n      </div>\n    </div>\n\n    <div class="main-modal-container" ng-show="$ctrl.currentAlert.type==\'warning\'">\n      <div class="main-modal-header warning">\n        <h3><span class="fa fa-exclamation-triangle"></span> Warning!</h3>\n      </div>\n      <div class="main-modal-content">\n        <p>{{$ctrl.currentAlert.message}}</p>\n      </div>\n      <div class="main-modal-footer">\n        <span>&nbsp;</span>\n        <div>\n          <button ng-click="$ctrl.closeModal()"><span class="fa fa-times"></span></button>\n          <button ng-click="$ctrl.confirmModal()"><span class="fa fa-check"></span></button>\n        </div>\n      </div>\n    </div>\n\n    <div class="main-modal-container" ng-show="$ctrl.currentAlert.type==\'confirmation\'">\n      <div class="main-modal-header">\n        <h3><span class="fa fa-thumbs-up"></span> Success!</h3>\n      </div>\n      <div class="main-modal-content">\n        <p>{{$ctrl.currentAlert.message}}</p>\n      </div>\n      <div class="main-modal-footer">\n        <span>&nbsp;</span>\n        <div>\n          <button ng-click="$ctrl.closeModal()"><span class="fa fa-check"></span></button>\n        </div>\n      </div>\n    </div>\n\n  </div>\n'},function(t,n,e){"use strict";function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.ConnectionListItemComponent=void 0;var a=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),s=e(9);n.ConnectionListItemComponent={bindings:{connection:"<",selectAction:"&",taster:"<"},template:s.template,controller:function(){function t(n){"ngInject";i(this,t),this.$log=n}return t.$inject=["$log"],a(t,[{key:"$onInit",value:function(){}}]),t}()}},function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.template='\n\n  <a class="connection-list-item-link" href ng-click="$ctrl.selectAction()">\n    <div class="connection-list-item-tab">\n      <span>Connected</span>\n      <span>{{ $ctrl.connection.connected_at | utcToLocalDate:"MMM-YYYY" }}</span>\n    </div>\n    <div class="connection-list-item-title">{{ $ctrl.connection.taster_name }}</div>\n  </a>\n\n\n\n'},function(t,n,e){"use strict";function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.DesktopNavPrimaryComponent=void 0;var a=e(11);n.DesktopNavPrimaryComponent={bindings:{welcomeState:"<"},template:a.template,controller:["$scope","$log","$state","welcomeConstants",function s(t,n,e,a){"ngInject";i(this,s),this.$scope=t,this.$state=e,this.$log=n,this.constants=a}]}},function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.template='\n\n  <a ui-sref="welcome-signin"\n    ng-class="{\'on\':$ctrl.welcomeState==$ctrl.constants.WELCOME_SIGNIN_STATE}">\n    <span class="fas fa-sign-in-alt"></span>\n  </a>\n  <a ui-sref=\'welcome-why\'\n    ng-class="{\'on\':$ctrl.welcomeState==$ctrl.constants.WELCOME_WHY_STATE}">\n    <span class="fas fa-question"></span>\n  </a>\n  <a ui-sref=\'welcome-who\'\n    ng-class="{\'on\':$ctrl.welcomeState==$ctrl.constants.WELCOME_WHO_STATE}">\n    <span class="fas fa-users"></span>\n  </a>\n  <a ui-sref=\'welcome-how\'\n    ng-class="{\'on\':$ctrl.welcomeState==$ctrl.constants.WELCOME_HOW_STATE}">\n    <span class="fas fa-wine-glass"></span>\n  </a>\n\n'},function(t,n,e){"use strict";function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.DesktopNavSecondaryComponent=void 0;var a=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),s=e(13);n.DesktopNavSecondaryComponent={bindings:{welcomeState:"<",howState:"<",signoutState:"<"},template:s.template,controller:function(){function t(n,e,a,s){"ngInject";i(this,t),this.$state=n,this.$log=e,this.constants=a,this.UserService=s}return t.$inject=["$state","$log","welcomeConstants","UserService"],a(t,[{key:"signoutUser",value:function(){this.UserService.signoutUser()}}]),t}()}},function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.template="\n<a ng-if=\"$ctrl.signoutState\" href ng-click=\"$ctrl.signoutUser()\" >\n  Sign Out\n</a>\n<a ng-if=\"$ctrl.howState\" ui-sref='welcome-signin' >\n  Sign In\n</a>\n<a ng-if=\"$ctrl.howState\" ui-sref='welcome-why' >\n  Why Yno\n</a>\n<a ng-if=\"$ctrl.howState\" ui-sref='welcome-who' >\n  Who Can Yno\n</a>\n<a ng-if=\"$ctrl.signoutState\" ui-sref='welcome-how' >\n  How to Yno\n</a>\n<a href='http://ynoguy.com' target='_blank'>Blog</a>\n<a href>Contact</a>\n<a ui-sref='welcome-privacy'\"\n  ng-class=\"{'on': $ctrl.welcomeState==$ctrl.constants.WELCOME_PRIVACY_STATE}\">\n  Privacy\n</a>\n\n"},function(t,n,e){"use strict";function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.FooterMenuComponent=void 0;var a=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),s=e(15);n.FooterMenuComponent={template:s.template,controller:function(){function t(n,e,a,s){"ngInject";i(this,t),this.$log=n,this.$state=e,this.nav_state=!1,this.UserService=s}return t.$inject=["$log","$state","$auth","UserService"],a(t,[{key:"$onInit",value:function(){}},{key:"signOut",value:function(){this.UserService.signoutUser()}}]),t}()}},function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.template='\n  <div class="footer" ng-class="{open : nav_open, closed : !nav_open}">\n    <a href ng-click="nav_open = !nav_open"><img id="nav-logo" src=\'assets/images/yno_icon_white.svg\'></a>\n    <ul>\n      <li><a ui-sref="dashboard">Dashboard</a></li>\n      <li><a ui-sref="tasting-new">Host A Tasting</a></li>\n      <li><a ui-sref="user">Profile</a></li>\n      <li><a href ng-click="$ctrl.signOut()">Sign Out</a></li>\n    </ul>\n  </div>\n'},function(t,n,e){"use strict";function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.GuestListItemComponent=void 0;var a=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),s=e(17);n.GuestListItemComponent={bindings:{guest:"<",deleteAction:"&",selectAction:"&",editable:"<"},template:s.template,controller:function(){function t(n){"ngInject";i(this,t),this.$log=n}return t.$inject=["$log"],a(t,[{key:"$onInit",value:function(){this.inviteStatus=this.parseInviteStatus(),this.handle=this.parseHandle()}},{key:"parseHandle",value:function(){var t="";return this.guest.taster.name?(t=this.guest.taster.name,this.guest.taster.handle&&(t+=" ("+this.guest.taster.handle+")")):t=this.guest.taster.user.email,t}},{key:"parseInviteStatus",value:function(){return this.guest.confirmed?"Confirmed "+this.guest.confirmed:"Invited "+this.guest.invited}}]),t}()}},function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.template='\n\n  <a class="guest-list-item-link" href ng-click="$ctrl.selectAction()">\n    <div class="guest-list-item-state" ng-show="$ctrl.guest.confirmed">\n      <span>Confirmed</span>\n      <span>{{ $ctrl.guest.confirmed | utcToLocalDate:"MMM-DD" }}</span>\n    </div>\n    <div class="guest-list-item-state invited" ng-hide="$ctrl.guest.confirmed">\n      <span>Invited</span>\n      <span>{{ $ctrl.guest.invited | utcToLocalDate:"MMM-DD" }}</span>\n    </div>\n    <div class="guest-list-item-title">{{ $ctrl.guest.taster.full_handle }}</div>\n  </a>\n\n  <button class="small-btn"\n    ng-click="$ctrl.deleteAction()"\n    ng-show="$ctrl.editable">\n    <span class="fa fa-minus"></span>\n  </button>\n\n'},function(t,n,e){"use strict";function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.HostLocationFormComponent=void 0;var a=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),s=e(19);n.HostLocationFormComponent={bindings:{checkAction:"&",refreshFlag:"<"},template:s.template,controller:function(){function t(n,e,a,s,o){"ngInject";var r=this;i(this,t),this.$log=e,this.$scope=n,this.HostLocationService=a,this.LocationService=s,this.ModalService=o,this.host_location={location:{}};var c=n.$on("modal-state-change-event",function(t,n){"state-selector-modal"==n.name&&"confirmed"==n.state&&(r.host_location.location.state=n.data.code)}),l=n.$on("create-host-location-event",function(){r.host_location={location:{}},n.newLocationForm.$setPristine()});n.$on("$destroy",l),n.$on("$destroy",c)}return t.$inject=["$scope","$log","HostLocationService","LocationService","ModalService"],a(t,[{key:"$onInit",value:function(){}},{key:"$onChanges",value:function(t){t.refreshFlag.currentValue||(this.host_location={location:{}},this.$scope.newLocationForm&&this.$scope.newLocationForm.$setUntouched())}},{key:"addLocation",value:function(){this.LocationService.create(this.host_location.location)}},{key:"openStateSelector",value:function(){this.ModalService.setModalState("open","state-selector-modal")}}]),t}()}},function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.template='\n\n<form name="newLocationForm">\n  <div class="main-form-container">\n    <div class="main-form-control" ng-class="{\'error\' : newLocationForm.phone.$dirty && newLocationForm.phone.$invalid}">\n      <label><span>Phone</span></label>\n      <input name="phone" type="tel" required\n        placeholder="555-123-4567"\n        ng-pattern="/[0-9]{3}-?[0-9]{3}-?[0-9]{4}/"\n        ng-change="$ctrl.checkAction({host_location:$ctrl.host_location})"\n        ng-model="$ctrl.host_location.location.phone">\n    </div>\n    <div class="main-form-control" ng-class="{\'error\' : newLocationForm.address.$dirty && newLocationForm.address.$invalid}">\n      <label><span>Address</span></label>\n      <input name="address" type="text"\n        ng-change="$ctrl.checkAction({host_location:$ctrl.host_location})"\n        ng-model="$ctrl.host_location.location.address" required>\n    </div>\n    <div class="main-form-control">\n      <label><span>Address2</span></label>\n      <input name="address2" type="text" placeholder="Optional"\n        ng-change="$ctrl.checkAction({host_location:$ctrl.host_location})"\n        ng-model="$ctrl.host_location.location.address2" >\n    </div>\n    <div class="main-form-control" ng-class="{\'error\' : newLocationForm.city.$dirty && newLocationForm.city.$invalid}">\n      <label><span>City</span></label>\n      <input name="locationCity" type="text"\n        ng-change="$ctrl.checkAction({host_location:$ctrl.host_location})"\n        ng-model="$ctrl.host_location.location.city" required>\n    </div>\n    <div class="main-form-control" ng-class="{\'error\' : newLocationForm.state.$dirty && newLocationForm.state.$invalid}">\n      <label><span>State</span></label>\n      <input name="locationState" type="text" required\n        ng-focus="$ctrl.openStateSelector()"\n        ng-model="$ctrl.host_location.location.state"\n        ng-change="$ctrl.checkAction({host_location:$ctrl.host_location})"\n        ng-readonly="true">\n    </div>\n    <div class="main-form-control" ng-class="{\'error\' : newLocationForm.postal.$dirty && newLocationForm.postal.$invalid}">\n      <label><span>Postal</span></label>\n      <input name="postal" type="text"\n        ng-change="$ctrl.checkAction({host_location:$ctrl.host_location})"\n        ng-model="$ctrl.host_location.location.postal" required>\n    </div>\n    <div class="main-form-control checkbox" ng-click="$ctrl.host_location.primary=!$ctrl.host_location.primary">\n      <label><span class="fa" ng-class="{\'fa-square-o\':!$ctrl.host_location.primary, \'fa-check-square\':$ctrl.host_location.primary}"></span></label>\n      <div>Primary Location</div>\n    </div>\n  </div>\n  <!-- <div class="main-form-btns">\n    <button ng-click="$ctrl.backAction()"><span class="fa fa-arrow-left"></span></button>\n    <div>\n      <button type="reset"><span class="fa fa-refresh"></span></button>\n      <button type="submit" ><span class="fa fa-check"></span></button>\n    </div>\n  </div> -->\n</form>\n\n<state-selector-modal></state-selector-modal>\n'},function(t,n,e){"use strict";function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.HostLocationModalComponent=void 0;var a=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),s=e(21);n.HostLocationModalComponent={bindings:{hostLocations:"<",selectedLocation:"<"},template:s.template,controller:function(){function t(n,e,a,s,o,r,c){"ngInject";var l=this;i(this,t),this.$log=e,this.$element=a,this._=s,this.name="host-location-modal",this.HostLocationService=o,this.LocationService=r,this.ModalService=c,this.modalState="closed",this.viewState=1,this.newHostLocation=null,this.newHostLocationInvalid=!0;var d=a.find(".main-modal-container"),u=n.$on("modal-state-change-event",function(t,n){n.name==l.name&&(l.modalState=n.state,"open"==n.state?(TweenMax.to(a,.5,{autoAlpha:1}),TweenMax.from(d,.3,{transform:"scale(.5)"})):TweenMax.to(a,.5,{autoAlpha:0}))}),g=n.$on("create-host-location-event",function(){l.viewState=1,l.newHostLocation=null,l.newHostLocationInvalid=!0,l.ModalService.setModalState("confirmed",l.name,l.selectedLocation)}),p=n.$on("create-location-event",function(t,n){l.selectedLocation=n,l.newHostLocation.location_id=n.id,o.create(l.newHostLocation)});n.$on("$destroy",g),n.$on("$destroy",p),n.$on("$destroy",u)}return t.$inject=["$scope","$log","$element","lodash","HostLocationService","LocationService","ModalService"],a(t,[{key:"$onInit",value:function(){this.ModalService.registerModal(this)}},{key:"onNewHostLocationChange",value:function(t){var n=/[0-9]{3}-*[0-9]{3}-*[0-9]{4}/;this.newHostLocation=t,t.location.phone&&t.location.phone.match(n)&&t.location.address&&t.location.city&&t.location.state&&t.location.postal?this.newHostLocationInvalid=!1:this.newHostLocationInvalid=!0}},{key:"closeModal",value:function(){this.ModalService.setModalState("closed",this.name)}},{key:"confirmModal",value:function(){2==this.viewState?this.LocationService.create(this.newHostLocation.location):this.ModalService.setModalState("confirmed",this.name,this.selectedLocation)}}]),t}()}},function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.template='\n  <div class="main-modal-wrapper">\n    <div class="main-modal-container">\n\n      <div class="main-modal-header">\n        <h3>Hosting Locations</h3>\n      </div>\n\n      <div class="main-modal-content">\n        <ul ng-show="$ctrl.viewState==1">\n          <li ng-repeat="host_loc in $ctrl.hostLocations">\n            <a href ng-click="$ctrl.selectedLocation = host_loc.location" ng-class="{\'selected\' : $ctrl.selectedLocation.id==host_loc.location.id}">\n              <span class="badge fa fa-asterisk" ng-show="host_loc.primary"></span>\n              <span>{{host_loc.location.to_short_string}}</span>\n            </a>\n          </li>\n        </ul>\n        <host-location-form\n          check-action="$ctrl.onNewHostLocationChange(host_location)"\n          ng-show="$ctrl.viewState==2">\n        </host-location-form>\n      </div>\n\n      <div class="main-modal-footer">\n        <span>&nbsp;</span>\n        <div>\n          <button ng-click="$ctrl.closeModal()"><span class="fa fa-times"></span></button>\n          <button ng-click="$ctrl.viewState=2" ng-if="$ctrl.viewState==1"><span class="fa fa-plus"></span></button>\n          <button ng-click="$ctrl.viewState=1" ng-if="$ctrl.viewState==2"><span class="fa fa-arrow-left"></span></button>\n          <button ng-click="$ctrl.confirmModal()" ng-if="$ctrl.viewState==1"><span class="fa fa-check"></span></button>\n          <button\n            ng-click="$ctrl.confirmModal()"\n            ng-if="$ctrl.viewState==2"\n            ng-disabled="$ctrl.newHostLocationInvalid">\n              <span class="fa fa-check"></span>\n          </button>\n        </div>\n      </div>\n\n    </div>\n  </div>\n'},function(t,n,e){"use strict";function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{
value:!0}),n.InvitationDetailModalComponent=void 0;var a=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),s=e(23);n.InvitationDetailModalComponent={template:s.template,controller:function(){function t(n,e,a,s,o,r,c,l){"ngInject";var d=this;i(this,t),this.$log=e,this.name="invitation-detail-modal",this.AlertsService=o,this.ModalService=r,this.GuestService=c,this.NotificationsService=l,this.modalState="closed",this.invitation=null;var u=a.find(".main-modal-container"),g=s.$on("modal-state-change-event",function(t,n){n.name==d.name&&("open"==n.state?(d.invitation=n.data,TweenMax.to(a,.5,{autoAlpha:1}),TweenMax.from(u,.3,{transform:"scale(.5)"})):(d.invitation=null,TweenMax.to(a,.5,{autoAlpha:0})))});n.$on("destroy",g)}return t.$inject=["$scope","$log","$element","$rootScope","AlertsService","ModalService","GuestService","NotificationsService"],a(t,[{key:"$onInit",value:function(){this.ModalService.registerModal(this)}},{key:"closeModal",value:function(){this.ModalService.setModalState("closed",this.name)}},{key:"confirmModal",value:function(){this.ModalService.setModalState("confirmed",this.name,this.invitation)}},{key:"confirmInvitation",value:function(){var t=this;this.GuestService.confirmInvitation(this.invitation.tasting.id).then(function(){t.NotificationsService.setNotification("You're in! Your confirmation has been emailed to the host."),t.confirmModal()})["catch"](function(){t.AlertsService.setFailureAlert("Sorry, we didn't quite get that right. Please try again later.")})}},{key:"denyInvitation",value:function(){var t=this;this.GuestService.denyInvitation(this.invitation.tasting.id).then(function(){t.NotificationsService.setNotification("Maybe next time. The host has been notified."),t.confirmModal()})["catch"](function(){t.AlertsService.setFailureAlert("Sorry, we didn't quite get that right. Please try again later or email the host directly.")})}}]),t}()}},function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.template='\n<div class="main-modal-wrapper">\n  <div class="main-modal-container">\n    <div class="main-modal-header">\n      <h3>{{$ctrl.invitation.tasting.name}}</h3>\n    </div>\n    <div class="main-modal-content">\n      <div class="body">\n        <p>Hosted by: {{$ctrl.invitation.tasting.host.taster.name}}<br>\n        {{$ctrl.invitation.tasting.location.phone}}<br>\n        {{$ctrl.invitation.tasting.location.address}}<br>\n        <span ng-show="$ctrl.invitation.tasting.location.address2">{{$ctrl.invitation.tasting.location.address2}}<br></span>\n        {{$ctrl.invitation.tasting.location.city}}, {{$ctrl.invitation.tasting.location.state}} {{$ctrl.invitation.tasting.location.postal}}\n        </p>\n        <p>{{$ctrl.invitation.tasting.open_at | utcToLocalDate:"lll"}}</p>\n        <p ng-show="$ctrl.invitation.tasting.description">{{$ctrl.invitation.tasting.description}}</p>\n      </div>\n    </div>\n    <div class="main-modal-footer">\n      <span>&nbsp;</span>\n      <div>\n        <button ng-click="$ctrl.closeModal()"><span class="fa fa-times"></span></button>\n        <button ng-click="$ctrl.denyInvitation()"><span class="fa fa-thumbs-down"></span></button>\n        <button ng-click="$ctrl.confirmInvitation()"><span class="fa fa-thumbs-up"></span></button>\n      </div>\n    </div>\n  </div>\n</div>\n'},function(t,n,e){"use strict";function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationComponent=void 0;var a=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),s=e(25);n.NotificationComponent={template:s.template,controller:function(){function t(n,e,a,s){"ngInject";var o=this;i(this,t),this.$log=e,this.$element=a,this.NotificationsService=s,this.message=null;var r=n.$on("set-notifications-event",function(t,n){o.message=n}),c=n.$on("end-notifications-event",function(){o.message=null});n.$on("$destroy",r),n.$on("$destroy",c)}return t.$inject=["$scope","$log","$element","NotificationsService"],a(t,[{key:"$onInit",value:function(){this.message=this.NotificationsService.message}}]),t}()}},function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.template='\n<div class="notification-wrapper" ng-class="{on:$ctrl.message}">\n  <p>{{$ctrl.message}}</p>\n</div>\n'},function(t,n,e){"use strict";function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.MobileNavComponent=void 0;var a=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),s=e(27);n.MobileNavComponent={bindings:{signedIn:"<",isHost:"<"},template:s.template,controller:function(){function t(n,e,a){"ngInject";i(this,t),this.$scope=n,this.$log=e,this.UserService=a,this.navOn=!1}return t.$inject=["$scope","$log","UserService"],a(t,[{key:"signoutUser",value:function(){this.UserService.signoutUser()}},{key:"backgroundClick",value:function(){this.navOn&&(this.navOn=!1)}}]),t}()}},function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.template='\n<div class="nav-wrapper" ng-class="{on:$ctrl.navOn}" ng-click="$ctrl.backgroundClick();">\n  <nav ng-class="{\'off\':!$ctrl.navOn, \'on\':$ctrl.navOn}">\n    <a ui-sref=\'welcome-signin\' ng-if="!$ctrl.signedIn">Sign In/Up<span class="fas fa-sign-in-alt"></span></a>\n    <a ng-click="$ctrl.signoutUser()" ng-if="$ctrl.signedIn">Sign Out<span class="fas fa-sign-out-alt"></span></a>\n    <a ui-sref=\'dashboard\' ng-if="$ctrl.signedIn">Dashboard<span class="fas fa-tachometer-alt"></span></a>\n    <a ui-sref=\'welcome-why\' ng-if="!$ctrl.signedIn">Why Yno<span class="fas fa-question"></span></a>\n    <a ui-sref=\'welcome-who\' ng-if="!$ctrl.signedIn">Who can Yno<span class="fas fa-users"></span></a>\n    <a ui-sref=\'welcome-how\' >How to Yno<span class="fas fa-wine-glass"></a>\n    <a ui-sref=\'tasting-new\' ng-if="$ctrl.signedIn && $ctrl.isHost">Host New Tasting</a>\n    <a href="http://ynoguy.com" target=\'_blank\'>Blog</a>\n    <a href >Contact</a>\n    <a ui-sref=\'welcome-privacy\' >Privacy</a>\n  </nav>\n  <a class="nav-button" href ng-click="$ctrl.navOn=!$ctrl.navOn; $event.stopPropagation()">\n    <img src=\'assets/images/yno_icon_white.svg\'>\n  </a>\n</div>\n\n'},function(t,n,e){"use strict";function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.ProgressBarComponent=void 0;var a=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),s=e(29);n.ProgressBarComponent={bindings:{value:"<"},template:s.template,controller:function(){function t(n,e){"ngInject";i(this,t),this.$log=n,this.$track=e.find(".track")}return t.$inject=["$log","$element"],a(t,[{key:"$onChanges",value:function(t){TweenMax.to(this.$track,1,{width:Math.ceil(100*t.value.currentValue)+"%"})}},{key:"$onInit",value:function(){}}]),t}()}},function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.template='\n\n  <div class="track" ng-style="{width: $ctrl.progress_percent}"></div>\n  <span class="label">{{(100*$ctrl.value) | number:0}}%</span>\n\n'},function(t,n,e){"use strict";function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.ShowGuestModalComponent=void 0;var a=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),s=e(31);n.ShowGuestModalComponent={template:s.template,controller:function(){function t(n,e,a,s,o,r){"ngInject";var c=this;i(this,t),this.$log=e,this.name="show-guest-modal",this.GuestService=r,this.ModalService=o,this.modalState="closed",this.guest=null;var l=a.find(".main-modal-container"),d=s.$on("modal-state-change-event",function(t,n){n.name==c.name&&("open"==n.state?(c.GuestService.show(n.data.id).then(function(t){c.guest=t}),TweenMax.to(a,.5,{autoAlpha:1}),TweenMax.from(l,.3,{transform:"scale(.5)"})):TweenMax.to(a,.5,{autoAlpha:0,onComplete:function(){c.user={},c.viewState=1,c.result={}}}))});n.$on("$destroy",d)}return t.$inject=["$scope","$log","$element","$rootScope","ModalService","GuestService"],a(t,[{key:"$onInit",value:function(){this.ModalService.registerModal(this)}},{key:"closeModal",value:function(){this.ModalService.setModalState("closed",this.name)}},{key:"confirmModal",value:function(){this.ModalService.setModalState("confirmed",this.name,this.user)}}]),t}()}},function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.template='\n<div class="main-modal-wrapper">\n  <div class="main-modal-container">\n    <div class="main-modal-header">\n      <h3>Guest Detail</h3>\n    </div>\n    <div class="main-modal-content">\n      <table>\n        <tr>\n          <td>Name:</td>\n          <td>{{$ctrl.guest.taster.name}}</td>\n        </tr>\n        <tr>\n          <td>Handle:</td>\n          <td>{{$ctrl.guest.taster.handle}}</td>\n        </tr>\n        <tr>\n          <td>Tastings:</td>\n          <td>{{$ctrl.guest.taster.tasting_count}}</td>\n        </tr>\n        <tr>\n          <td>Reviews:</td>\n          <td>{{$ctrl.guest.taster.review_count}}</td>\n        </tr>\n      </table>\n    </div>\n    <div class="main-modal-footer">\n      <div>&nbsp;</div>\n      <div>\n        <button ng-click="$ctrl.closeModal()"><span class="fa fa-times"></span></button>\n      </div>\n    </div>\n  </div>\n</div>\n'},function(t,n,e){"use strict";function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.SortBarComponent=void 0;var a=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),s=e(33);n.SortBarComponent={bindings:{fields:"<",selectAction:"&"},template:s.template,controller:function(){function t(n){"ngInject";i(this,t),this.$log=n}return t.$inject=["$log"],a(t,[{key:"$onInit",value:function(){}}]),t}()}},function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.template='\n\n  <a class="sort-field" href\n    ng-repeat="field in $ctrl.fields"\n    ng-click="$ctrl.selectAction({field:field})"\n    ng-class="{\'disabled\':field.selected}">\n      {{field.name}}\n  </a>\n\n'},function(t,n,e){"use strict";function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.StateSelectorModalComponent=void 0;var a=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),s=e(35);n.StateSelectorModalComponent={template:s.template,controller:function(){function t(n,e,a,s,o){"ngInject";var r=this;i(this,t),this.$log=e,this.name="state-selector-modal",this.ModalService=o,this.modalState="closed",this.states=[{code:"AL",name:"Alabama"},{code:"AK",name:"Alaska"},{code:"AZ",name:"Arizona"},{code:"AR",name:"Arkansas"},{code:"CA",name:"California"},{code:"CO",name:"Colorado"},{code:"CT",name:"Connecticut"},{code:"DE",name:"Delaware"},{code:"DC",name:"District Of Columbia"},{code:"FL",name:"Florida"},{code:"GA",name:"Georgia"},{code:"HI",name:"Hawaii"},{code:"ID",name:"Idaho"},{code:"IL",name:"Illinois"},{code:"IN",name:"Indiana"},{code:"IA",name:"Iowa"},{code:"KS",name:"Kansas"},{code:"KY",name:"Kentucky"},{code:"LA",name:"Louisiana"},{code:"ME",name:"Maine"},{code:"MD",name:"Maryland"},{code:"MA",name:"Massachusetts"},{code:"MI",name:"Michigan"},{code:"MN",name:"Minnesota"},{code:"MS",name:"Mississippi"},{code:"MO",name:"Missouri"},{code:"MT",name:"Montana"},{code:"NE",name:"Nebraska"},{code:"NV",name:"Nevada"},{code:"NH",name:"New Hampshire"},{code:"NJ",name:"New Jersey"},{code:"NM",name:"New Mexico"},{code:"NY",name:"New York"},{code:"NC",name:"North Carolina"},{code:"ND",name:"North Dakota"},{code:"OH",name:"Ohio"},{code:"OK",name:"Oklahoma"},{code:"OR",name:"Oregon"},{code:"PA",name:"Pennsylvania"},{code:"RI",name:"Rhode Island"},{code:"SC",name:"South Carolina"},{code:"SD",name:"South Dakota"},{code:"TN",name:"Tennessee"},{code:"TX",name:"Texas"},{code:"UT",name:"Utah"},{code:"VT",name:"Vermont"},{code:"VA",name:"Virginia"},{code:"WA",name:"Washington"},{code:"WV",name:"West Virginia"},{code:"WI",name:"Wisconsin"},{code:"WY",name:"Wyoming"}];var c=a.find(".main-modal-container"),l=s.$on("modal-state-change-event",function(t,n){n.name==r.name&&(r.modalState=n.state,"open"==n.state?(TweenMax.to(a,.5,{autoAlpha:1}),TweenMax.from(c,.3,{transform:"scale(.5)"})):TweenMax.to(a,.5,{autoAlpha:0}))});n.$on("destroy",l)}return t.$inject=["$scope","$log","$element","$rootScope","ModalService"],a(t,[{key:"$onInit",value:function(){this.ModalService.registerModal(this)}},{key:"selectState",value:function(t){this.ModalService.setModalState("confirmed",this.name,t)}}]),t}()}},function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.template='\n<div class="main-modal-wrapper">\n  <div class="main-modal-container">\n    <div class="main-modal-content">\n      <ul>\n        <li ng-repeat="state in $ctrl.states">\n          <a href ng-click="$ctrl.selectState(state)">\n            <span>{{state.name}}</span>\n          </a>\n        </li>\n      </ul>\n    </div>\n  </div>\n</div>\n'},function(t,n,e){"use strict";function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.TasterPanelComponent=void 0;var a=e(37);n.TasterPanelComponent={bindings:{taster:"<",tasterNumber:"<"},template:a.template,controller:["$log",function s(t){"ngInject";i(this,s),this.$log=t}]}},function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.template='\n<div class="taster-panel">\n  <a class="taster-panel-circle" ui-sref=\'user\'>\n    <div class="taster-panel-content-wrapper">\n      <div class="taster-panel-content">\n        <div class="taster-panel-content-left">\n          <div class="taster-number" ng-if="$ctrl.tasterNumber>0">{{ $ctrl.tasterNumber }}</div>\n          <div ng-if="!$ctrl.tasterNumber"><span class="fas fa-user-circle"></span></div>\n        </div>\n        <div class="taster-panel-content-right">\n          <h3>{{ $ctrl.taster.name }} <span ng-if="$ctrl.tasterIsHost">(Host)</span></h3>\n          <p ng-if=\'$ctrl.taster.handle\'>“{{$ctrl.taster.handle}}”</p>\n        </div>\n      </div>\n    </div>\n  </a>\n</div>\n'},function(t,n,e){"use strict";function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.TastingListItemComponent=void 0;var a=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),s=e(39);n.TastingListItemComponent={bindings:{tasting:"<",editable:"<",selectAction:"&"},template:s.template,controller:function(){function t(n,e){"ngInject";i(this,t),this.$log=n,this.$state=e}return t.$inject=["$log","$state"],a(t,[{key:"$onInit",value:function(){}}]),t}()}},function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.template='\n<a class="tasting-list-item-link" href\n  ng-click="$ctrl.selectAction()">\n  <div class="tasting-list-item-date"\n    ng-class="{\'pending\':$ctrl.tasting.is_pending, \'open\':$ctrl.tasting.is_open, \'closed\':$ctrl.tasting.is_closed}">\n    <span>{{ $ctrl.tasting.open_at | utcToLocalDate:"MMM-D" }}</span>\n    <span>{{ $ctrl.tasting.open_at | utcToLocalDate:"h:mm a" }}</span>\n  </div>\n  <div class="tasting-list-item-title">\n    <span>{{$ctrl.tasting.name}}</span>\n    <span><em>- hosted by {{$ctrl.tasting.host.taster.name}}</em></span>\n  </div>\n</a>\n<button class="small-btn"\n  ng-click="$ctrl.editTasting()"\n  ng-show="$ctrl.editable">\n  <span class="fa fa-pencil"></span>\n</button>\n'},function(t,n,e){"use strict";function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.TastingDetailComponent=void 0;var a=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),s=e(41);n.TastingDetailComponent={bindings:{taster:"<",tasting:"<",tasterIsHost:"<"},template:s.template,controller:function(){function t(n,e,a,s,o,r,c,l,d,u,g,p){"ngInject";var v=this;i(this,t),this.$log=e,this.AlertsService=r,this.GuestService=c,this.ModalService=l,this.NotificationsService=d,this.TastingService=u,this.TastingWineService=g,this.WineService=p,this.openViewState=!1,this.openViewLabel="Taster View",this.displayTime=null,this.completeNotice=!1,this.wait=!1;var h=function(){v.tasting.is_pending?(v.displayTime="Starts "+a("utcToLocalTimeFromNowFilter")(v.tasting.open_at),moment(v.tasting.open_at).diff(moment(),"seconds")<0&&o.reload()):v.tasting.is_open?v.tasting.close_at?(v.displayTime="Closes "+a("utcToLocalTimeFromNowFilter")(v.tasting.close_at),moment(v.tasting.close_at).diff(moment(),"seconds")<0&&(v.tasterIsHost?(v.tasting.closed_at=moment(),v.TastingService.updateTasting(v.tasting),s.cancel(m)):o.reload())):v.displayTime="Opened "+a("utcToLocalTimeFromNowFilter")(v.tasting.open_at):v.tasting.is_completed?(v.displayTime="Completed "+a("utcToLocalDate")(v.tasting.completed_at),s.cancel(m)):(v.displayTime="Closed "+a("utcToLocalTimeFromNowFilter")(v.tasting.closed_at),s.cancel(m))},m=s(h,1e3),f=n.$on("destroy-guest-event",function(t,n){if(n.taster_id==v.tasting.host.taster_id)o.reload();else{v.tasterIsHost&&n.taster.id!=v.taster.id?v.NotificationsService.setNotification("Cancellation emailed to "+n.taster.name):v.tasterIsHost||v.NotificationsService.setNotification("Cancellation emailed to host");for(var e=0;e<v.tasting.guests.length;e++)if(v.tasting.guests[e].id==n.id){v.tasting.guests.splice(e,1);break}}}),w=n.$on("end-alerts-event",function(t,n){"destroyGuest"==n.code&&"confirm"==n.action&&v.destroyGuest(n.data),"destroyTastingWine"==n.code&&(n.data.wait=!1,"confirm"==n.action&&v.destroyTastingWine(n.data)),"cancelTasting"==n.code&&"confirm"==n.action&&(v.wait=!0,v.TastingService.destroyTasting(v.tasting.id)),"closeTasting"==n.code&&"confirm"==n.action&&(v.wait=!0,v.tasting.closed_at=moment(),v.TastingService.updateTasting(v.tasting)),"openTasting"==n.code&&"confirm"==n.action&&(v.wait=!0,v.tasting.open_at=moment(),v.TastingService.updateTasting(v.tasting))}),$=n.$on("invite-taster-event",function(t,n){v.NotificationsService.setNotification("Invitation emailed to "+n.taster.full_handle),v.tasting.guests.unshift(n)}),b=n.$on("tasting-wine-create-event",function(t,n){v.tasting.tasting_wines.push(n)}),y=n.$on("tasting-wine-destroy-event",function(t,n){v.NotificationsService.setNotification("All reviews removed for "+n.wine.full_name);for(var e=0;e<v.tasting.tasting_wines.length;e++)v.tasting.tasting_wines[e].id==n.id&&v.tasting.tasting_wines.splice(e,1)}),S=n.$on("update-tasting-event",function(t,n){v.wait=!1,v.tasting=n,h()}),_=n.$on("wine-review-update-event",function(){v.TastingService.getTasting(v.tasting.id).then(function(t){v.tasting=t,!v.completeNotice&&v.allWinesRevealed()&&(v.completeNotice=!0,v.AlertsService.setConfirmationAlert("You have revealed all your wines. Press 'Complete Tasting' to commit your research!"))})});n.$on("$destroy",f),n.$on("$destroy",w),n.$on("$destroy",$),n.$on("$destroy",b),n.$on("$destroy",y),n.$on("$destroy",S),n.$on("$destroy",_),n.$on("$destroy",function(){s.cancel(m)})}return t.$inject=["$scope","$log","$filter","$interval","$state","AlertsService","GuestService","ModalService","NotificationsService","TastingService","TastingWineService","WineService"],a(t,[{key:"$onInit",value:function(){this.tasting.is_pending||(this.tasterIsHost&&this.tasting.host_is_not_tasting&&this.toggleOpenViewState(),this.allWinesRevealed()&&(this.completeNotice=!0))}},{key:"allWinesRevealed",value:function(){for(var t=0;t<this.tasting.taster_wine_reviews.length;t++)if(!this.tasting.taster_wine_reviews[t].wine_id)return!1;return!0}},{key:"attemptCancelTasting",value:function(){this.AlertsService.setWarningAlert("Are you sure you want to cancel tasting? Confirming will remove tasting from system and email all guests that is cancelled","cancelTasting")}},{key:"attemptCloseTasting",value:function(){var t="Are you sure you want to close this tasting? Progress is currently at "+Math.ceil(100*this.tasting.tasting_progress)+"% and reviews will no longer be accepted.";this.AlertsService.setWarningAlert(t,"closeTasting")}},{key:"attemptDestroyGuest",value:function(t){this.taster.id==t.taster_id?this.AlertsService.setWarningAlert("Are you sure you want to remove yourself from this tasting? All your wine reviews will be lost.","destroyGuest",t):this.AlertsService.setWarningAlert("Are you sure you want to delete "+t.taster.name+" and all their reviews from this tasting?","destroyGuest",t)}},{key:"attemptDestroyTastingWine",value:function(t){t.wait=!0,this.AlertsService.setWarningAlert("Are you sure you want to delete wine "+t.wine.full_name+" and all its reviews from this tasting?","destroyTastingWine",t)}},{key:"attemptOpenTasting",value:function(){this.AlertsService.setWarningAlert("Are you sure you want to open tasting? Confirming means all your tasters are present and ready to begin","openTasting")}},{key:"completeTasting",value:function(){this.tasting.completed_at=moment(),this.TastingService.updateTasting(this.tasting)}},{key:"destroyGuest",value:function(t){this.GuestService.destroy(t.id)}},{key:"destroyTastingWine",value:function(t){this.TastingWineService.destroy(t)}},{key:"openGuestModal",value:function(){this.ModalService.setModalState("open","add-guest-modal")}},{key:"openTastingDetailModal",value:function(){this.ModalService.setModalState("open","tasting-detail-modal")}},{key:"openWineReviewStatusModal",value:function(t){this.ModalService.setModalState("open","wine-review-status-modal",t.id)}},{key:"openTastingWineModal",value:function(){this.ModalService.setModalState("open","tasting-wine-modal")}},{key:"openWineInfoModal",value:function(t){this.ModalService.setModalState("open","wine-info-modal",t)}},{key:"openWineReviewModal",value:function(t){this.ModalService.setModalState("open","wine-review-modal",t)}},{key:"openWineRevealModal",value:function(t){this.tasterIsHost&&this.ModalService.setModalState("open","wine-reveal-modal",t)}},{key:"showGuest",value:function(t){this.ModalService.setModalState("open","show-guest-modal",t)}},{key:"toggleOpenViewState",value:function(){this.openViewState=!this.openViewState,this.openViewState?this.openViewLabel="Tasting View":this.openViewLabel="Taster View"}}]),t}()}},function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.template='\n\n  <div class=\'tasting-detail-container\' ng-if="$ctrl.tasting.is_pending">\n    <div class="tasting-detail-info">\n      <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n         width="366.182px" height="366.182px" viewBox="0 0 366.182 366.182" style="enable-background:new 0 0 366.182 366.182;"\n         xml:space="preserve">\n        <g>\n          <g>\n            <path fill="#fff" d="M261.39,168.768c19.439-20.182,28.627-44.058,25.867-67.229c-1.263-10.604-7.755-34.217-15.79-57.423\n              c-4.032-11.646-7.924-21.604-11.254-28.793C254.974,4.01,251.488,0,246.899,0H119.287c-4.591,0-8.074,4.01-13.314,15.323\n              c-3.33,7.19-7.222,17.146-11.254,28.793c-8.034,23.206-14.527,46.818-15.789,57.423c-5.785,48.574,41.113,93.064,88.259,102.289\n              c0.609,8.4,1.16,31.939,0.841,59.988c-0.514,45.139-2.784,61.541-4.021,64.074c-1.849,3.256-12.858,7.672-29.624,9.439\n              l-0.467,0.049c-8.963,0.943-25.647,2.703-25.647,16.01c0,6.34,2.987,9.402,5.492,10.855c2.938,1.703,6.455,1.938,9.819,1.938\n              c0.872,0,1.781-0.016,2.719-0.033c0.932-0.018,1.894-0.035,2.878-0.035H237.01c0.983,0,1.945,0.018,2.877,0.035\n              c0.938,0.018,1.848,0.033,2.72,0.033c3.787,0,15.313,0,15.313-12.793c0-13.307-16.686-15.066-25.648-16.01l-0.469-0.049\n              c-16.766-1.77-27.774-6.184-29.597-9.393c-1.269-2.613-3.452-19.045-3.602-64.057c-0.095-28.908,0.736-52.332,1.501-60.404\n              C222.271,198.639,244.937,185.848,261.39,168.768z M187.601,262.764c0.101,41.135,1.785,64.873,5.012,70.557\n              c5.743,10.121,26.296,13.709,38.033,14.947l0.472,0.049c4.729,0.5,15.802,1.666,15.802,5.072c0,0.783-0.09,1.211-0.146,1.404\n              c-0.375,0.152-1.402,0.389-4.167,0.389c-0.807,0-1.648-0.016-2.517-0.033c-0.996-0.018-2.026-0.037-3.08-0.037h-53.536h-54.295\n              c-1.054,0-2.084,0.02-3.081,0.037c-0.868,0.018-1.709,0.033-2.516,0.033c-2.763,0-3.79-0.236-4.165-0.389\n              c-0.058-0.193-0.146-0.621-0.146-1.406c0-3.406,11.072-4.572,15.801-5.07l0.469-0.049c11.738-1.238,32.289-4.826,38.035-14.949\n              c1.193-2.102,4.823-8.498,5.47-70.788c0.152-14.737,0.076-30.267-0.209-42.606c-0.472-20.396-1.172-21.842-1.789-23.117\n              c-0.825-1.701-2.406-2.883-4.229-3.162c-21.24-3.258-43.567-15.155-59.725-31.825c-17.38-17.933-25.634-38.879-23.24-58.981\n              c2.442-20.509,23.675-83.082,30.964-91.84h124.557c7.289,8.759,28.521,71.333,30.964,91.84\n              c5.067,42.551-39.031,82.894-81.847,90.539c-1.834,0.328-3.356,1.52-4.179,3.268C187.488,202.657,187.595,260.312,187.601,262.764\n              z"/>\n            <path fill="#fff" d="M244.876,152.387c7.387-8.986,13.278-16.938,14.321-27.506c0.086-0.874,0.229-4-2.657-4\n              c-36.54,0-110.438,0.014-146.979,0.014c-3.159,0-2.665,3.056-2.574,3.986c1.056,10.84,7.114,19.048,14.765,28.241\n              c12.812,15.393,29.63,25.398,48.34,26.765c3.171,0.232,8.396,0.375,13.635,0.375c4.988,0,9.529-0.133,12.146-0.356\n              C214.984,178.276,232.051,167.988,244.876,152.387z"/>\n          </g>\n        </g>\n      </svg>\n      <h3>{{ $ctrl.tasting.name }}</h3>\n      <button class="small-btn"\n        ng-if="$ctrl.tasterIsHost"\n        ng-click="$ctrl.openTastingDetailModal()">\n        <span class="fa fa-pencil"></span>\n      </button>\n      <div class="status pending">{{$ctrl.displayTime}}</div>\n      <h3>{{$ctrl.tasting.name}}</h3>\n      <div class="details">\n        <p>\n          <span class="subtitle">Hosted by:<br/></span>\n          {{$ctrl.tasting.host.taster.name}}<br/>\n          {{$ctrl.tasting.location.phone}}<br/>\n          {{$ctrl.tasting.location.address}}<span ng-show="$ctrl.tasting.location.address2"> {{$ctrl.tasting.location.address2}}</span><br/>\n          {{$ctrl.tasting.location.city}}, {{$ctrl.tasting.location.state}} {{$ctrl.tasting.location.postal}}\n        </p>\n        <p ng-show="$ctrl.tasting.description">\n          <span class="subtitle">Description:<br/></span>\n          {{$ctrl.tasting.description}}\n        </p>\n      </div>\n      <div class="pending-btns">\n        <button class="text-btn"\n          ng-click="$ctrl.attemptOpenTasting()"\n          ng-if="$ctrl.tasterIsHost">\n            Open Tasting\n        </button>\n        <button class="text-btn"\n          ng-click="$ctrl.attemptCancelTasting()"\n          ng-if="$ctrl.tasterIsHost">\n            Cancel Tasting\n        </button>\n      </div>\n    </div>\n    <div>\n      <h3>Wines <button class="small-btn" ng-show="$ctrl.tasterIsHost" ng-click="$ctrl.openTastingWineModal()"><span class="fa fa-plus"></span></button></h3>\n      <wine-list-item\n        ng-repeat="wine in $ctrl.tasting.tasting_wines"\n        wine-item="wine"\n        wine-view="tastingPending"\n        editable="$ctrl.tasterIsHost"\n        delete-action="$ctrl.attemptDestroyTastingWine(wine)"\n        select-action="$ctrl.openWineInfoModal(wine)">\n      </wine-list-item>\n    </div>\n    <div>\n      <h3>Guests <button class="small-btn" ng-show="$ctrl.tasterIsHost"><span class="fa fa-plus" ng-click="$ctrl.openGuestModal()"></span></button></h3>\n      <guest-list-item\n        ng-repeat="guest in $ctrl.tasting.guests"\n        guest="guest"\n        editable="$ctrl.tasterIsHost || $ctrl.taster.id==guest.taster_id"\n        delete-action="$ctrl.attemptDestroyGuest(guest)"\n        select-action="$ctrl.showGuest(guest)">\n      </guest-list-item>\n    </div>\n  </div>\n\n  <div class=\'tasting-detail-container\' ng-if="$ctrl.tasting.is_open">\n    <div class="tasting-detail-info">\n      <button class="small-btn"\n        ng-show="$ctrl.tasterIsHost"\n        ng-click="$ctrl.openTastingDetailModal()">\n        <span class="fa fa-pencil"></span>\n      </button>\n\n      <div class="status">{{$ctrl.displayTime}}</div>\n      <h3>{{$ctrl.tasting.name}}</h3>\n      <div class="details">\n        <p>\n          <span class="subtitle">Hosted by:<br/></span>\n          {{$ctrl.tasting.host.taster.name}}<br/>\n          {{$ctrl.tasting.location.phone}}<br/>\n          {{$ctrl.tasting.location.address}}<span ng-show="$ctrl.tasting.location.address2"> {{$ctrl.tasting.location.address2}}</span><br/>\n          {{$ctrl.tasting.location.city}}, {{$ctrl.tasting.location.state}} {{$ctrl.tasting.location.postal}}\n        </p>\n        <p ng-show="$ctrl.tasting.description">\n          <span class="subtitle">Description:<br/></span>\n          {{$ctrl.tasting.description}}\n        </p>\n      </div>\n      <button class="text-btn"\n        ng-click="$ctrl.attemptCloseTasting()"\n        ng-if="$ctrl.tasterIsHost"\n        ng-disabled="$ctrl.tasting.tasting_progress<=0">\n          Close Tasting Now\n      </button>\n    </div>\n    <div>\n      <toggle-switch\n        toggle-trigger="$ctrl.toggleOpenViewState(state)"\n        toggle-state="$ctrl.openViewState"\n        toggle-label="$ctrl.openViewLabel"\n        toggle-disabled="$ctrl.tasterIsHost && $ctrl.tasting.host_is_not_tasting">\n      </toggle-switch>\n    </div>\n    <div ng-if="$ctrl.tasting.tasting_progress>0">\n      <h3>Progress</h3>\n      <progress-bar value="$ctrl.tasting.taster_progress" ng-hide="$ctrl.openViewState"></progress-bar>\n      <progress-bar value="$ctrl.tasting.tasting_progress" ng-show="$ctrl.openViewState"></progress-bar>\n    </div>\n    <div ng-hide="$ctrl.openViewState">\n      <h3>Your Ratings </h3>\n      <wine-list-item\n        ng-repeat="review in $ctrl.tasting.taster_wine_reviews"\n        wine-view="tasterRating"\n        wine-item="review"\n        select-action="$ctrl.openWineReviewModal(review)">\n      </wine-list-item>\n    </div>\n    <div ng-show="$ctrl.openViewState">\n      <h3>Average Ratings</h3>\n      <wine-list-item\n        ng-repeat="review in $ctrl.tasting.taster_wine_reviews"\n        wine-item="review"\n        wine-view="averageRating"\n        select-action="$ctrl.openWineReviewStatusModal(review)">\n      </wine-list-item>\n    </div>\n    <div ng-show="$ctrl.openViewState">\n      <h3>Guests <button class="small-btn" ng-show="$ctrl.tasterIsHost"><span class="fa fa-plus" ng-click="$ctrl.openGuestModal()"></span></button></h3>\n      <guest-list-item\n        ng-repeat="guest in $ctrl.tasting.guests"\n        guest="guest"\n        editable="$ctrl.tasterIsHost || $ctrl.taster.id==guest.taster_id"\n        delete-action="$ctrl.attemptDestroyGuest(guest)"\n        select-action="$ctrl.showGuest(guest)">\n      </guest-list-item>\n    </div>\n  </div>\n\n  <div class=\'tasting-detail-container\' ng-if="$ctrl.tasting.is_closed">\n    <div class="tasting-detail-info">\n      <button class="small-btn"\n        ng-show="$ctrl.tasterIsHost"\n        ng-click="$ctrl.openTastingDetailModal()">\n        <span class="fa fa-pencil"></span>\n      </button>\n      <div class="status closed">{{$ctrl.displayTime}}</div>\n      <h3>{{$ctrl.tasting.name}}</h3>\n      <div class="details">\n        <p>\n          <span class="subtitle">Hosted by:<br/></span>\n          {{$ctrl.tasting.host.taster.name}}<br/>\n          {{$ctrl.tasting.location.phone}}<br/>\n          {{$ctrl.tasting.location.address}}<span ng-show="$ctrl.tasting.location.address2"> {{$ctrl.tasting.location.address2}}</span><br/>\n          {{$ctrl.tasting.location.city}}, {{$ctrl.tasting.location.state}} {{$ctrl.tasting.location.postal}}\n        </p>\n        <p ng-show="$ctrl.tasting.description">\n          <span class="subtitle">Description:<br/></span>\n          {{$ctrl.tasting.description}}\n        </p>\n      </div>\n      <button class="text-btn"\n        ng-click="$ctrl.completeTasting()"\n        ng-if="$ctrl.tasterIsHost"\n        ng-disabled="!$ctrl.completeNotice">\n          Complete Tasting\n      </button>\n    </div>\n    <div>\n      <toggle-switch\n        toggle-trigger="$ctrl.toggleOpenViewState(state)"\n        toggle-state="$ctrl.openViewState"\n        toggle-label="$ctrl.openViewLabel"\n        toggle-disabled="$ctrl.tasterIsHost && $ctrl.tasting.host_is_not_tasting">\n      </toggle-switch>\n    </div>\n    <div ng-hide="$ctrl.openViewState">\n      <h3>Your Ratings </h3>\n      <p ng-if="$ctrl.tasting.taster_wine_reviews==0">no wines selected</p>\n      <wine-list-item\n        wine-item="review"\n        ng-repeat="review in $ctrl.tasting.taster_wine_reviews"\n        wine-view="tasterRating"\n        select-action="$ctrl.openWineReviewModal(review)">\n      </wine-list-item>\n    </div>\n    <div ng-show="$ctrl.openViewState">\n      <h3>Wines</h3>\n      <p ng-if="$ctrl.tasting.tasting_wines==0">no wines selected</p>\n      <wine-list-item\n        ng-repeat="wine in $ctrl.tasting.tasting_wines"\n        ng-show="wine.wine_number"\n        wine-item="wine"\n        wine-view="completed"\n        select-action="$ctrl.openWineRevealModal(review)">\n      </wine-list-item>\n      <wine-list-item\n        ng-repeat="review in $ctrl.tasting.taster_wine_reviews"\n        wine-item="review"\n        wine-view="averageRating"\n        ng-hide="review.wine_id"\n        select-action="$ctrl.openWineRevealModal(review)">\n      </wine-list-item>\n    </div>\n    <div ng-show="$ctrl.openViewState">\n      <h3>Guests</h3>\n      <p ng-if="$ctrl.tasting.guests==0">no guests invited</p>\n      <guest-list-item\n        ng-repeat="guest in $ctrl.tasting.guests"\n        guest="guest"\n        select-action="$ctrl.showGuest(guest)">\n      </guest-list-item>\n    </div>\n  </div>\n\n  <div class=\'tasting-detail-container\' ng-if="$ctrl.tasting.is_completed">\n    <div class="tasting-detail-info">\n      <div class="status completed">{{$ctrl.displayTime}}</div>\n      <h3>{{$ctrl.tasting.name}}</h3>\n      <div class="details">\n        <p>\n          <span class="subtitle">Hosted by:<br/></span>\n          {{$ctrl.tasting.host.taster.name}}<br/>\n          {{$ctrl.tasting.location.phone}}<br/>\n          {{$ctrl.tasting.location.address}}<span ng-show="$ctrl.tasting.location.address2"> {{$ctrl.tasting.location.address2}}</span><br/>\n          {{$ctrl.tasting.location.city}}, {{$ctrl.tasting.location.state}} {{$ctrl.tasting.location.postal}}\n        </p>\n        <p ng-show="$ctrl.tasting.description">\n          <span class="subtitle">Description:<br/></span>\n          {{$ctrl.tasting.description}}\n        </p>\n      </div>\n    </div>\n    <div>\n      <toggle-switch\n        toggle-trigger="$ctrl.toggleOpenViewState(state)"\n        toggle-state="$ctrl.openViewState"\n        toggle-label="$ctrl.openViewLabel"\n        toggle-disabled="$ctrl.tasterIsHost && $ctrl.tasting.host_is_not_tasting">\n      </toggle-switch>\n    </div>\n    <div ng-hide="$ctrl.openViewState">\n      <h3>Your Ratings </h3>\n      <p ng-if="$ctrl.tasting.taster_wine_reviews==0">no wines selected</p>\n      <wine-list-item\n        ng-repeat="review in $ctrl.tasting.taster_wine_reviews"\n        wine-item="review"\n        wine-view="tasterRating"\n        select-action="$ctrl.openWineReviewModal(review)">\n      </wine-list-item>\n    </div>\n    <div ng-show="$ctrl.openViewState">\n      <h3>Average Ratings </h3>\n      <p ng-if="$ctrl.tasting.tasting_wines==0">no wines selected</p>\n      <wine-list-item\n        ng-repeat="wine in $ctrl.tasting.tasting_wines"\n        wine-item="wine"\n        wine-view="completed"\n        select-action="$ctrl.openWineInfoModal(wine)">\n      </wine-list-item>\n    </div>\n    <div ng-show="$ctrl.openViewState">\n      <h3>Guests</h3>\n      <p ng-if="$ctrl.tasting.guests==0">no guests invited</p>\n      <guest-list-item\n        ng-repeat="guest in $ctrl.tasting.guests"\n        guest="guest"\n        select-action="$ctrl.openGuestInfoModal(guest)">\n      </guest-list-item>\n    </div>\n  </div>\n\n\n  <tasting-detail-modal tasting="$ctrl.tasting"></tasting-detail-modal>\n  <add-wine-modal tasting="$ctrl.tasting"></add-wine-modal>\n  <add-guest-modal tasting="$ctrl.tasting"></add-guest-modal>\n  <show-guest-modal></show-guest-modal>\n  <wine-info-modal wine-type="tastingWine"></wine-info-modal>\n  <wine-review-modal tasting="$ctrl.tasting"></wine-review-modal>\n  <wine-review-status-modal></wine-review-status-modal>\n  <wine-reveal-modal tasting-wines="$ctrl.tasting.tasting_wines"></wine-reveal-modal>\n  <alerts-modal></alerts-modal>\n  <notifications></notifications>\n  <wait-state wait-on="$ctrl.wait"></wait-state>\n';
},function(t,n,e){"use strict";function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.TastingDetailModalComponent=void 0;var a=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),s=e(43);n.TastingDetailModalComponent={bindings:{tasting:"<"},template:s.template,controller:function(){function t(n,e,a,s,o,r,c){"ngInject";var l=this;i(this,t),this.$log=e,this._=o,this.name="tasting-detail-modal",this.ModalService=r,this.TastingService=c,this.modalState="closed",this.pending_tasting={},this.minCloseDate=moment(),this.wait=!1;var d=a.find(".main-modal-container"),u=s.$on("modal-state-change-event",function(t,n){n.name==l.name?"open"==n.state?(l.pending_tasting=angular.copy(l.tasting),l.pending_tasting.open_at=moment(l.tasting.open_at,"YYYY-MM-DDTHH:mm:ss.SSSZ").local(),l.tasting.close_at&&(l.pending_tasting.close_at=moment(l.tasting.close_at,"YYYY-MM-DDTHH:mm:ss.SSSZ").local()),l.tasting.closed_at&&(l.pending_tasting.closed_at=moment(l.tasting.closed_at,"YYYY-MM-DDTHH:mm:ss.SSSZ").local()),TweenMax.to(a,.5,{autoAlpha:1}),TweenMax.from(d,.3,{transform:"scale(.5)"})):(l.pending_tasting={},TweenMax.to(a,.5,{autoAlpha:0})):"host-location-modal"==n.name&&"confirmed"==n.state&&(l.pending_tasting.location=n.data,l.pending_tasting.location_id=n.data.id)}),g=n.$on("create-host-location-event",function(t,n){n.primary&&l._.forEach(l.pending_tasting.host.locations,function(t){t.primary=!1}),l.pending_tasting.host.locations.push(n)}),p=n.$on("update-tasting-event",function(t,n){l.wait=!1,l.pending_tasting=n,l.confirmModal()});n.$on("destroy",u),n.$on("destroy",g),n.$on("destroy",p)}return t.$inject=["$scope","$log","$element","$rootScope","lodash","ModalService","TastingService"],a(t,[{key:"$onInit",value:function(){this.ModalService.registerModal(this)}},{key:"closeModal",value:function(){this.ModalService.setModalState("closed",this.name)}},{key:"confirmModal",value:function(){this.ModalService.setModalState("confirm",this.name,this.pending_tasting)}},{key:"updateTasting",value:function(){this.wait=!0,this.TastingService.updateTasting(this.pending_tasting)}},{key:"openHostLocationModal",value:function(){this.ModalService.setModalState("open","host-location-modal")}}]),t}()}},function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.template='\n<div class="main-modal-wrapper">\n  <div class="main-modal-container">\n\n    <div class="main-modal-header">\n      <h3>Tasting Details</h3>\n    </div>\n\n\n    <form name="tastingForm" ng-submit="$ctrl.updateTasting()">\n    <div class="main-modal-content">\n      <div>\n        <div class="main-form-control" ng-class="{\'error\' : newTastingForm.tastingName.$touched && newTastingForm.tastingName.$invalid}">\n          <label><span>Name</span></label>\n          <input name="tastingName" type="text" ng-model="$ctrl.pending_tasting.name" required>\n        </div>\n        <div class="main-form-control"\n          ng-class="{\n            \'error\' : newTastingForm.tastingOpenAt.$touched && newTastingForm.tastingOpenAt.$invalid,\n            \'disabled\' : !$ctrl.pending_tasting.is_pending\n          }">\n          <label><span>Start</span></label>\n          <input name="tastingOpenAt"\n            moment-picker="$ctrl.pending_tasting.open_at"\n            ng-model="$ctrl.pending_tasting.open_at"\n            ng-disabled="!$ctrl.pending_tasting.is_pending"\n            disable="!$ctrl.pending_tasting.is_pending"\n            required>\n        </div>\n        <div class="main-form-control"\n          ng-class="{\'disabled\':$ctrl.pending_tasting.is_closed || $ctrl.pending_tasting.is_completed}">\n          <label><span>End</span><span>(Optional)</span></label>\n          <input name="tastingCloseAt"\n            moment-picker="$ctrl.pending_tasting.close_at"\n            min-date="$ctrl.minCloseDate"\n            ng-model="$ctrl.pending_tasting.close_at"\n            ng-disabled="$ctrl.pending_tasting.is_closed || $ctrl.pending_tasting.is_completed"\n            disable="$ctrl.pending_tasting.is_closed || $ctrl.pending_tasting.is_completed">\n        </div>\n        <div class="main-form-control">\n          <label><span>Details</span><span>(Optional)</span></label>\n          <textarea name="tastingDescription" type="text" ng-model="$ctrl.pending_tasting.description"></textarea>\n        </div>\n        <div class="main-form-control"\n          ng-class="{\n            \'error\' : newTastingForm.tastingLocation.$touched && newTastingForm.tastingLocation.$invalid,\n            \'disabled\' : !$ctrl.pending_tasting.is_pending\n          }">\n          <label><span>Location</span></label>\n          <input type="hidden" ng-model="$ctrl.pending_tasting.location.id"></input>\n          <textarea name="tastingLocation" type="text" required\n            ng-focus="$ctrl.openHostLocationModal()"\n            ng-readonly="true"\n            ng-model="$ctrl.pending_tasting.location.to_short_string"\n            ng-disabled="!$ctrl.pending_tasting.is_pending">\n          </textarea>\n        </div>\n      </div>\n    </div>\n\n    <div class="main-modal-footer">\n      <div>&nbsp;</div>\n      <div>\n        <button type="button" ng-click="$ctrl.closeModal()"><span class="fa fa-times"></span></button>\n        <button type="submit"><span class="fa fa-check"></span></button>\n      </div>\n    </div>\n    </form>\n\n  </div>\n</div>\n\n<host-location-modal host-locations="$ctrl.pending_tasting.host.locations" selected-location="$ctrl.pending_tasting.location"></host-location-modal>\n<wait-state wait-on="$ctrl.wait"></wait-state>\n'},function(t,n,e){"use strict";function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.ToggleSwitchComponent=void 0;var a=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),s=e(45);n.ToggleSwitchComponent={bindings:{toggleTrigger:"&",toggleState:"<",toggleLabel:"<",toggleDisabled:"<",toggleStyle:"<"},template:s.template,controller:function(){function t(n,e){"ngInject";i(this,t),this.$log=n,this.$button=e.find("button"),this.$knob=e.find(".toggle-knob"),this.$span=e.find("span")}return t.$inject=["$log","$element"],a(t,[{key:"$onInit",value:function(){}},{key:"$onChanges",value:function(t){t.toggleState&&(t.toggleState.currentValue?this.$button.css("justify-content","flex-end"):this.$button.css("justify-content","flex-start")),t.toggleDisabled,t.toggleLabel&&t.toggleLabel.currentValue&&TweenMax.fromTo(this.$span,.8,{opacity:0},{opacity:1})}}]),t}()}},function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.template='\n\n<button\n  ng-class="$ctrl.toggleStyle"\n  ng-click="$ctrl.toggleTrigger()"\n  ng-disabled="$ctrl.toggleDisabled">\n  <div class="toggle-knob"></div>\n</button>\n<span ng-if="$ctrl.toggleLabel">{{$ctrl.toggleLabel}}</span>\n\n'},function(t,n,e){"use strict";function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.WaitStateComponent=void 0;var a=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),s=e(47);n.WaitStateComponent={bindings:{waitOn:"<"},template:s.template,controller:function(){function t(n,e,a){"ngInject";var s=this;i(this,t),this.$log=n,this.$element=e;var o=a.$on("service-complete-event",function(){s.waitOn=!1}),r=a.$on("service-init-event",function(){s.waitOn=!0});a.$on("$destroy",o),a.$on("$destroy",r)}return t.$inject=["$log","$element","$scope"],a(t,[{key:"$onInit",value:function(){}},{key:"$onChanges",value:function(t){t.waitOn&&(t.waitOn.currentValue?this.$element.css("visibility","visible"):this.$element.css("visibility","hidden"))}}]),t}()}},function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.template='\n\n  <span class="fa fa-spinner faa-spin animated"></span>\n\n'},function(t,n,e){"use strict";function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.WineInfoModalComponent=void 0;var a=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),s=e(49);n.WineInfoModalComponent={bindings:{wineType:"@"},template:s.template,controller:function(){function t(n,e,a,s){"ngInject";var o=this;i(this,t),this.$log=e,this.name="wine-info-modal",this.ModalService=s,this.modalState="closed",this.wineContext=null;var r=a.find(".main-modal-container"),c=n.$on("modal-state-change-event",function(t,n){n.name==o.name&&("open"==n.state?(o.wineContext=n.data,TweenMax.to(a,.5,{autoAlpha:1}),TweenMax.from(r,.3,{transform:"scale(.5)"})):(o.wine=null,o.averageRating=3,TweenMax.to(a,.5,{autoAlpha:0})))});n.$on("$destroy",c)}return t.$inject=["$scope","$log","$element","ModalService"],a(t,[{key:"$onInit",value:function(){this.wineType||(this.wineType="wine"),this.ModalService.registerModal(this)}},{key:"closeModal",value:function(){this.ModalService.setModalState("closed",this.name)}},{key:"confirmModal",value:function(t){this.ModalService.setModalState("confirmed",this.name,t)}}]),t}()}},function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.template='\n  <div class="main-modal-wrapper">\n    <div class="main-modal-container">\n      <div class="main-modal-header">\n        <h3>Wine Info</h3>\n      </div>\n      <div class="main-modal-content">\n        <table>\n          <tr>\n            <td>Vintage:</td>\n            <td>{{$ctrl.wineContext.wine.vintage}}</td>\n          </tr>\n          <tr>\n            <td>Name:</td>\n            <td>{{$ctrl.wineContext.wine.name}}</td>\n          </tr>\n          <tr ng-if="$ctrl.wineType==\'wine\'">\n            <td>Reviews Overall:</td>\n            <td>{{$ctrl.wineContext.wine.review_count}}</td>\n          </tr>\n          <tr ng-if="$ctrl.wineType==\'wine\'">\n            <td>Average Rating Overall:</td>\n            <td>{{$ctrl.wineContext.wine.average_rating}}</td>\n          </tr>\n          <tr ng-if="$ctrl.wineType==\'wine\'">\n            <td>Your Reviews:</td>\n            <td>{{$ctrl.wineContext.taster_review_count}}</td>\n          </tr>\n          <tr ng-if="$ctrl.wineType==\'wine\'">\n            <td>Your Average Rating:</td>\n            <td>{{$ctrl.wineContext.taster_average_rating}}</td>\n          </tr>\n          <tr ng-if="$ctrl.wineType==\'wine\'">\n            <td>Last Reviewed:</td>\n            <td>{{$ctrl.wineContext.updated_at | utcToLocalDate:"MMM-YYYY"}}</td>\n          </tr>\n          <tr ng-if="$ctrl.wineType==\'tastingWine\'">\n            <td>Completed Reviews:</td>\n            <td>{{$ctrl.wineContext.completed_review_count}}</td>\n          </tr>\n          <tr ng-if="$ctrl.wineType==\'tastingWine\'">\n            <td>Average Rating:</td>\n            <td>{{$ctrl.wineContext.average_rating}}</td>\n          </tr>\n        </table>\n      </div>\n      <div class="main-modal-footer">\n        <span>&nbsp;</span>\n        <div>\n          <button ng-click="$ctrl.closeModal()"><span class="fa fa-times"></span></button>\n        </div>\n      </div>\n    </div>\n  </div>\n'},function(t,n,e){"use strict";function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.WineListItemComponent=void 0;var a=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),s=e(51);n.WineListItemComponent={bindings:{wineItem:"<",deleteAction:"&",selectAction:"&",editable:"<",wineView:"@"},template:s.template,controller:function(){function t(n,e,a){"ngInject";var s=this;i(this,t),this.$log=n,this.$element=e,this.$progress=e.find(".wine-list-item-progress"),this.$ratingInteger=e.find(".wine-list-item-rating-integer"),this.rating=1;var o=a.$on("wine-review-update-event",function(t,n){s.wineItem.wine_number==n.wine_number&&(s.wineItem.rating=n.rating,s.wineItem.comments=n.comments,s.wineItem.unrated=!1,TweenMax.to(s.$progress,1,{width:100*s.wineItem.rating/5+"%"}),TweenMax.to(s,1,{rating:s.wineItem.rating,onUpdate:s.onUpdateRating.bind(s)}))});a.$on("destroy",o)}return t.$inject=["$log","$element","$scope"],a(t,[{key:"$onInit",value:function(){"averageRating"==this.wineView?(TweenMax.to(this.$progress,1,{width:100*this.wineItem.average_rating/5+"%"}),TweenMax.to(this,1,{rating:this.wineItem.average_rating,onUpdate:this.onUpdateRating.bind(this)})):"tasterRating"==this.wineView&&(TweenMax.to(this.$progress,1,{width:100*this.wineItem.rating/5+"%"}),TweenMax.to(this,1,{rating:this.wineItem.rating,onUpdate:this.onUpdateRating.bind(this)}))}},{key:"onUpdateRating",value:function(){var t=void 0;"averageRating"==this.wineView?(t=Math.round(10*this.rating)/10,Math.round(t)==t&&(t+=".0")):t=Math.round(this.rating),this.$ratingInteger.text(t)}}]),t}()}},function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.template='\n  <a class="wine-list-item-link" href ng-click="$ctrl.selectAction()">\n\n    <!--\n\n      TABS\n\n    -->\n\n    <!-- pending tasting view for wines -->\n    <div class="wine-list-item-tab" ng-if="$ctrl.wineView==\'tastingPending\'">\n      <span>Price</span>\n      <span>${{$ctrl.wineItem.price}}</span>\n    </div>\n\n    <!-- completed tasting view for wines or reveal view -->\n    <div class="wine-list-item-tab" ng-if="$ctrl.wineView==\'completed\' || $ctrl.wineView==\'reveal\'">\n      <span>Wine {{$ctrl.wineItem.wine_number}}</span>\n      <span>{{$ctrl.wineItem.average_rating}}</span>\n    </div>\n\n    <!-- dashboard review list view -->\n    <div class="wine-list-item-tab"\n      ng-class="{good:$ctrl.wineItem.rating>3, fair:$ctrl.wineItem.rating==3, bad:$ctrl.wineItem.rating<3}"\n      ng-if="$ctrl.wineView==\'wines\'">\n      <span>Rating</span>\n      <span>{{$ctrl.wineItem.rating}}</span>\n    </div>\n\n    <!-- open tasting view for taster reviews -->\n    <div class="wine-list-item-tab"\n      ng-class="{\'unrated\':$ctrl.wineItem.unrated}"\n      ng-if="$ctrl.wineView==\'tasterRating\'">\n        <span>Wine</span>\n        <span>{{$ctrl.wineItem.wine_number}}</span>\n    </div>\n\n    <!-- open tasting view for average reviews -->\n    <div class="wine-list-item-tab"\n      ng-if="$ctrl.wineView==\'averageRating\'">\n        <span>Wine</span>\n        <span>{{$ctrl.wineItem.wine_number}}</span>\n    </div>\n\n\n    <!--\n\n      DESCRIPTIONS\n\n    -->\n\n    <!-- pending tasting view for wines or revealed wine view -->\n    <div class="wine-list-item-title" ng-if="$ctrl.wineView==\'tastingPending\' || ($ctrl.wineView==\'reveal\' && $ctrl.wineItem.wine)">{{$ctrl.wineItem.wine.full_name}}</div>\n\n    <!-- completed tasting view for wines or dashboard review list view-->\n    <div class="wine-list-item-title" ng-if="$ctrl.wineView==\'wines\' || $ctrl.wineView==\'completed\'">\n      <span>{{$ctrl.wineItem.wine.full_name}}</span>\n      <span ng-if="$ctrl.wineView==\'completed\'"><small>Price: ${{$ctrl.wineItem.price}}</small></span>\n    </div>\n\n    <!-- open tasting view for tasting reviews or rated taster reviews -->\n    <div class="wine-list-item-rating" ng-show="$ctrl.wineView==\'averageRating\' || ($ctrl.wineView==\'tasterRating\' && !$ctrl.wineItem.unrated)">\n      <div id="wine_{{$ctrl.wineItem.wine_number}}" class="wine-list-item-progress"></div>\n      <div class="wine-list-item-rating-number">\n          <span class="wine-list-item-rating-integer"></span>\n          <span class="fa fa-comment" ng-show="$ctrl.wineItem.comments && $ctrl.wineView==\'tasterRating\'"></span>\n          <span class="fa fa-comment-o" ng-hide="$ctrl.wineItem.comments || $ctrl.wineView==\'averageRating\'"></span>\n      </div>\n    </div>\n\n    <!-- reveal view of unrevealed wine -->\n    <div class="wine-list-item-title unrevealed" ng-if="$ctrl.wineView==\'reveal\' && !$ctrl.wineItem.wine"><span>Unrevealed</span></div>\n  </a>\n\n  <button class="small-btn"\n    ng-click="$ctrl.deleteAction()"\n    ng-if="$ctrl.editable">\n    <span class="fa fa-minus"></span>\n  </button>\n\n\n'},function(t,n,e){"use strict";function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.WineRevealModalComponent=void 0;var a=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),s=e(53);n.WineRevealModalComponent={bindings:{tastingWines:"<"},template:s.template,controller:function(){function t(n,e,a,s,o,r){"ngInject";var c=this;i(this,t),this.$log=e,this.name="wine-reveal-modal",this.ModalService=s,this.TastingWineService=o,this.WineReviewService=r,this.modalState="closed",this.pending_review={};var l=a.find(".main-modal-container"),d=n.$on("modal-state-change-event",function(t,n){n.name==c.name&&("open"==n.state?(e.log(n.data),c.pending_review=angular.copy(n.data),TweenMax.to(a,.5,{autoAlpha:1}),TweenMax.from(l,.3,{transform:"scale(.5)"})):(c.review=null,TweenMax.to(a,.5,{autoAlpha:0})))}),u=n.$on("wine-reveal-event",function(){c.pending_review=null,c.confirmModal(null)}),g=n.$on("tasting-wine-update-event",function(t,n){c.pending_review.wine_id=n.wine_id,c.WineReviewService.reveal(c.pending_review)});n.$on("$destroy",d),n.$on("$destroy",g),n.$on("$destroy",u)}return t.$inject=["$scope","$log","$element","ModalService","TastingWineService","WineReviewService"],a(t,[{key:"$onInit",value:function(){this.ModalService.registerModal(this)}},{key:"closeModal",value:function(){this.ModalService.setModalState("closed",this.name)}},{key:"confirmModal",value:function(t){this.ModalService.setModalState("confirmed",this.name,t)}},{key:"revealWine",value:function(t){t.wine_number=this.pending_review.wine_number,t.average_rating=this.pending_review.average_rating,this.TastingWineService.update(t)}}]),t}()}},function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.template='\n  <div class="main-modal-wrapper">\n    <div class="main-modal-container">\n      <div class="main-modal-header">\n        <h3>Reveal Wine {{$ctrl.pending_review.wine_number}}</h3>\n      </div>\n      <div class="main-modal-content">\n        <ul>\n          <li ng-repeat="tastingWine in $ctrl.tastingWines">\n            <a href ng-click="$ctrl.revealWine(tastingWine)">{{tastingWine.wine.full_name}}</a>\n          </li>\n        </ul>\n      </div>\n      <div class="main-modal-footer">\n        <span>&nbsp;</span>\n        <div>\n          <button ng-click="$ctrl.closeModal()"><span class="fa fa-times"></span></button>\n        </div>\n      </div>\n    </div>\n  </div>\n'},function(t,n,e){"use strict";function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.WineReviewModalComponent=void 0;var a=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),s=e(55);n.WineReviewModalComponent={bindings:{tasting:"<"},template:s.template,controller:function(){function t(n,e,a,s,o){"ngInject";var r=this;i(this,t),this.$log=e,this.name="wine-review-modal",this.ModalService=s,this.WineReviewService=o,this.modalState="closed",this.pending_review={},this.ratings=[{number:1,label:"Bad",cls:"bad"},{number:2,label:"",cls:"poor"},{number:3,label:"OK",cls:"ok"},{number:4,label:"",cls:"good"},{number:5,label:"Excellent",cls:"excellent"}];var c=a.find(".main-modal-container"),l=n.$on("modal-state-change-event",function(t,n){n.name==r.name&&("open"==n.state?(r.pending_review=angular.copy(n.data),TweenMax.to(a,.5,{autoAlpha:1}),TweenMax.from(c,.3,{transform:"scale(.5)"})):(r.pending_review={},TweenMax.to(a,.5,{autoAlpha:0})))}),d=n.$on("wine-review-update-event",function(t,n){r.ModalService.setModalState("confirmed",r.name,n)});n.$on("$destroy",l),n.$on("$destroy",d)}return t.$inject=["$scope","$log","$element","ModalService","WineReviewService"],a(t,[{key:"$onInit",value:function(){this.ModalService.registerModal(this)}},{key:"closeModal",value:function(){this.ModalService.setModalState("closed",this.name)}},{key:"updateReview",value:function(){this.WineReviewService.updateReview(this.pending_review)}}]),t}()}},function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.template='\n  <div class="main-modal-wrapper">\n    <div class="main-modal-container">\n      <div class="main-modal-header">\n        <h3 ng-show="$ctrl.tasting.is_open">Review Wine {{$ctrl.pending_review.wine_number}}</h3>\n        <h3 ng-hide="$ctrl.tasting.is_open">Your Review for Wine {{$ctrl.pending_review.wine_number}}</h3>\n      </div>\n      <div class="wine-review-form">\n        <div class="ratings" ng-if="$ctrl.tasting.is_open">\n          <button class="text-btn {{rating.cls}}"\n            ng-repeat="rating in $ctrl.ratings"\n            ng-click="$ctrl.pending_review.rating = rating.number"\n            ng-class="{\'selected\':$ctrl.pending_review.rating==rating.number}">\n              <span>{{rating.number}}</span>\n          </button>\n        </div>\n        <div class="main-form-control" ng-if="$ctrl.tasting.is_open">\n          <label>Comments</label>\n          <textarea ng-model="$ctrl.pending_review.comments"></textarea>\n        </div>\n        <div class="closed" ng-if="!$ctrl.tasting.is_open">\n          <div class="closed-rating" ng-hide="$ctrl.tasting.is_open">\n            {{$ctrl.pending_review.rating}}\n          </div>\n          <div>\n            {{$ctrl.pending_review.comments}}\n            <span ng-hide="$ctrl.pending_review.comments">No Comments</span>\n          </div>\n        </div>\n      </div>\n      <div class="main-modal-footer">\n        <span>&nbsp;</span>\n        <div>\n          <button ng-click="$ctrl.closeModal()"><span class="fa fa-times"></span></button>\n          <button ng-click="$ctrl.updateReview()" ng-show="$ctrl.tasting.is_open"><span class="fa fa-check"></span></button>\n        </div>\n      </div>\n    </div>\n  </div>\n'},function(t,n,e){"use strict";function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.WineReviewStatusModalComponent=void 0;var a=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),s=e(57);n.WineReviewStatusModalComponent={template:s.template,controller:function(){function t(n,e,a,s,o){"ngInject";var r=this;i(this,t),this.$log=e,this.name="wine-review-status-modal",this.ModalService=s,this.modalState="closed",this.wineReview=null;var c=a.find(".main-modal-container"),l=n.$on("modal-state-change-event",function(t,n){n.name==r.name&&(r.modalState=n.state,"open"==n.state?(o.getStatus(n.data).then(function(t){r.wineReview=t}),TweenMax.to(a,.5,{autoAlpha:1}),TweenMax.from(c,.3,{transform:"scale(.5)"})):(r.wineReview=null,TweenMax.to(a,.5,{autoAlpha:0})))});n.$on("$destroy",l)}return t.$inject=["$scope","$log","$element","ModalService","WineReviewService"],a(t,[{key:"$onInit",value:function(){this.ModalService.registerModal(this)}},{key:"closeModal",value:function(){this.ModalService.setModalState("closed",this.name)}},{key:"confirmModal",value:function(t){this.ModalService.setModalState("confirmed",this.name,t)}}]),t}()}},function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.template='\n  <div class="main-modal-wrapper">\n    <div class="main-modal-container">\n      <div class="main-modal-header">\n        <h3>Tasting Wine {{$ctrl.wineReview.wine_number}} Status</h3>\n      </div>\n      <div class="main-modal-content">\n        <table>\n          <tr>\n            <th>Taster</th>\n            <th>Rating</th>\n          </tr>\n          <tr ng-repeat="review in $ctrl.wineReview.all_reviews">\n            <td>{{review.taster.name}}</td>\n            <td>{{review.unrated ? \'–\' : review.rating}}</td>\n          </tr>\n        </table>\n      </div>\n      <div class="main-modal-footer">\n        <span>&nbsp;</span>\n        <div>\n          <button ng-click="$ctrl.closeModal()"><span class="fa fa-times"></span></button>\n        </div>\n      </div>\n    </div>\n    <wait-state wait-on="$ctrl.modalState==\'open\' && !$ctrl.wineReview"></wait-state>\n  </div>\n\n'},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.CommonModule=void 0;var i=e(59),a=e(69),s=e(76),o=e(82);n.CommonModule=angular.module("ynoTasting.common",[i.DashboardModule,o.WelcomeModule,a.TastingModule,s.UserModule]).name},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.DashboardModule=void 0;var i=e(60),a=e(61),s=e(63),o=e(65),r=e(67);n.DashboardModule=angular.module("dashboard",[]).component("dashboard",a.DashboardComponent).component("dashboardTastings",s.DashboardTastingsComponent).component("dashboardReviews",o.DashboardReviewsComponent).component("dashboardInvitations",r.DashboardInvitationsComponent).config(i.DashboardConfig).name},function(t,n){"use strict";function e(t,n){"ngInject";t.state("dashboard",{url:"/dashboard",component:"dashboard",resolve:{taster:["TasterService",function(t){return t.getTasterFromValidation()}]}}).state("dashboard-tastings",{url:"/dashboard/tastings",component:"dashboardTastings",resolve:{taster:["TasterService",function(t){return t.getTasterFromValidation()}],tastings:["TastingService",function(t){return t.getTastingList()}]}}).state("dashboard-reviews",{url:"/dashboard/reviews",component:"dashboardReviews",resolve:{taster:["TasterService",function(t){return t.getTasterFromValidation()}],reviews:["WineReviewService",function(t){return t.index()}]}}).state("dashboard-invitations",{url:"/dashboard/invitations",component:"dashboardInvitations",resolve:{taster:["TasterService",function(t){return t.getTasterFromValidation()}],invitations:["GuestService",function(t){return t.getInvitations()}]}}),n.otherwise("/")}e.$inject=["$stateProvider","$urlRouterProvider"],Object.defineProperty(n,"__esModule",{value:!0}),n.DashboardConfig=e},function(t,n,e){"use strict";function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.DashboardComponent=void 0;var a=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),s=e(62);n.DashboardComponent={bindings:{taster:"<"},template:s.template,controller:function(){function t(n,e,a,s,o){"ngInject";i(this,t),this.$log=e,this.$state=a,this.UserService=o,this.TasterService=s}return t.$inject=["$scope","$log","$state","TasterService","UserService"],a(t,[{key:"$onInit",value:function(){}}]),t}()}},function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.template='\n  <div class="dashboard">\n    <div class="desktop-logo">\n      <div class="desktop-logo-top"></div>\n      <div class="desktop-logo-bottom">\n        <a href><img src=\'assets/images/yno_tasting_logo_white.svg\'></a>\n        <desktop-nav-secondary signout-state="true"></desktop-nav-secondary>\n      </div>\n    </div>\n    <taster-panel taster=\'$ctrl.taster\'></taster-panel>\n    <div class="dashboard-btns">\n      <a class="dashboard-btn" ui-sref="dashboard-invitations"\n        ng-class="{disabled: $ctrl.taster.invite_count==0}">\n        <img src=\'assets/images/glasses-with-wine.svg\'>\n        <span class="dashboard-btn-number">{{$ctrl.taster.invite_count}}</span>\n        <span class="dashboard-btn-title">Invites</span>\n      </a>\n\n      <a class="dashboard-btn" ui-sref="dashboard-tastings"\n        ng-class="{disabled: $ctrl.taster.tasting_count==0}">\n        <img src=\'assets/images/glass-with-wine.svg\'>\n          <span class="dashboard-btn-number">{{$ctrl.taster.tasting_count}}</span>\n          <span>Tastings</span>\n      </a>\n      <a class="dashboard-btn" ui-sref="dashboard-reviews"\n        ng-class="{disabled: $ctrl.taster.review_count==0}">\n          <img src=\'assets/images/wine-bottle-1.svg\'>\n          <span class="dashboard-btn-number">{{$ctrl.taster.review_count}}</span>\n          <span>Wines</span>\n      </a>\n    </div>\n    <div class="dashboard-panel-spacer"></div>\n  </div>\n\n  <mobile-nav signed-in="true"></mobile-nav>\n'},function(t,n,e){"use strict";function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.DashboardTastingsComponent=void 0;var a=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),s=e(64);n.DashboardTastingsComponent={bindings:{taster:"<",tastings:"<"},template:s.template,controller:function(){function t(n,e,a){"ngInject";i(this,t),this.$log=n,this.$state=e,this._=a,this.message="You have no tastings. Better host one yourself!"}return t.$inject=["$log","$state","lodash"],a(t,[{key:"$onInit",value:function(){this._.findIndex(this.tastings,"is_open")>-1?this.message="You have an open tasting. Better get busy!":this._.findIndex(this.tastings,"is_pending")>-1?this.message="You have a pending tasting! Better confirm it.":this.tastings.length>0&&(this.message="Hmm, nothing currently going on. Time for some new tasting happiness!")}},{key:"selectTasting",value:function(t){this.$state.go("tasting-show",{id:t.id})}}]),t}()}},function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.template='\n\n  <div class="dashboard">\n  <div class="desktop-logo">\n    <div class="desktop-logo-top"></div>\n    <div class="desktop-logo-bottom">\n      <a ui-sref="dashboard"><img src=\'assets/images/yno_tasting_logo_white.svg\'></a>\n      <desktop-nav-secondary signout-state="true"></desktop-nav-secondary>\n    </div>\n  </div>\n    <taster-panel taster=\'$ctrl.taster\'></taster-panel>\n    <div class="dashboard-panel">\n      <div class="dashboard-section">\n        <div class="dashboard-section-header">\n          <h3>Tasting List</h3>\n          <button class="small-btn" ui-sref="tasting-new" ng-if="$ctrl.taster.is_host"><span class="fas fa-plus"></span></button>\n        </div>\n        <div class="dashboard-section-list">\n          <p>{{$ctrl.message}}</p>\n          <tasting-list-item\n            ng-repeat="tasting in $ctrl.tastings | orderBy:\'-open_at\'"\n            tasting="tasting"\n            select-action="$ctrl.selectTasting(tasting)">\n          </tasting-list-item>\n          <div class="mobile-nav-spacer"></div>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <mobile-nav signed-in="true" is-host="$ctrl.taster.is_host"></mobile-nav>\n\n';
},function(t,n,e){"use strict";function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.DashboardReviewsComponent=void 0;var a=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),s=e(66);n.DashboardReviewsComponent={bindings:{taster:"<",reviews:"<"},template:s.template,controller:function(){function t(n,e,a,s){"ngInject";i(this,t),this.$log=e,this.$state=a,this.ModalService=s,this.sortFields=[{name:"Rating",code:"rating",selected:!0},{name:"Name",code:"wine.full_name"},{name:"Date",code:"updated_at"}],this.sortField="rating",this.sortDesc=!0}return t.$inject=["$scope","$log","$state","ModalService"],a(t,[{key:"$onInit",value:function(){}},{key:"changeSorting",value:function(t){for(var n=0;n<this.sortFields.length;n++)this.sortFields[n].selected=!1;t.selected=!0,this.sortField=t.code}},{key:"openWineModal",value:function(t){this.ModalService.setModalState("open","wine-info-modal",t)}}]),t}()}},function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.template='\n\n<div class="dashboard">\n  <div class="desktop-logo">\n    <div class="desktop-logo-top"></div>\n    <div class="desktop-logo-bottom">\n      <a ui-sref="dashboard"><img src=\'assets/images/yno_tasting_logo_white.svg\'></a>\n      <desktop-nav-secondary signout-state="true"></desktop-nav-secondary>\n    </div>\n  </div>\n  <taster-panel taster=\'$ctrl.taster\'></taster-panel>\n  <div class="dashboard-panel">\n    <div class="dashboard-section">\n      <div class="dashboard-section-header">\n        <h3>Wine List</h3>\n        <sort-bar\n          fields="$ctrl.sortFields"\n          select-action="$ctrl.changeSorting(field)">\n        </sort-bar>\n      </div>\n      <div class="dashboard-section-list">\n        <p>You’ve tasted {{$ctrl.reviews.length}} wines!</p>\n        <wine-list-item\n          ng-repeat="review in $ctrl.reviews | orderBy:$ctrl.sortField:$ctrl.sortDesc"\n          wine-view="wines"\n          wine-item="review"\n          select-action="$ctrl.openWineModal(review)">\n        </wine-list-item>\n        <div class="mobile-nav-spacer"></div>\n      </div>\n    </div>\n  </div>\n</div>\n\n<mobile-nav signed-in="true" is-host="$ctrl.taster.is_host"></mobile-nav>\n<wine-info-modal></wine-info-modal>\n'},function(t,n,e){"use strict";function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.DashboardInvitationsComponent=void 0;var a=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),s=e(68);n.DashboardInvitationsComponent={bindings:{taster:"<",invitations:"<"},template:s.template,controller:function(){function t(n,e,a,s,o){"ngInject";var r=this;i(this,t),this.$log=e,this.$state=a,this.ModalService=s,this.TasterService=o;var c=n.$on("modal-state-change-event",function(t,n){if("confirmed"==n.state&&"invitation-detail-modal"==n.name){for(var e=0;e<r.invitations.length;e++)if(r.invitations[e].id==n.data.id){r.invitations.splice(e,1);break}0==r.invitations.length&&r.$state.go("dashboard")}});n.$on("$destroy",c)}return t.$inject=["$scope","$log","$state","ModalService","TasterService"],a(t,[{key:"$onInit",value:function(){}},{key:"selectInvitation",value:function(t){this.ModalService.setModalState("open","invitation-detail-modal",t)}}]),t}()}},function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.template='\n\n<div class="dashboard">\n<div class="desktop-logo">\n  <div class="desktop-logo-top"></div>\n  <div class="desktop-logo-bottom">\n    <a ui-sref="dashboard"><img src=\'assets/images/yno_tasting_logo_white.svg\'></a>\n    <desktop-nav-secondary signout-state="true"></desktop-nav-secondary>\n  </div>\n</div>\n  <taster-panel taster=\'$ctrl.taster\'></taster-panel>\n  <div class="dashboard-panel">\n    <div class="dashboard-section">\n      <div class="dashboard-section-header">\n        <h3>Tasting Invitations</h3>\n      </div>\n      <div class="dashboard-section-list">\n        <p ng-hide="$ctrl.invitations.length==0">Select tasting to confirm/deny invitation</p>\n        <p ng-show="$ctrl.invitations.length==0">Sad news.<br>You currently have no tasting invitations.</p>\n        <tasting-list-item\n          ng-repeat="invitation in $ctrl.invitations | orderBy: open_at"\n          tasting="invitation.tasting"\n          select-action="$ctrl.selectInvitation(invitation)">\n        </tasting-list-item>\n        <div class="mobile-nav-spacer"></div>\n      </div>\n    </div>\n  </div>\n</div>\n\n<mobile-nav signed-in="true" is-host="$ctrl.taster.is_host"></mobile-nav>\n<invitation-detail-modal></invitation-detail-modal>\n\n'},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.TastingModule=void 0;var i=e(70),a=e(72),s=e(74),o=e(75);n.TastingModule=angular.module("tasting",[]).component("tastingShow",i.TastingShowComponent).component("tastingNew",a.TastingNewComponent).constant("tastingConstants",s.TastingConstants).config(o.TastingConfig).name},function(t,n,e){"use strict";function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.TastingShowComponent=void 0;var a=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),s=e(71);n.TastingShowComponent={bindings:{taster:"<",tasting:"<",tasterIsHost:"<",hostIsTasting:"<",tastingIsFrozen:"<"},template:s.template,controller:function(){function t(n,e,a,s,o,r,c,l,d,u,g,p,v){"ngInject";var h=this;i(this,t),this._=r,this.$log=e,this.$state=a,this.AlertsService=l,this.GuestService=d,this.ModalService=u,this.NotificationsService=g,this.TastingService=p,this.TastingWineService=v,this.constants=c,this.tasterNumber=0,this.completeNotice=!1,this.expandState=this.constants.EXPAND_STATE_NONE,this.displayTime=null,this.viewState=!0,this.viewLabel="Taster View",this.unrevealedWines=[];var m=function(){h.tasting.is_pending?(h.displayTime="Starts "+s("utcToLocalTimeFromNowFilter")(h.tasting.open_at),moment(h.tasting.open_at).diff(moment(),"seconds")<0&&a.reload()):h.tasting.is_open?h.tasting.close_at?(h.displayTime="Closes "+s("utcToLocalTimeFromNowFilter")(h.tasting.close_at),moment(h.tasting.close_at).diff(moment(),"seconds")<0&&(h.tasterIsHost?(h.tastingIsFrozen=!0,h.tasting.closed_at=moment(),h.TastingService.updateTasting(h.tasting),o.cancel(w)):a.reload())):h.displayTime="Opened "+s("utcToLocalTimeFromNowFilter")(h.tasting.open_at):h.tasting.is_completed?(h.displayTime="Completed "+s("utcToLocalDate")(h.tasting.completed_at),o.cancel(w)):h.displayTime="Closed "+s("utcToLocalTimeFromNowFilter")(h.tasting.closed_at)},f=n.$on("destroy-guest-event",function(t,n){e.log("destroyGuestEvent",n),n.taster_id==h.tasting.host.taster_id?a.reload():h.tasterIsHost?(h.NotificationsService.setNotification("Cancellation emailed to "+n.taster.name),h._.remove(h.tasting.guests,{id:n.id})):(h.NotificationsService.setNotification("Cancellation emailed to host"),a.go("dashboard"))}),w=o(m,1e3),$=n.$on("end-alerts-event",function(t,n){"destroyGuest"==n.code&&"confirm"==n.action&&h.destroyGuest(n.data),"destroyTastingWine"==n.code&&(n.data.wait=!1,"confirm"==n.action&&h.destroyTastingWine(n.data)),"cancelTasting"==n.code&&"confirm"==n.action&&(h.wait=!0,h.TastingService.destroyTasting(h.tasting.id)),"closeTasting"==n.code&&"confirm"==n.action&&(h.wait=!0,h.tasting.closed_at=moment(),h.TastingService.updateTasting(h.tasting)),"openTasting"==n.code&&"confirm"==n.action&&(h.wait=!0,h.tasting.open_at=moment(),h.TastingService.updateTasting(h.tasting))}),b=n.$on("invite-taster-event",function(t,n){h.NotificationsService.setNotification("Invitation emailed to "+n.taster.full_handle),h.tasting.guests.unshift(n)}),y=n.$on("modal-state-change-event",function(t,n){"confirmed"==n.state&&"tasting-detail-modal"==n.name&&(h.tasting=n.data)}),S=n.$on("tasting-wine-create-event",function(t,n){h.tasting.tasting_wines.push(n)}),_=n.$on("tasting-wine-destroy-event",function(t,n){h.NotificationsService.setNotification("All reviews removed for "+n.wine.full_name);for(var e=0;e<h.tasting.tasting_wines.length;e++)h.tasting.tasting_wines[e].id==n.id&&h.tasting.tasting_wines.splice(e,1)}),T=n.$on("tasting-wine-update-event",function(t,n){r.every(h.tasting.tasting_wines,function(t){t.wine_number==n.wine_number&&(t.wine_number=null,t.average_rating=null),t.id==n.id&&(t=n)})}),M=n.$on("update-tasting-event",function(t,n){h.wait=!1,h.tasting=n,m()}),k=n.$on("wine-review-update-event",function(t,n){r.each(h.tasting.taster_wine_reviews,function(t){return t.id==n.id?void(t=n):void 0})}),A=n.$on("wine-reveal-event",function(t,n){h.tasting.taster_wine_reviews=n,!h.completeNotice&&h.allWinesRevealed()&&(h.completeNotice=!0,h.AlertsService.setConfirmationAlert("You have revealed all your wines. Press 'Complete Tasting' to commit your research!"))});n.$on("$destroy",function(){o.cancel(w)}),n.$on("$destroy",f),n.$on("$destroy",$),n.$on("$destroy",b),n.$on("$destroy",y),n.$on("$destroy",S),n.$on("$destroy",_),n.$on("$destroy",T),n.$on("$destroy",M),n.$on("$destroy",A),n.$on("$destroy",k)}return t.$inject=["$scope","$log","$state","$filter","$interval","lodash","tastingConstants","AlertsService","GuestService","ModalService","NotificationsService","TastingService","TastingWineService"],a(t,[{key:"$onInit",value:function(){if(this.hostIsTasting){var t=this;this.tasterNumber=this._.find(this.tasting.guests,function(n){return n.taster_id==t.taster.id}).taster_number}else this.tasterNumber=0,this.toggleViewState()}},{key:"allWinesRevealed",value:function(){for(var t=0;t<this.tasting.taster_wine_reviews.length;t++)if(!this.tasting.taster_wine_reviews[t].wine_id)return!1;return!0}},{key:"attemptCloseTasting",value:function(){this.AlertsService.setWarningAlert("Ready to close this tasting? This will freeze all reviews and is not reversible.","closeTasting")}},{key:"attemptCancelTasting",value:function(){this.AlertsService.setWarningAlert("Are you sure you want to cancel tasting? Confirming will remove tasting from system and email all guests that is cancelled","cancelTasting")}},{key:"attemptDestroyGuest",value:function(t){this.taster.id==t.taster_id?this.AlertsService.setWarningAlert("Are you sure you want to remove yourself from this tasting? All your wine reviews will be lost.","destroyGuest",t):this.AlertsService.setWarningAlert("Are you sure you want to delete "+t.taster.name+" and all their reviews from this tasting?","destroyGuest",t)}},{key:"attemptDestroyTastingWine",value:function(t){t.wait=!0,this.AlertsService.setWarningAlert("Are you sure you want to delete wine "+t.wine.full_name+" and all its reviews from this tasting?","destroyTastingWine",t)}},{key:"attemptOpenTasting",value:function(){this.AlertsService.setWarningAlert("Are you sure you want to open tasting? Confirming means all your tasters are present and ready to begin","openTasting")}},{key:"completeTasting",value:function(){this.tasting.completed_at=moment(),this.TastingService.updateTasting(this.tasting),this.expandState=this.constants.EXPAND_STATE_NONE}},{key:"destroyGuest",value:function(t){this.GuestService.destroy(t.id)}},{key:"destroyTastingWine",value:function(t){this.TastingWineService.destroy(t)}},{key:"openGuestModal",value:function(){this.ModalService.setModalState("open","add-guest-modal")}},{key:"openGuestInfoModal",value:function(t){this.ModalService.setModalState("open","show-guest-modal",t)}},{key:"openTastingDetailModal",value:function(){this.ModalService.setModalState("open","tasting-detail-modal")}},{key:"openTastingWineModal",value:function(){this.ModalService.setModalState("open","tasting-wine-modal")}},{key:"openWineInfoModal",value:function(t){this.ModalService.setModalState("open","wine-info-modal",t)}},{key:"openWineRevealModal",value:function(t){this.ModalService.setModalState("open","wine-reveal-modal",t)}},{key:"openWineReviewModal",value:function(t){this.ModalService.setModalState("open","wine-review-modal",t)}},{key:"openWineReviewStatusModal",value:function(t){this.ModalService.setModalState("open","wine-review-status-modal",t.id)}},{key:"showReviews",value:function(){return this.tasting.is_pending?!1:this.viewState&&this.tasterIsHost&&!this.hostIsTasting?!1:this.expandState!=this.constants.EXPAND_STATE_NONE&&this.expandState!=this.constants.EXPAND_STATE_REVIEWS?!1:!0}},{key:"showReveals",value:function(){return this.tasting.is_closed&&this.tasterIsHost&&(this.expandState===this.constants.EXPAND_STATE_NONE||this.expandState===this.constants.EXPAND_STATE_REVEALS)?!0:!1}},{key:"showWinesView",value:function(){return this.tasting.is_completed?"completed":"tastingPending"}},{key:"toggleViewState",value:function(){this.viewState=!this.viewState,this.viewState?this.viewLabel="Taster View":this.viewLabel="Tasting View"}},{key:"wineListItemView",value:function(){return this.viewState?"tasterRating":"averageRating"}}]),t}()}},function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.template='\n\n  <div class="tasting">\n\n    <div class="desktop-logo">\n      <div class="desktop-logo-top"></div>\n      <div class="desktop-logo-bottom">\n        <a ui-sref="dashboard"><img src=\'assets/images/yno_tasting_logo_white.svg\'></a>\n        <desktop-nav-secondary signout-state="true"></desktop-nav-secondary>\n      </div>\n    </div>\n\n    <taster-panel taster="$ctrl.taster" taster-number="$ctrl.tasterNumber"></taster-panel>\n\n    <div class="tasting-panel">\n\n      <div class="tasting-mode"\n        ng-class="{inverse:!$ctrl.viewState}">\n        <h4>{{ $ctrl.viewLabel }}</h4>\n        <toggle-switch\n          toggle-trigger="$ctrl.toggleViewState(state)"\n          toggle-state="$ctrl.viewState"\n          toggle-disabled="$ctrl.tasterIsHost && $ctrl.tasting.host_is_not_tasting">\n        </toggle-switch>\n      </div>\n\n      <div class="tasting-status"\n        ng-class="{\n          \'no-view\': $ctrl.tasterIsHost && $ctrl.tasting.host_is_not_tasting,\n          open: $ctrl.tasting.is_open,\n          closed: $ctrl.tasting.is_closed,\n          pending: $ctrl.tasting.is_pending,\n          \'completed-inverse\': $ctrl.tasting.is_completed && !$ctrl.viewState\n        }">\n        <p>{{$ctrl.displayTime}}</p>\n      </div>\n\n      <!--\n\n        TASTING DETAILS\n\n      -->\n\n      <div class="tasting-section" ng-if="$ctrl.expandState==$ctrl.constants.EXPAND_STATE_NONE || $ctrl.expandState==$ctrl.constants.EXPAND_STATE_DETAILS">\n        <div class="tasting-header" ng-class="{inverse:!$ctrl.viewState}">\n          <a href\n            ng-click="$ctrl.expandState==$ctrl.constants.EXPAND_STATE_NONE ? $ctrl.expandState=$ctrl.constants.EXPAND_STATE_DETAILS : $ctrl.expandState=$ctrl.constants.EXPAND_STATE_NONE">\n            <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n               width="366.182px" height="366.182px" viewBox="0 0 366.182 366.182" style="enable-background:new 0 0 366.182 366.182;"\n               xml:space="preserve">\n              <g>\n                <path fill="#fff" d="M261.39,168.768c19.439-20.182,28.627-44.058,25.867-67.229c-1.263-10.604-7.755-34.217-15.79-57.423\n                  c-4.032-11.646-7.924-21.604-11.254-28.793C254.974,4.01,251.488,0,246.899,0H119.287c-4.591,0-8.074,4.01-13.314,15.323\n                  c-3.33,7.19-7.222,17.146-11.254,28.793c-8.034,23.206-14.527,46.818-15.789,57.423c-5.785,48.574,41.113,93.064,88.259,102.289\n                  c0.609,8.4,1.16,31.939,0.841,59.988c-0.514,45.139-2.784,61.541-4.021,64.074c-1.849,3.256-12.858,7.672-29.624,9.439\n                  l-0.467,0.049c-8.963,0.943-25.647,2.703-25.647,16.01c0,6.34,2.987,9.402,5.492,10.855c2.938,1.703,6.455,1.938,9.819,1.938\n                  c0.872,0,1.781-0.016,2.719-0.033c0.932-0.018,1.894-0.035,2.878-0.035H237.01c0.983,0,1.945,0.018,2.877,0.035\n                  c0.938,0.018,1.848,0.033,2.72,0.033c3.787,0,15.313,0,15.313-12.793c0-13.307-16.686-15.066-25.648-16.01l-0.469-0.049\n                  c-16.766-1.77-27.774-6.184-29.597-9.393c-1.269-2.613-3.452-19.045-3.602-64.057c-0.095-28.908,0.736-52.332,1.501-60.404\n                  C222.271,198.639,244.937,185.848,261.39,168.768z M187.601,262.764c0.101,41.135,1.785,64.873,5.012,70.557\n                  c5.743,10.121,26.296,13.709,38.033,14.947l0.472,0.049c4.729,0.5,15.802,1.666,15.802,5.072c0,0.783-0.09,1.211-0.146,1.404\n                  c-0.375,0.152-1.402,0.389-4.167,0.389c-0.807,0-1.648-0.016-2.517-0.033c-0.996-0.018-2.026-0.037-3.08-0.037h-53.536h-54.295\n                  c-1.054,0-2.084,0.02-3.081,0.037c-0.868,0.018-1.709,0.033-2.516,0.033c-2.763,0-3.79-0.236-4.165-0.389\n                  c-0.058-0.193-0.146-0.621-0.146-1.406c0-3.406,11.072-4.572,15.801-5.07l0.469-0.049c11.738-1.238,32.289-4.826,38.035-14.949\n                  c1.193-2.102,4.823-8.498,5.47-70.788c0.152-14.737,0.076-30.267-0.209-42.606c-0.472-20.396-1.172-21.842-1.789-23.117\n                  c-0.825-1.701-2.406-2.883-4.229-3.162c-21.24-3.258-43.567-15.155-59.725-31.825c-17.38-17.933-25.634-38.879-23.24-58.981\n                  c2.442-20.509,23.675-83.082,30.964-91.84h124.557c7.289,8.759,28.521,71.333,30.964,91.84\n                  c5.067,42.551-39.031,82.894-81.847,90.539c-1.834,0.328-3.356,1.52-4.179,3.268C187.488,202.657,187.595,260.312,187.601,262.764\n                  z"/>\n                <path fill="#fff" d="M244.876,152.387c7.387-8.986,13.278-16.938,14.321-27.506c0.086-0.874,0.229-4-2.657-4\n                  c-36.54,0-110.438,0.014-146.979,0.014c-3.159,0-2.665,3.056-2.574,3.986c1.056,10.84,7.114,19.048,14.765,28.241\n                  c12.812,15.393,29.63,25.398,48.34,26.765c3.171,0.232,8.396,0.375,13.635,0.375c4.988,0,9.529-0.133,12.146-0.356\n                  C214.984,178.276,232.051,167.988,244.876,152.387z"/>\n              </g>\n            </svg>\n            <h3>{{ $ctrl.tasting.name }}</h3>\n          </a>\n          <button class="small-btn"\n            ng-click="$ctrl.openTastingDetailModal()"\n            ng-if="$ctrl.tasterIsHost && !$ctrl.tasting.is_completed">\n              <span class="fas fa-pencil-alt"></span>\n          </button>\n          <button class="small-btn"\n            ng-click="$ctrl.expandState==$ctrl.constants.EXPAND_STATE_NONE ? $ctrl.expandState=$ctrl.constants.EXPAND_STATE_DETAILS : $ctrl.expandState=$ctrl.constants.EXPAND_STATE_NONE">\n              <span class="fas fa-angle-down" ng-hide="$ctrl.expandState==$ctrl.constants.EXPAND_STATE_DETAILS"></span>\n              <span class="fas fa-angle-up" ng-show="$ctrl.expandState==$ctrl.constants.EXPAND_STATE_DETAILS"></span>\n          </button>\n        </div>\n        <div class="tasting-section-list tasting-info" ng-if="$ctrl.expandState==$ctrl.constants.EXPAND_STATE_DETAILS">\n          <p>\n            <span class="subtitle">Hosted by:<br/></span>\n            {{$ctrl.tasting.host.taster.name}}<br/>\n            {{$ctrl.tasting.location.phone}}<br/>\n            {{$ctrl.tasting.location.address}}<span ng-show="$ctrl.tasting.location.address2"> {{$ctrl.tasting.location.address2}}</span><br/>\n            {{$ctrl.tasting.location.city}}, {{$ctrl.tasting.location.state}} {{$ctrl.tasting.location.postal}}\n          </p>\n          <p ng-show="$ctrl.tasting.description">\n            <span class="subtitle">Description:<br/></span>\n            {{$ctrl.tasting.description}}\n          </p>\n          <div class="pending-btns">\n            <button class="text-btn"\n              ng-click="$ctrl.attemptOpenTasting()"\n              ng-if="$ctrl.tasterIsHost && $ctrl.tasting.is_pending">\n                Open Tasting\n            </button>\n            <button class="text-btn"\n              ng-click="$ctrl.attemptCancelTasting()"\n              ng-if="$ctrl.tasterIsHost && $ctrl.tasting.is_pending">\n                Cancel Tasting\n            </button>\n            <button class="text-btn"\n              ng-click="$ctrl.attemptCloseTasting()"\n              ng-if="$ctrl.tasterIsHost && $ctrl.tasting.is_open">\n                Close Tasting\n            </button>\n          </div>\n          <div class="mobile-nav-spacer"></div>\n        </div>\n      </div>\n\n\n      <!--\n\n        WINES\n\n      -->\n\n      <div class="tasting-section"\n        ng-if="$ctrl.expandState==$ctrl.constants.EXPAND_STATE_NONE || $ctrl.expandState==$ctrl.constants.EXPAND_STATE_WINES">\n        <div class="tasting-header" ng-class="{inverse:!$ctrl.viewState}">\n          <a href ng-click="$ctrl.expandState==$ctrl.constants.EXPAND_STATE_NONE ? $ctrl.expandState=$ctrl.constants.EXPAND_STATE_WINES : $ctrl.expandState=$ctrl.constants.EXPAND_STATE_NONE">\n            <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n               width="371.234px" height="371.234px" viewBox="0 0 371.234 371.234" style="enable-background:new 0 0 371.234 371.234;"\n               xml:space="preserve">\n              <g>\n                <path fill="#fff" d="M238.147,102.42c-5.081-6.576-10.335-13.375-15.218-22.93c-4.824-9.446-11.219-42.958-12.754-53.035\n                  c-0.053-0.341-0.181-0.938,0.131-1.313c2.064-2.764,2.941-5.859,2.941-9.509C213.248,7.013,206.84,0,198.965,0h-26.697\n                  c-7.876,0-14.283,7.013-14.283,15.633c0,3.646,0.78,6.6,2.841,9.362c0.263,0.335,0.275,1.122,0.223,1.469\n                  c-1.557,10.232-7.932,43.604-12.746,53.026c-4.882,9.556-10.136,16.355-15.217,22.931c-9.977,12.912-18.593,24.063-18.593,48.56\n                  v169.628c0,22.612,4.284,35.399,14.326,42.756c9.932,7.275,24.726,7.869,41.621,7.869c2.914,0,5.96-0.021,9.146-0.043\n                  c1.965-0.015,3.983-0.028,6.005-0.038c2.071,0.01,4.089,0.023,6.056,0.038c3.186,0.021,6.232,0.043,9.146,0.043\n                  c16.897,0,31.693-0.593,41.624-7.867c10.04-7.355,14.323-20.144,14.323-42.757V150.98\n                  C256.741,126.484,248.125,115.332,238.147,102.42z M245.741,320.609c0,18.456-3.03,28.905-9.824,33.884\n                  c-6.587,4.826-17.426,5.741-35.123,5.741c-2.889,0-5.911-0.021-9.069-0.043c-1.975-0.015-4-0.028-6.132-0.038\n                  c-2.082,0.01-4.109,0.023-6.083,0.038c-3.158,0.021-6.179,0.043-9.068,0.043c-33.397,0-44.947-1.919-44.947-39.625V150.98\n                  c0-20.742,6.836-29.589,16.298-41.834c5.137-6.649,10.96-14.185,16.308-24.651c6.225-12.185,14.052-54.78,14.292-60.441\n                  c0,0,0.146-1.942-0.146-2.598c-0.25-0.563-1.678-1.913-1.678-1.913c-0.991-0.884-1.582-2.346-1.582-3.91\n                  c0-2.468,1.534-4.633,3.283-4.633h26.698c1.747,0,3.281,2.165,3.281,4.633c0,1.564-0.592,3.025-1.582,3.909\n                  c0,0-1.387,1.196-1.641,1.788s-0.195,2.502-0.195,2.502c0.003,0.076,0.007,0.149,0.012,0.225\n                  c0.244,5.678,8.068,48.253,14.293,60.438c5.348,10.467,11.172,18.002,16.309,24.651c9.462,12.245,16.298,21.093,16.298,41.834\n                  V320.609z"/>\n                <path fill="#fff" d="M136.494,185.617V313.98c0,35.675,14.809,33.879,49.123,33.719c34.316,0.16,49.125,1.956,49.125-33.719V185.617\n                  c0,0,0-2-3.667-2c-22.583,0-68.896,0-91.479,0C136.866,183.617,136.494,185.617,136.494,185.617z"/>\n              </g>\n            </svg>\n            <h3>Wines</h3>\n          </a>\n          <button class="small-btn" ng-show="$ctrl.tasterIsHost && !$ctrl.tastingIsFrozen" ng-click="$ctrl.openTastingWineModal()"><span class="fa fa-plus"></span></button>\n          <button class="small-btn" ng-click="$ctrl.expandState==$ctrl.constants.EXPAND_STATE_NONE ? $ctrl.expandState=$ctrl.constants.EXPAND_STATE_WINES : $ctrl.expandState=$ctrl.constants.EXPAND_STATE_NONE">\n            <span class="fas fa-angle-down" ng-hide="$ctrl.expandState==$ctrl.constants.EXPAND_STATE_WINES"></span>\n            <span class="fas fa-angle-up" ng-show="$ctrl.expandState==$ctrl.constants.EXPAND_STATE_WINES"></span>\n          </button>\n        </div>\n        <div class="tasting-section-list" ng-if="$ctrl.expandState==$ctrl.constants.EXPAND_STATE_WINES">\n          <wine-list-item\n            ng-repeat="wine in $ctrl.tasting.tasting_wines"\n            wine-item="wine"\n            wine-view="{{$ctrl.showWinesView()}}"\n            editable="$ctrl.tasterIsHost && $ctrl.tasting.is_pending"\n            delete-action="$ctrl.attemptDestroyTastingWine(wine)"\n            select-action="$ctrl.openWineInfoModal(wine)">\n          </wine-list-item>\n          <div class="mobile-nav-spacer"></div>\n        </div>\n      </div>\n\n\n      <!--\n\n        GUESTS\n\n      -->\n\n      <div class="tasting-section"\n        ng-if="$ctrl.expandState==$ctrl.constants.EXPAND_STATE_NONE || $ctrl.expandState==$ctrl.constants.EXPAND_STATE_GUESTS">\n        <div class="tasting-header" ng-class="{inverse:!$ctrl.viewState}">\n          <a href ng-click="$ctrl.expandState==$ctrl.constants.EXPAND_STATE_NONE ? $ctrl.expandState=$ctrl.constants.EXPAND_STATE_GUESTS : $ctrl.expandState=$ctrl.constants.EXPAND_STATE_NONE">\n            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path d="M192 256c61.9 0 112-50.1 112-112S253.9 32 192 32 80 82.1 80 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C51.6 288 0 339.6 0 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zM480 256c53 0 96-43 96-96s-43-96-96-96-96 43-96 96 43 96 96 96zm48 32h-3.8c-13.9 4.8-28.6 8-44.2 8s-30.3-3.2-44.2-8H432c-20.4 0-39.2 5.9-55.7 15.4 24.4 26.3 39.7 61.2 39.7 99.8v38.4c0 2.2-.5 4.3-.6 6.4H592c26.5 0 48-21.5 48-48 0-61.9-50.1-112-112-112z"/></svg>\n            <h3>Guests</h3>\n          </a>\n          <button class="small-btn" ng-if="$ctrl.tasterIsHost && !$ctrl.tastingIsFrozen"><span class="fa fa-plus" ng-click="$ctrl.openGuestModal()"></span></button>\n          <button class="small-btn" ng-click="$ctrl.expandState==$ctrl.constants.EXPAND_STATE_NONE ? $ctrl.expandState=$ctrl.constants.EXPAND_STATE_GUESTS : $ctrl.expandState=$ctrl.constants.EXPAND_STATE_NONE">\n            <span class="fas fa-angle-down" ng-hide="$ctrl.expandState==$ctrl.constants.EXPAND_STATE_GUESTS"></span>\n            <span class="fas fa-angle-up" ng-show="$ctrl.expandState==$ctrl.constants.EXPAND_STATE_GUESTS"></span>\n          </button>\n        </div>\n        <div class="tasting-section-list" ng-if="$ctrl.expandState==$ctrl.constants.EXPAND_STATE_GUESTS">\n          <guest-list-item\n            ng-repeat="guest in $ctrl.tasting.guests"\n            guest="guest"\n            editable="!$ctrl.tasterIsHost || !$ctrl.tastingIsFrozen"\n            delete-action="$ctrl.attemptDestroyGuest(guest)"\n            select-action="$ctrl.openGuestInfoModal(guest)">\n          </guest-list-item>\n          <div class="mobile-nav-spacer"></div>\n        </div>\n      </div>\n\n\n      <!--\n\n        REVIEWS\n\n      -->\n\n      <div class="tasting-section"\n        ng-if="$ctrl.showReviews()">\n        <div class="tasting-header" ng-class="{inverse:!$ctrl.viewState}">\n          <a href\n            ng-class="{inverse:!$ctrl.viewState}"\n            ng-click="$ctrl.expandState==$ctrl.constants.EXPAND_STATE_NONE ? $ctrl.expandState=$ctrl.constants.EXPAND_STATE_REVIEWS : $ctrl.expandState=$ctrl.constants.EXPAND_STATE_NONE">\n            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"/></svg>\n            <h3 ng-show="$ctrl.viewState">Your Reviews</h3>\n            <h3 ng-hide="$ctrl.viewState">Tasting Reviews</h3>\n          </a>\n          <button class="small-btn" ng-click="$ctrl.expandState==$ctrl.constants.EXPAND_STATE_NONE ? $ctrl.expandState=$ctrl.constants.EXPAND_STATE_REVIEWS : $ctrl.expandState=$ctrl.constants.EXPAND_STATE_NONE">\n            <span class="fas fa-angle-down" ng-hide="$ctrl.expandState==$ctrl.constants.EXPAND_STATE_REVIEWS"></span>\n            <span class="fas fa-angle-up" ng-show="$ctrl.expandState==$ctrl.constants.EXPAND_STATE_REVIEWS"></span>\n          </button>\n        </div>\n        <div class="tasting-section-list" ng-if="$ctrl.expandState==$ctrl.constants.EXPAND_STATE_REVIEWS">\n          <wine-list-item\n            ng-if="$ctrl.viewState"\n            ng-repeat="review in $ctrl.tasting.taster_wine_reviews"\n            wine-view="{{$ctrl.wineListItemView()}}"\n            wine-item="review"\n            select-action="$ctrl.openWineReviewModal(review)">\n          </wine-list-item>\n          <wine-list-item\n            ng-if="!$ctrl.viewState"\n            ng-repeat="review in $ctrl.tasting.taster_wine_reviews"\n            wine-view="{{$ctrl.wineListItemView()}}"\n            wine-item="review"\n            select-action="$ctrl.openWineReviewStatusModal(review)">\n          </wine-list-item>\n          <div class="mobile-nav-spacer"></div>\n        </div>\n      </div>\n\n\n      <!--\n\n        REVEALS\n\n      -->\n\n      <div class="tasting-section"\n        ng-if="$ctrl.showReveals()">\n        <div class="tasting-header inverse">\n          <a href class="inverse"\n            ng-click="$ctrl.expandState==$ctrl.constants.EXPAND_STATE_NONE ? $ctrl.expandState=$ctrl.constants.EXPAND_STATE_REVEALS : $ctrl.expandState=$ctrl.constants.EXPAND_STATE_NONE">\n              <svg aria-hidden="true" data-prefix="fas" data-icon="award" class="svg-inline--fa fa-award fa-w-12" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M97.12 362.63l-5.3-5.3a9.004 9.004 0 0 0-4.02-2.32L72 350.77c-9.51-2.55-17.87-7.45-25.43-13.32L1.2 448.7c-4.39 10.77 3.81 22.47 15.43 22.03l52.69-2.01L105.56 507c8 8.44 22.04 5.81 26.43-4.96l52.05-127.62c-10.84 6.04-22.87 9.58-35.31 9.58-19.5 0-37.82-7.59-51.61-21.37zM382.8 448.7l-45.37-111.24c-7.56 5.88-15.92 10.77-25.43 13.32l-15.8 4.23a9.004 9.004 0 0 0-4.02 2.32l-5.3 5.3C273.09 376.41 254.76 384 235.26 384c-12.44 0-24.47-3.55-35.31-9.58L252 502.04c4.39 10.77 18.44 13.4 26.43 4.96l36.25-38.28 52.69 2.01c11.62.44 19.82-11.27 15.43-22.03zM263 340l5.21-5.3c5-5.09 11.22-8.75 18.05-10.61l15.53-4.23c13.89-3.79 24.75-14.84 28.47-28.98l4.16-15.81a41.145 41.145 0 0 1 10.42-18.37l11.37-11.57c10.17-10.35 14.14-25.44 10.42-39.58l-4.16-15.81a41.657 41.657 0 0 1 0-21.21l4.16-15.81c3.72-14.14-.25-29.23-10.42-39.58l-11.37-11.57c-5-5.09-8.59-11.42-10.42-18.37l-4.16-15.8c-3.72-14.14-14.58-25.19-28.47-28.98l-15.53-4.24c-6.83-1.86-13.05-5.52-18.05-10.61L256.84 12c-10.17-10.35-25-14.4-38.89-10.61l-15.53 4.24a39.614 39.614 0 0 1-20.84 0L166.05 1.4c-13.89-3.79-28.72.25-38.89 10.61l-11.37 11.57c-5 5.09-11.22 8.74-18.05 10.61l-15.53 4.24c-13.89 3.79-24.75 14.84-28.47 28.98l-4.16 15.8a41.145 41.145 0 0 1-10.42 18.37l-11.37 11.57c-10.17 10.35-14.15 25.44-10.42 39.58l4.16 15.8a41.657 41.657 0 0 1 0 21.21l-4.16 15.8c-3.72 14.14.25 29.23 10.42 39.59l11.37 11.57c5 5.09 8.59 11.42 10.42 18.37l4.16 15.8c3.72 14.14 14.58 25.19 28.47 28.98l15.53 4.23c6.83 1.86 13.05 5.52 18.05 10.61L121 340c13.23 13.47 33.84 15.88 49.74 5.82a39.676 39.676 0 0 1 42.53 0c15.89 10.06 36.5 7.65 49.73-5.82zM97.66 175.96c0-53.03 42.24-96.02 94.34-96.02s94.34 42.99 94.34 96.02-42.24 96.02-94.34 96.02-94.34-42.99-94.34-96.02z"></path></svg>\n            <h3>Reveal Wines</h3>\n          </a>\n          <button class="small-btn" ng-click="$ctrl.expandState==$ctrl.constants.EXPAND_STATE_NONE ? $ctrl.expandState=$ctrl.constants.EXPAND_STATE_REVEALS : $ctrl.expandState=$ctrl.constants.EXPAND_STATE_NONE">\n            <span class="fas fa-angle-down" ng-hide="$ctrl.expandState==$ctrl.constants.EXPAND_STATE_REVEALS"></span>\n            <span class="fas fa-angle-up" ng-show="$ctrl.expandState==$ctrl.constants.EXPAND_STATE_REVEALS"></span>\n          </button>\n        </div>\n        <div class="tasting-section-list" ng-if="$ctrl.expandState==$ctrl.constants.EXPAND_STATE_REVEALS">\n          <wine-list-item\n            ng-repeat="review in $ctrl.tasting.taster_wine_reviews"\n            wine-view="reveal"\n            wine-item="review"\n            select-action="$ctrl.openWineRevealModal(review)">\n          </wine-list-item>\n          <button class="text-btn"\n            ng-click="$ctrl.completeTasting()"\n            ng-if="$ctrl.tasterIsHost && $ctrl.allWinesRevealed()">\n              Complete Tasting\n          </button>\n          <div class="mobile-nav-spacer"></div>\n        </div>\n      </div>\n\n    </div>\n  </div>\n\n\n  <mobile-nav signed-in="true" is-host="$ctrl.taster.is_host"></mobile-nav>\n  <add-wine-modal tasting="$ctrl.tasting"></add-wine-modal>\n  <add-guest-modal tasting="$ctrl.tasting"></add-guest-modal>\n  <show-guest-modal></show-guest-modal>\n  <tasting-detail-modal tasting="$ctrl.tasting"></tasting-detail-modal>\n  <wine-info-modal wine-type="tastingWine"></wine-info-modal>\n  <wine-review-modal tasting="$ctrl.tasting"></wine-review-modal>\n  <wine-review-status-modal></wine-review-status-modal>\n  <wine-reveal-modal tasting-wines="$ctrl.tasting.tasting_wines"></wine-reveal-modal>\n  <alerts-modal></alerts-modal>\n  <notification></notification>\n  <wait-state wait-on="$ctrl.wait"></wait-state>\n\n  ';
},function(t,n,e){"use strict";function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.TastingNewComponent=void 0;var a=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),s=e(73);n.TastingNewComponent={bindings:{host:"<"},template:s.template,controller:function(){function t(n,e,a,s,o,r,c,l,d){"ngInject";var u=this;i(this,t),this.$log=e,this.$state=a,this._=s,this.GuestService=r,this.ModalService=o,this.TastingService=c,this.TastingWineService=l,this.WineService=d,this.currentFormState=1,this.tasting={tasting_wines:[],guests:[]},this.minOpenDate=moment(),this.minCloseDate=moment().add(1,"h"),this.hostTastingStatus={state:!1,label:"Host is not tasting"};var g=n.$on("create-host-location-event",function(t,n){n.primary&&u._.each(u.host.locations,function(t){t.primary=!1}),u.host.locations.push(n)}),p=n.$on("create-tasting-event",function(t,n){u.currentFormState=2,u.tasting=n}),v=n.$on("tasting-wine-create-event",function(t,n){u.tasting.tasting_wines.push(n)}),h=n.$on("tasting-wine-destroy-event",function(t,n){for(var e=0;e<u.tasting.tasting_wines.length;e++)if(u.tasting.tasting_wines[e].id==n.id){u.tasting.tasting_wines.splice(e,1);break}}),m=n.$on("include-host-as-guest-event",function(t,n){u.tasting.guests.push(n)}),f=n.$on("invite-new-user-event",function(t,n){u.tasting.guests.push(n)}),w=n.$on("invite-taster-event",function(t,n){u.tasting.guests.push(n)}),$=n.$on("modal-state-change-event",function(t,n){"host-location-modal"==n.name&&"confirmed"==n.state&&(u.tasting.location=n.data,u.tasting.location_id=n.data.id)}),b=n.$on("remove-host-as-guest-event",function(){for(var t=0;t<u.tasting.guests.length;t++)if(u.tasting.guests[t].taster_id&&u.tasting.guests[t].taster_id==u.tasting.host.taster_id){u.tasting.guests.splice(t,1);break}});n.$on("$destroy",g),n.$on("$destroy",p),n.$on("$destroy",v),n.$on("$destroy",h),n.$on("$destroy",m),n.$on("$destroy",f),n.$on("$destroy",w),n.$on("$destroy",$),n.$on("$destroy",b)}return t.$inject=["$scope","$log","$state","lodash","ModalService","GuestService","TastingService","TastingWineService","WineService"],a(t,[{key:"$onInit",value:function(){this.tasting.host_id=this.host.id,this.tasting.host=this.host;for(var t=0;t<this.host.locations.length;t++)if(this.host.locations[t].primary){this.tasting.host.locations[t].selected=!0,this.tasting.location=this.host.locations[t].location,this.tasting.location_id=this.tasting.location.id;break}}},{key:"createTasting",value:function(){var t=angular.copy(this.tasting);t.open_at=this.tasting.open_at.utc(),t.close_at&&(t.close_at=this.tasting.close_at.utc()),this.TastingService.createTasting(t)}},{key:"destroyTastingWine",value:function(t){this.TastingWineService.destroy(t)}},{key:"editTasting",value:function(){this.$state.go("tasting-show",{id:this.tasting.id})}},{key:"onOpenAtChange",value:function(t){this.minCloseDate=moment(t).add(1,"h")}},{key:"openConnectionModal",value:function(){this.ModalService.setModalState("open","add-connection-modal")}},{key:"openHostLocationModal",value:function(){this.ModalService.setModalState("open","host-location-modal")}},{key:"openTastingWineModal",value:function(){this.ModalService.setModalState("open","tasting-wine-modal",this.tasting)}},{key:"openGuestModal",value:function(){this.ModalService.setModalState("open","add-guest-modal")}},{key:"removeGuest",value:function(t){t.taster.id&&t.taster.id==this.host.taster.id&&(this.hostTastingStatus.state=!1,this.hostTastingStatus.label="Host is not tasting");for(var n=0;n<this.tasting.guests.length;n++)if(this.tasting.guests[n].temp_id==t.temp_id){this.tasting.guests.splice(n,1);break}}},{key:"setSelectedHostLocation",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.$log.log(t),this.tasting.location=t,this.tasting.location_id=t.id}}]),t}()}},function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.template='\n\n<div class="tasting">\n\n  <div class="desktop-logo">\n    <div class="desktop-logo-top"></div>\n    <div class="desktop-logo-bottom">\n      <a ui-sref="dashboard"><img src=\'assets/images/yno_tasting_logo_white.svg\'></a>\n      <desktop-nav-secondary signout-state="true"></desktop-nav-secondary>\n    </div>\n  </div>\n\n  <taster-panel taster="$ctrl.host.taster"></taster-panel>\n\n  <div class="tasting-panel">\n\n    <div class="tasting-section" ng-if="$ctrl.currentFormState==1">\n      <div class="tasting-header">\n        <h3 ng-if="!$ctrl.tasting.name">New Tasting</h3>\n        <h3 ng-if="$ctrl.tasting.name">{{$ctrl.tasting.name}}</h3>\n      </div>\n      <div class="tasting-section-list">\n        <p>Let\'s Get Started</p>\n        <form name="tastingForm" ng-submit="$ctrl.createTasting()">\n        <div class="main-form-container">\n          <div class="main-form-control" ng-class="{\'error\' : newTastingForm.tastingName.$touched && newTastingForm.tastingName.$invalid}">\n            <label><span>Name</span></label>\n            <input name="tastingName" type="text" ng-model="$ctrl.tasting.name" required>\n          </div>\n          <div class="main-form-control" ng-class="{\'error\' : newTastingForm.tastingOpenAt.$touched && newTastingForm.tastingOpenAt.$invalid}">\n            <label><span>Start</span></label>\n            <input name="tastingOpenAt"\n              moment-picker="$ctrl.tasting.open_at"\n              ng-model="$ctrl.tasting.open_at"\n              min-date="$ctrl.minOpenDate"\n              change="$ctrl.onOpenAtChange(newValue, oldValue)"\n              required>\n          </div>\n          <div class="main-form-control">\n            <label><span>End</span><span>(Optional)</span></label>\n            <input name="tastingCloseAt"\n              moment-picker="$ctrl.tasting.close_at"\n              ng-model="$ctrl.tasting.close_at"\n              min-date="$ctrl.minCloseDate">\n          </div>\n          <div class="main-form-control">\n            <label><span>Details</span><span>(Optional)</span></label>\n            <textarea name="tastingDescription" type="text" ng-model="$ctrl.tasting.description"></textarea>\n          </div>\n          <div class="main-form-control" ng-class="{\'error\' : newTastingForm.tastingLocation.$touched && newTastingForm.tastingLocation.$invalid}">\n            <label><span>Location</span></label>\n            <input type="hidden" ng-model="$ctrl.tasting.location.id"></input>\n            <textarea name="tastingLocation" type="text" required\n              ng-focus="$ctrl.openHostLocationModal()"\n              ng-readonly="true"\n              ng-model="$ctrl.tasting.location.to_short_string">\n            </textarea>\n          </div>\n          <div class="main-form-btns">\n            <span>&nbsp;</span>\n            <div>\n              <button type="reset">\n                <span class="fa fa-refresh"></span>\n              </button>\n              <button type="submit" ng-disabled="tastingForm.$invalid">\n                <span class="fa fa-arrow-right"></span>\n              </button>\n            </div>\n          </div>\n        </div>\n        </form>\n        <div class="mobile-nav-spacer"></div>\n      </div>\n    </div>\n    <div class="tasting-section" ng-if="$ctrl.currentFormState==2">\n      <div class="tasting-header">\n        <h3>{{$ctrl.tasting.name}}</h3>\n      </div>\n      <div class="tasting-section-list">\n        <p ng-if="$ctrl.tasting.tasting_wines.length==0">A tasting with no wines is just...sad.<br>However, you can add them later if you wish.</p>\n        <p ng-if="$ctrl.tasting.tasting_wines.length>0 && $ctrl.tasting.tasting_wines.length<6">Keep going...</p>\n        <p ng-if="$ctrl.tasting.tasting_wines.length==6">Just right!</p>\n        <p ng-if="$ctrl.tasting.tasting_wines.length>6">Now you\'re just being foolish.</p>\n        <wine-list-item\n          ng-repeat="wine in $ctrl.tasting.tasting_wines"\n          wine-item="wine"\n          wine-view="tastingPending"\n          delete-action="$ctrl.destroyTastingWine(wine)"\n          editable="true">\n        </wine-list-item>\n        <div class="main-form-btns">\n          <span class="descriptor">\n            <ng-pluralize count="$ctrl.tasting.tasting_wines.length"\n              when="{\n                \'0\':\'0 wines\',\n                \'1\':\'1 wine\',\n                \'other\':\'{} wines\'\n              }"></ng-pluralize>\n          </span>\n          <div>\n            <button ng-click="$ctrl.openTastingWineModal()"><span class="fa fa-plus"></span></button>\n            <button ng-click="$ctrl.currentFormState = 3"><span class="fa fa-arrow-right"></span></button>\n          </div>\n        </div>\n        <div class="mobile-nav-spacer"></div>\n      </div>\n    </div>\n    <div class="tasting-section" ng-if="$ctrl.currentFormState==3">\n      <div class="tasting-header">\n        <h3>{{$ctrl.tasting.name}}</h3>\n      </div>\n      <div class="tasting-section-list">\n        <p ng-if="$ctrl.tasting.guests.length==0">You have friends, right?<br>\n          Well, then invite them to your tasting and be somebody!\n        </p>\n        <guest-list-item\n          ng-repeat="guest in $ctrl.tasting.guests"\n          guest="guest"\n          editable="false">\n        </guest-list-item>\n        <div class="main-form-btns">\n          <span class="descriptor">\n            <ng-pluralize count="$ctrl.tasting.guests.length"\n              when="{\n                \'0\':\'0 guests\',\n                \'1\':\'1 guest\',\n                \'other\':\'{} guests\'\n              }"></ng-pluralize>\n          </span>\n          <div>\n            <button ng-click="$ctrl.openGuestModal()"><span class="fa fa-plus"></span></button>\n            <button ui-sref="tasting-show({id:$ctrl.tasting.id})"><span class="fa fa-arrow-right"></span></button>\n          </div>\n        </div>\n        <div class="mobile-nav-spacer"></div>\n      </div>\n    </div>\n  </div>\n\n</div>\n\n<mobile-nav signed-in="true" is-host="true"></mobile-nav>\n<host-location-modal host-locations="$ctrl.tasting.host.locations" selected-location="$ctrl.tasting.location"></host-location-modal>\n<add-wine-modal tasting="$ctrl.tasting"></add-wine-modal>\n<add-guest-modal tasting="$ctrl.tasting"></add-guest-modal>\n'},function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.TastingConstants={EXPAND_STATE_NONE:"expandStateNone",EXPAND_STATE_DETAILS:"expandStateDetails",EXPAND_STATE_WINES:"expandStateWines",EXPAND_STATE_GUESTS:"expandStateGuest",EXPAND_STATE_REVIEWS:"expandStateReviews",EXPAND_STATE_COMMENTS:"expandStateComments",EXPAND_STATE_REVEALS:"expandStateReveals"}},function(t,n){"use strict";function e(t,n){"ngInject";t.state("tasting-show",{url:"/tastings/:id",component:"tastingShow",resolve:{taster:["TasterService",function(t){return t.getTasterFromValidation()}],tasting:["$stateParams","TastingService",function(t,n){return n.getTasting(t.id)}],tasterIsHost:["taster","tasting",function(t,n){return t.id==n.host.taster.id}],hostIsTasting:["tasting","tasterIsHost",function(t,n){return n&&!t.host_is_not_tasting}],tastingIsFrozen:["tasting",function(t){return t.is_closed||t.is_completed}]}}).state("tasting-new",{url:"/tastings/new",component:"tastingNew",resolve:{host:["HostService",function(t){return t.getHostFromValidation()}]}}),n.otherwise("/")}e.$inject=["$stateProvider","$urlRouterProvider"],Object.defineProperty(n,"__esModule",{value:!0}),n.TastingConfig=e},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.UserModule=void 0;var i=e(77),a=e(79),s=e(81);n.UserModule=angular.module("user",[]).component("user",i.UserComponent).component("userHost",a.UserHostComponent).config(s.UserConfig).name},function(t,n,e){"use strict";function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.UserComponent=void 0;var a=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),s=e(78);n.UserComponent={bindings:{user:"<"},template:s.template,controller:function(){function t(n,e,a,s,o,r,c,l,d){"ngInject";var u=this;i(this,t),this.$log=e,this.$state=a,this.AlertsService=s,this.HostLocationService=o,this.LocationService=r,this.NotificationsService=c,this.TasterService=l,this.UserService=d,this.hostState=!1,this.hostStateLabel="Taster View",this.newHostLocation=null,this.newHostLocationInvalid=!0;var g=n.$on("end-alerts-event",function(t,n){"confirm"==n.action&&"deactivateTaster"==n.code&&(u.user.taster.status="inactive",l.update(u.user.taster))}),p=n.$on("user-update-event",function(t,n){u.user.email=n.email,l.update(u.user.taster)}),v=n.$on("taster-update-event",function(t,n){u.user.taster=n,u.NotificationsService.setNotification("Profile update complete")}),h=n.$on("create-host-location-event",function(t,n){if(u.NotificationsService.setNotification("New location added"),n.primary)for(var e=0;e<u.user.host.locations.length;e++)u.user.host.locations[e].primary=!1;u.user.host.locations.push(n)}),m=n.$on("create-location-event",function(t,n){u.newHostLocation.location_id=n.id,o.create(u.newHostLocation)}),f=n.$on("destroy-host-location-event",function(t,n){u.NotificationsService.setNotification("Location successfully removed");for(var e=0;e<u.user.host.locations.length;e++)if(u.user.host.locations[e].id==n.id){u.user.host.locations.splice(e,1);break}n.primary&&(u.user.host.locations[0].primary=!0)}),w=n.$on("update-host-location-event",function(t,n){for(var e=0;e<u.user.host.locations.length;e++)u.user.host.locations[e].id==n.id?u.user.host.locations[e].primary=!0:u.user.host.locations[e].primary=!1});n.$on("$destroy",g),n.$on("$destroy",h),n.$on("$destroy",m),n.$on("$destroy",f),n.$on("$destroy",w),n.$on("$destroy",p),n.$on("$destroy",v)}return t.$inject=["$scope","$log","$state","AlertsService","HostLocationService","LocationService","NotificationsService","TasterService","UserService"],a(t,[{key:"$onInit",value:function(){}},{key:"activateTaster",value:function(){this.user.taster.status="active",this.TasterService.update(this.user.taster)}},{key:"addLocation",value:function(){this.LocationService.create(this.newHostLocation.location)}},{key:"attemptDeactivateTaster",value:function(){this.AlertsService.setWarningAlert("Are you sure you want to deactivate your account? You will no longer receive invites nor be able to host tastings. You will remain active in tastings are currently involved with.","deactivateTaster",this.user.taster)}},{key:"changePrimaryHostLocation",value:function(t){t.primary=!0,this.HostLocationService.update(t)}},{key:"destroyHostLocation",value:function(t){this.HostLocationService.destroy(t.id)}},{key:"onNewHostLocationChange",value:function(t){var n=/[0-9]{3}-*[0-9]{3}-*[0-9]{4}/;this.newHostLocation=t,t.location.phone&&t.location.phone.match(n)&&t.location.address&&t.location.city&&t.location.state&&t.location.postal?this.newHostLocationInvalid=!1:this.newHostLocationInvalid=!0}},{key:"refreshLocation",value:function(){this.newHostLocation=null}},{key:"toggleHostState",value:function(){this.hostState=!this.hostState,this.hostState?this.hostStateLabel="Host View":this.hostStateLabel="Taster View"}},{key:"updateUser",value:function(){this.UserService.update(this.user)}}]),t}()}},function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.template='\n<div class="user">\n\n  <div class="desktop-logo">\n    <div class="desktop-logo-top"></div>\n    <div class="desktop-logo-bottom">\n      <a ui-sref="dashboard"><img src=\'assets/images/yno_tasting_logo_white.svg\'></a>\n      <desktop-nav-secondary signout-state="true"></desktop-nav-secondary>\n    </div>\n  </div>\n\n  <taster-panel taster="$ctrl.user.taster"></taster-panel>\n\n\n  <div class="user-panel">\n\n    <div class="user-mode"\n      ng-class="{inverse:$ctrl.hostState}"\n      ng-if="$ctrl.user.taster.status==\'active\'">\n      <toggle-switch\n        ng-if="$ctrl.user.host && $ctrl.user.taster.status==\'active\'"\n        toggle-trigger="$ctrl.toggleHostState()"\n        toggle-state="$ctrl.hostState"\n        toggle-label="$ctrl.hostStateLabel">\n      </toggle-switch>\n      <button class="text-btn good user-host-btn"\n        ng-if="!$ctrl.user.host && $ctrl.user.taster.status==\'active\'"\n        ui-sref="user-host">\n          Host Your Own Tastings!\n      </button>\n    </div>\n\n    <div class="user-panel-section" ng-if="!$ctrl.hostState">\n      <div class="user-inactive-notes" ng-if="$ctrl.user.taster.status==\'inactive\'">\n        Your taster account is currently inactive. All of your connections are invisible. You will no longer be invited to tastings. Please contact us if you would like to be permanently deleted from Yno Tasting.\n      </div>\n      <form name="userForm">\n        <div class="main-form-control"\n          ng-class="{\'error\':userForm.email.$dirty && userForm.email.$invalid}"\n          ng-if="$ctrl.user.taster.status==\'active\'">\n            <label for="email">Email</label>\n            <input type="email" ng-model="$ctrl.user.email" name="email" ng-pattern="/^[_a-z0-9]+(.[_a-z0-9]+)*@[a-z0-9-]+(.[a-z0-9-]+)*(.[a-z]{2,4})$/" required>\n        </div>\n        <div class="main-form-control"\n          ng-class="{\'error\':userForm.password.$dirty && userForm.password.$invalid}"\n          ng-if="$ctrl.user.taster.status==\'active\'">\n            <label for="password">Password</label>\n            <input type="password" name="password" placeholder="6 characters minimum"\n              ng-model="$ctrl.user.password" ng-minlength="6">\n        </div>\n        <div class="main-form-control"\n          ng-class="{\'error\':userForm.passwordConfirmation.$dirty && userForm.passwordConfirmation.$invalid}"\n          ng-if="$ctrl.user.taster.status==\'active\'">\n            <label for="password"><span>Password</span><span>Confirmation</span></label>\n            <input type="password" name="passwordConfirmation"\n              ng-model="$ctrl.user.password_confirmation" ng-minlength="6">\n        </div>\n        <div class="main-form-control"\n          ng-class="{\'error\':userForm.name.$dirty && userForm.name.$invalid}"\n          ng-if="$ctrl.user.taster.status==\'active\'">\n            <label for="name">Name</label>\n            <input type="text" ng-model="$ctrl.user.taster.name" name="name" required>\n        </div>\n        <div class="main-form-control"\n          ng-if="$ctrl.user.taster.status==\'active\'">\n            <label for="handle">Handle</label>\n            <input type="text" ng-model="$ctrl.user.taster.handle" name="handle" placeholder="Optional">\n        </div>\n        <div class="main-form-btns">\n          <span style="padding-left:1rem;">{{$ctrl.user.taster.status}}</span>\n          <div>\n            <button ng-click="$ctrl.attemptDeactivateTaster()" ng-if="$ctrl.user.taster.status==\'active\'">\n              <span class="fa fa-user-times"></span>\n            </button>\n            <button ng-click="$ctrl.activateTaster()" ng-if="$ctrl.user.taster.status==\'inactive\'">\n              <span class="fa fa-user-plus"></span>\n            </button>\n            <button\n              ng-click="$ctrl.updateUser()"\n              ng-if="$ctrl.user.taster.status==\'active\'"\n              ng-disabled="userForm.$invalid || ($ctrl.user.password && $ctrl.user.password!==$ctrl.user.password_confirmation)">\n                <span class="fa fa-check"></span>\n            </button>\n          </div>\n        </div>\n      </form>\n    </div>\n\n    <div class="user-panel-section"  ng-if="$ctrl.hostState">\n      <h3 ng-if="$ctrl.user.host.locations.length>0">Current Locations</h3>\n      <p ng-if="$ctrl.user.host.locations.length>0"><small><span class="fa fa-asterisk"></span> = primary</small></p>\n      <div class="user-host-locations" ng-repeat="hl in $ctrl.user.host.locations">\n        <div class="primary"><span class="fa fa-asterisk" ng-if="hl.primary"></span></div>\n        <div class="location">{{hl.location.to_short_string}}</div>\n        <div class="buttons">\n          <button class="small-btn"\n            ng-click="$ctrl.changePrimaryHostLocation(hl)"\n            ng-disabled="hl.primary || $ctrl.user.host.locations.length==1">\n              <span class="fa fa-asterisk"></span>\n          </button>\n          <button class="small-btn"\n            ng-click="$ctrl.destroyHostLocation(hl)"\n            ng-disabled="$ctrl.user.host.locations.length==1">\n              <span class="fa fa-minus"></span>\n          </button>\n        </div>\n      </div>\n      <h3>Add New Location</h3>\n      <host-location-form\n        check-action="$ctrl.onNewHostLocationChange(host_location)"\n        refresh-flag="$ctrl.newHostLocation">\n      </host-location-form>\n      <div class="main-form-btns">\n        <span>&nbsp;</span>\n        <div>\n          <button\n            ng-click="$ctrl.refreshLocation()">\n              <span class="fa fa-refresh"></span>\n          </button>\n          <button\n            ng-click="$ctrl.addLocation()"\n            ng-disabled="$ctrl.newHostLocationInvalid">\n              <span class="fa fa-check"></span>\n          </button>\n        </div>\n      </div>\n      <div class="mobile-nav-spacer"></div>\n    </div>\n\n  </div><!-- end user-panel -->\n\n</div> <!-- end user -->\n\n<mobile-nav signed-in="true" is-host="$ctrl.user.taster.is_host"></mobile-nav>\n<notification></notification>\n<alerts-modal></alerts-modal>\n'},function(t,n,e){"use strict";function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.UserHostComponent=void 0;var a=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),s=e(80);n.UserHostComponent={bindings:{taster:"<"},template:s.template,controller:function(){function t(n,e,a,s,o,r){"ngInject";var c=this;i(this,t),this.$log=e,this.$state=a,this.HostService=s,this.LocationService=r,this.newHostLocation=null,this.newHostLocationInvalid=!0,this.host={};var l=n.$on("host-create-event",function(t,n){c.host=n,r.create(c.newHostLocation.location)}),d=n.$on("create-location-event",function(t,n){c.newHostLocation.location_id=n.id,o.create(c.newHostLocation)}),u=n.$on("create-host-location-event",function(){c.newHostLocation=null,c.$state.go("tasting-new")});n.$on("$destroy",d),n.$on("$destroy",l),n.$on("$destroy",u)}return t.$inject=["$scope","$log","$state","HostService","HostLocationService","LocationService"],a(t,[{key:"$onInit",value:function(){this.taster.is_host?this.$state.go("tasting-new"):(this.host.taster=this.taster,this.host.taster_id=this.taster.id,this.host.connections=[])}},{key:"addHostLocation",value:function(){this.host.id?this.LocationService.create(this.newHostLocation.location):this.HostService.create(this.host)}},{key:"onNewHostLocationChange",value:function(t){var n=/[0-9]{3}-*[0-9]{3}-*[0-9]{4}/;this.newHostLocation=t,t.location.phone&&t.location.phone.match(n)&&t.location.address&&t.location.city&&t.location.state&&t.location.postal?this.newHostLocationInvalid=!1:this.newHostLocationInvalid=!0}}]),t}()}},function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.template='\n\n<div class="user">\n\n  <div class="desktop-logo">\n    <div class="desktop-logo-top"></div>\n    <div class="desktop-logo-bottom">\n      <a ui-sref="dashboard"><img src=\'assets/images/yno_tasting_logo_white.svg\'></a>\n      <desktop-nav-secondary signout-state="true"></desktop-nav-secondary>\n    </div>\n  </div>\n\n  <taster-panel taster="$ctrl.taster"></taster-panel>\n\n  <div class="user-panel">\n    <div class="host-header">\n      <h3>Host Sign Up</h3>\n      <span>\n        Becoming a tasting host is easy. Simple add one or more tasting locations and you can begin inviting friends.\n      </span>\n    </div>\n    <div class="host-panel-section" ng-if="!$ctrl.hostState">\n      <host-location-form\n        check-action="$ctrl.onNewHostLocationChange(host_location)">\n      </host-location-form>\n      <div class="main-form-btns">\n        <span>&nbsp;</span>\n        <div>\n          <button type="reset"><span class="fa fa-refresh"></span></button>\n          <button\n            ng-click="$ctrl.addHostLocation()"\n            ng-disabled="$ctrl.newHostLocationInvalid">\n              <span class="fa fa-check"></span>\n          </button>\n        </div>\n      </div>\n      <div class="mobile-nav-spacer"></div>\n    </div>\n  </div>\n\n</div>\n\n\n<mobile-nav></mobile-nav>\n<notification></notification>\n<alerts-modal></alerts-modal>\n'},function(t,n){"use strict";function e(t,n){"ngInject";t.state("user",{url:"/user",component:"user",resolve:{raw_user:["UserService",function(t){return t.getUserByValidation()}],user:["raw_user","UserService",function(t,n){return n.show(t.id)}]}}).state("user-host",{url:"/host",component:"userHost",resolve:{taster:["TasterService",function(t){return t.getTasterFromValidation()}]}}),n.otherwise("/")}e.$inject=["$stateProvider","$urlRouterProvider"],Object.defineProperty(n,"__esModule",{value:!0}),n.UserConfig=e},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.WelcomeModule=void 0;var i=e(83),a=e(85),s=e(87),o=e(89),r=e(91),c=e(93),l=e(95),d=e(97),u=e(99),g=e(101),p=e(103),v=e(104);n.WelcomeModule=angular.module("welcome",[]).component("welcome",c.WelcomeComponent).component("welcomeAcceptInvite",i.WelcomeAcceptInviteComponent).component("welcomeAlexa",a.WelcomeAlexatComponent).component("welcomeHow",s.WelcomeHowComponent).component("welcomePasswordReset",d.WelcomePasswordResetComponent).component("welcomePrivacy",u.WelcomePrivacyComponent).component("welcomeSignin",o.WelcomeSigninComponent).component("welcomeSignup",r.WelcomeSignupComponent).component("welcomeWho",l.WelcomeWhoComponent).component("welcomeWhy",g.WelcomeWhyComponent).constant("welcomeConstants",v.WelcomeConstants).config(p.WelcomeConfig).name},function(t,n,e){"use strict";function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.WelcomeAcceptInviteComponent=void 0;var a=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),s=e(84);n.WelcomeAcceptInviteComponent={bindings:{token:"<"},template:s.template,controller:function(){function t(n,e,a,s,o){"ngInject";var r=this;i(this,t),this.$log=e,this.$state=a,this.TasterService=s,this.UserService=o,this.taster={user:{}};var c=n.$on("taster-update-event",function(){r.$state.go("invitations")});n.$on("$destroy",c)}return t.$inject=["$scope","$log","$state","TasterService","UserService"],a(t,[{key:"$onInit",value:function(){this.taster.user.invitation_token=this.token}},{key:"acceptInvite",value:function(){var t=this;this.UserService.acceptInvite(this.taster.user).then(function(n){t.taster.id=n.taster.id,t.taster.status="active",t.TasterService.update(t.taster)})}}]),t}()}},function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.template='\n\n<div class="welcome-background">\n\n  <div class="welcome-hero">\n    <img src=\'assets/images/welcome/welcome-landing-hero.png\'>\n  </div>\n\n  <div class="welcome-hero-cover"></div>\n\n  <div class="welcome-logo">\n    <a ui-sref=\'welcome\'><img src=\'assets/images/yno_tasting_logo_white.svg\'></a>\n    <desktop-nav-secondary></desktop-nav-secondary>\n  </div>\n\n  <div class="welcome-copy full">\n    <h2>Come on in. The wine is fine.</h2>\n    <p>Set up up your account so we can get you on to your tasting!</p>\n    <form name="acceptInviteForm" ng-submit="$ctrl.acceptInvite()">\n      <div class="main-form-control" ng-class="{\'error\':acceptInviteForm.name.$dirty && acceptInviteForm.name.$invalid}">\n        <label>Name</label>\n        <input type="text" name="name" placeholder="Jane Doe" required\n          ng-model="$ctrl.taster.name">\n      </div>\n      <div class="main-form-control">\n        <label><span>Handle</span><span>(Optional)</span></label>\n        <input ng-model="$ctrl.taster.handle" type="text" placeholder="Wine Diva">\n      </div>\n      <div class="main-form-control" ng-class="{\'error\':acceptInviteForm.password.$dirty && acceptInviteForm.password.$invalid}">\n        <label>Password</label>\n        <input name="password" type="password" placeholder="6 characters minimum" required\n          ng-model="$ctrl.taster.user.password"\n          ng-minlength="6">\n      </div>\n      <div class="main-form-control" ng-class="{\'error\':acceptInviteForm.passwordConfirmation.$dirty && acceptInviteForm.passwordConfirmation.$invalid}">\n        <label><span>Password</span><span>Confirmation</span></label>\n        <input type="password" name="passwordConfirmation" required\n          ng-model="$ctrl.taster.user.password_confirmation"\n          ng-minlength="6">\n      </div>\n      <div class="main-form-btns">\n        <span class=\'descriptor\'>Accept Invite</span>\n        <button type="submit"\n          ng-disabled="acceptInviteForm.$invalid || $ctrl.taster.user.password!=$ctrl.taster.user.password_confirmation">\n          <i class="fa fa-check"></i>\n        </button>\n      </div>\n    </form>\n  </div>\n\n  <desktop-nav-primary welcome-state="$ctrl.constants.WELCOME_SIGNIN_STATE"></desktop-nav-primary>\n\n</div>\n<mobile-nav></mobile-nav>\n<wait-state></wait-state>\n<alerts-modal></alerts-modal>\n\n'},function(t,n,e){"use strict";function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.WelcomeAlexatComponent=void 0;var a=e(86);n.WelcomeAlexatComponent={template:a.template,controller:["$log","$state","welcomeConstants",function s(t,n,e){"ngInject";i(this,s),this.$log=t,this.$state=n,this.constants=e}]}},function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.template='\n\n  <div class="welcome-background">\n\n    <div class="welcome-hero">\n      <img src="assets/images/welcome/welcome-alexa-hero.png">\n      <span>Put the phone down. Ask Alexa.</span>\n    </div>\n\n    <div class="welcome-hero-cover"></div>\n\n    <div class="welcome-logo">\n      <a ui-sref=\'welcome\'><img src=\'assets/images/yno_tasting_logo_white.svg\'></a>\n      <desktop-nav-secondary></desktop-nav-secondary>\n    </div>\n\n    <div class="welcome-copy top">\n      <h2>Alexa. Party rescue.</h2>\n      <p>Your wine glass in one hand. Canapé in the other. How do you rate wine 1? Just ask Alexa. Yno Tasting is fully <em>Alexified</em>. Every Yno Guest can use Alexa through out a tasting to rate, comment, and get tasting stats. Yno Hosts add the <a href=\'https://www.amazon.com/Brainstorm-Creative-Wine-Trivia/dp/B071Y1HRP1/ref=sr_1_1?s=digital-skills&ie=UTF8&qid=1524978656&sr=1-1&keywords=wine+trivia\' target=\'_blank\'>Yno Tasting Alexa Skill</a> to any Amazon Echo device. </p>\n    </div>\n\n    <div class="welcome-copy bottom">\n      <p>Ask Alexa:<br>\n        <ul>\n          <li>Alexa, tell wine tasting to rate wine 1</li>\n          <li>Alexa, tell wine tasting to add a comment for wine 1</li>\n          <li>Alexa, ask wine tasting what the average rating is for wine 1</li>\n          <li>Alexa, ask wine tasting for my ratings</li>\n          <li>Alexa, ask wine tasting for tasting stats</li>\n        </ul>\n      </p>\n      <div>\n        <button class=\'text-btn\' ui-sref="welcome-signup">Wine Up Now!</button>\n      </div>\n    </div>\n\n    <desktop-nav-primary></desktop-nav-primary>\n    <div class="mobile-nav-spacer"></div>\n  </div>\n\n  <mobile-nav></mobile-nav>\n\n';
},function(t,n,e){"use strict";function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.WelcomeHowComponent=void 0;var a=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),s=e(88);n.WelcomeHowComponent={bindings:{taster:"<"},template:s.template,controller:function(){function t(n,e,a,s){"ngInject";i(this,t),this.$element=a,this.$log=n,this.$state=e,this.constants=s,this.step=0}return t.$inject=["$log","$state","$element","welcomeConstants"],a(t,[{key:"nextStep",value:function(t){var n=this,e="#step"+this.step,i="#step"+(this.step+t);this.$element.find(i).css("display","flex"),1==t?(TweenMax.to(e,1,{top:"-100%",bottom:"100%",autoAlpha:0,onComplete:function(){n.$element.find(e).css("display","none")}}),TweenMax.to(i,0,{top:"100%",bottom:"-100%",autoAlpha:0,onComplete:function(){TweenMax.to(i,1,{top:0,bottom:0,autoAlpha:1})}})):(TweenMax.to(e,1,{top:"100%",bottom:"-100%",autoAlpha:0,onComplete:function(){n.$element.find(e).css("display","none")}}),TweenMax.to(i,0,{top:"-100%",bottom:"100%",autoAlpha:0,onComplete:function(){TweenMax.to(i,1,{top:0,bottom:0,autoAlpha:1})}})),this.step+=t}}]),t}()}},function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.template='\n\n  <div id=\'step0\' class="welcome-background">\n\n    <div class="welcome-hero">\n      <img src="assets/images/welcome/welcome-how-hero.png">\n      <span>It’s blind wine tastings with friends... what could go wrong?</span>\n    </div>\n\n    <div class="welcome-hero-cover"></div>\n\n    <div class="welcome-logo">\n      <a ui-sref=\'welcome\'><img src=\'assets/images/yno_tasting_logo_white.svg\'></a>\n      <desktop-nav-secondary></desktop-nav-secondary>\n    </div>\n\n    <div class="welcome-copy top">\n      <h2>Bag it. Tag it. Taste it. Rate it. Repeat.</h2>\n      <p>Tasting wine blind is simple. Sign up as a Yno Tasting Host. Use a <a href="http://ynoguy.com" target="_blank">Yno Guy</a> curated tasting list or choose 6 wines of your own. Use the Yno Tasting platform to name/date your event and invite your friends. Then...get ready to party!</p>\n    </div>\n\n    <div class="welcome-copy bottom">\n      <p>On tasting day, Yno does all the work. Your guests simply log in on their mobile devices and record their rating and comments on each wine. They can even use an <a ui-sref=\'welcome-alexa\'>Alexa</a> device to record hands free. When your tasting is complete, use Yno to reveal your wines and review your results.</p>\n      <div class="text-btns">\n        <button class=\'text-btn\' ui-sref="welcome-signup">Wine Up Now!</button>\n        <button class=\'text-btn\' ng-click="$ctrl.nextStep(1)"><span class=\'fas fa-angle-down\'></span> Learn More</button>\n      </div>\n    </div>\n\n    <desktop-nav-primary id="desktop-nav" welcome-state="$ctrl.constants.WELCOME_HOW_STATE"></desktop-nav-primary>\n\n  </div>\n\n\n  <div id=\'step1\' class="welcome-background how-step">\n\n    <div class="welcome-how-hero">\n    <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n       width="600px" height="414.664px" viewBox="0 0 600 414.664" enable-background="new 0 0 600 414.664" xml:space="preserve">\n         <path class=\'element\' fill="#CECCCC" d="M416.97,127.589c-3.592,0.793-4.535,5.29-4.535,5.29l33.422-7.369c0,0-2.752-3.681-6.344-2.888\n         	c-3.838,0.843-8.541-2.123-12.379-15.553c7.411-2.616,12.755-9.606,12.755-17.904c0-10.532-8.535-19.062-19.062-19.062\n         	c-0.383,0-0.751,0.093-1.133,0.114c-1.151-7.033-1.859-12.644-1.491-14.045c14.853-6.612,24.917-23.272,21.275-39.755\n         	c-1.266-5.739-3.967-11.1-7.827-15.496l-0.801-0.922L372.133,12.95l-0.343,1.168c-1.651,5.614-1.852,11.618-0.586,17.354\n         	c3.734,16.915,20.549,27.964,37.31,27.078c0.919,1.154,2.609,6.49,4.475,13.273c-6.604,2.988-11.222,9.606-11.222,17.34\n         	c0,4.106,1.329,7.891,3.545,11.007l-51.119,38.547h-38.054c10.672-6.89,18.237-18.098,20.339-31.142\n         	c-0.189,0.064-0.347,0.161-0.54,0.221c-10.092,2.98-20.691-2.784-23.68-12.876c-0.16-0.554-0.2-1.104-0.314-1.658l23.037-6.808\n         	c-5.868-18.498-23.162-31.907-43.601-31.907c-25.261,0-45.744,20.478-45.744,45.744c0,16.128,8.37,30.277,20.979,38.425H154.144\n         	l80.51,120.765h-18.235c0,14.545,11.461,26.213,25.785,26.753l-31.549,94.655c-2.1-0.415-4.271-0.647-6.492-0.647\n         	c-18.187,0-32.936,14.746-32.936,32.936h28.662h37.207h8.537l45.745-91.489l45.744,91.489h7.318h36.596h29.276\n         	c0-18.19-14.741-32.936-32.936-32.936c-2.284,0-4.507,0.232-6.658,0.675l-37.113-122.548l-5.025-79.399l50.012-2.208l36.863-69.403\n         	c1.72,0.504,3.495,0.858,5.372,0.858c0.278,0,0.532-0.071,0.811-0.079C423.85,122.043,420.826,126.739,416.97,127.589z\n         	 M251.586,214.458l-21.839-35.484h23.204L251.586,214.458z M301.283,86.263c-5.812,0-10.521-4.71-10.521-10.521\n         	s4.71-10.521,10.521-10.521c5.811,0,10.521,4.71,10.521,10.521S307.094,86.263,301.283,86.263z"/>\n      </svg>\n    </div>\n\n    <div class="welcome-logo" ng-if="$ctrl.step==1">\n      <a ui-sref=\'welcome\'><img src=\'assets/images/yno_tasting_logo_white.svg\'></a>\n      <desktop-nav-secondary how-state="true" ></desktop-nav-secondary>\n    </div>\n\n    <div class="welcome-copy full">\n      <h2>Step 1. Yno Taster.</h2>\n      <p>Start by <a ui-sref=\'welcome-signup\'>signing up to be a Yno Taster.</a></p>\n      <p>Tasters can:<br>\n        <ul>\n          <li>receive invitations to Yno Tastings</li>\n          <li>view the latest tasting trends</li>\n          <li>review their own tasting history.</li>\n          </ul>\n          <p>Signing up is free and secure with no commitments. In the future, tasters will be able to opt into public tastings.</p>\n      <div class="text-btns">\n        <button class=\'text-btn\' ng-click="$ctrl.nextStep(-1)"><span class=\'fas fa-angle-up\'></span> How to Yno</button>\n        <button class=\'text-btn\' ng-click="$ctrl.nextStep(1)"><span class=\'fas fa-angle-down\'></span> Step 2</button>\n      </div>\n    </div>\n\n  </div>\n\n\n  <div id=\'step2\' class="welcome-background how-step">\n\n    <div class="welcome-how-hero">\n    <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n       width="600px" height="414.664px" viewBox="0 0 600 414.664" enable-background="new 0 0 600 414.664" xml:space="preserve">\n    <path fill="#63666A" d="M448.744,414.664c-93.002,0-209.338,0-209.338,0L0,0h386.666l199.156,349.331c0,0,2.668,19.25-17.582,39.5\n      C552.385,404.686,518.914,414.664,448.744,414.664z"/>\n    <path fill="#A79F94" d="M570.076,361.7c0,0,7.334,52.964-128.445,52.964c-31.334,0-202.225,0-202.225,0L0,0h386.666\n      c0,0,183.592,319.465,194.006,338.667C596.742,368.302,570.076,361.7,570.076,361.7z"/>\n    <g>\n      <defs>\n        <path id="SVGID_1_" d="M570.076,361.7c0,0,7.334,52.964-128.445,52.964c-31.334,0-202.225,0-202.225,0L0,0h386.666\n          c0,0,183.592,319.465,194.006,338.667C596.742,368.302,570.076,361.7,570.076,361.7z"/>\n      </defs>\n      <clipPath id="SVGID_2_">\n        <use xlink:href="#SVGID_1_"  overflow="visible"/>\n      </clipPath>\n      <g clip-path="url(#SVGID_2_)">\n        <polygon points="106.239,53.809 116.939,61.505 122.727,55.604 130.48,64.342 139.672,60.813 143.72,69.737 155.418,68.927\n          155.363,77.164 168.423,79.15 164.271,85.894 177.413,90.483 169.57,95.073 181.509,101.816 170.744,103.803 180.31,112.04\n          167.676,111.229 173.933,120.153 160.666,116.625 163.002,125.362 150.4,119.461 148.588,127.158 137.887,119.461 132.1,125.362\n          124.347,116.625 115.154,120.153 111.107,111.229 99.408,112.04 99.463,103.803 86.403,101.816 90.556,95.073 77.413,90.483\n          85.256,85.894 73.317,79.15 84.083,77.164 74.518,68.927 87.151,69.737 80.895,60.813 94.16,64.342 91.825,55.604 104.426,61.505\n              "/>\n        <path d="M293.314,90.312c11.748,20.35-1.217,36.846-28.96,36.846s-59.759-16.497-71.507-36.846\n          c-11.748-20.349,1.218-36.845,28.961-36.845S281.566,69.963,293.314,90.312z"/>\n        <polygon points="411.4,101.73 323.674,101.73 298.373,57.907 386.098,57.907 		"/>\n        <polygon points="426.08,127.158 338.354,127.158 330.73,113.955 418.457,113.955 		"/>\n        <polygon points="331.676,368.302 243.949,368.302 236.326,355.099 324.053,355.099 		"/>\n        <path d="M267.885,247.185h-100l-35.42-61.349c0,0,10.77-13.955,42.103-13.955s57.897,13.955,57.897,13.955L267.885,247.185z"/>\n        <polygon points="344.175,171.881 244.175,171.881 287.651,247.185 387.651,247.185 		"/>\n        <polygon points="397.299,286.304 325.965,286.304 375.283,371.724 446.615,371.724 		"/>\n        <polygon points="488.57,209.517 458.963,247.185 385.924,209.55 415.531,171.881 		"/>\n        <path d="M308.68,317.845c9.122,15.799-5.869,28.605-33.484,28.605c-27.613,0-57.394-12.807-66.516-28.605\n          c-9.121-15.799,5.871-28.606,33.484-28.606C269.779,289.238,299.559,302.046,308.68,317.845z"/>\n        <path d="M548.762,329.015c13.617,23.587,5.615,42.709-17.873,42.709c-23.49,0-53.572-19.122-67.191-42.709\n          c-13.619-23.589-5.617-42.711,17.873-42.711S535.143,305.426,548.762,329.015z"/>\n        <g>\n          <polygon points="206.199,140.341 106.199,140.341 104.222,136.917 204.222,136.917 			"/>\n          <polygon points="209.586,146.208 109.586,146.208 107.609,142.785 207.609,142.785 			"/>\n          <polygon points="212.975,152.076 112.975,152.076 110.998,148.653 210.998,148.653 			"/>\n        </g>\n        <g>\n          <polygon points="321.965,140.341 221.965,140.341 219.988,136.917 319.987,136.917 			"/>\n          <polygon points="325.352,146.208 225.352,146.208 223.376,142.785 323.375,142.785 			"/>\n          <polygon points="328.74,152.076 228.74,152.076 226.764,148.653 326.764,148.653 			"/>\n        </g>\n        <g>\n          <polygon points="441.631,140.341 341.633,140.341 339.655,136.917 439.654,136.917 			"/>\n          <polygon points="445.02,146.208 345.02,146.208 343.043,142.785 443.043,142.785 			"/>\n          <polygon points="448.406,152.076 348.408,152.076 346.432,148.653 446.43,148.653 			"/>\n        </g>\n        <g>\n          <polygon points="274.66,258.919 174.66,258.919 172.684,255.497 272.684,255.497 			"/>\n          <polygon points="278.049,264.788 178.049,264.788 176.072,261.365 276.072,261.365 			"/>\n          <polygon points="281.436,270.655 181.436,270.655 179.46,267.233 279.46,267.233 			"/>\n        </g>\n        <g>\n          <polygon points="390.426,258.919 290.426,258.919 288.45,255.497 388.449,255.497 			"/>\n          <polygon points="393.814,264.788 293.814,264.788 291.838,261.365 391.838,261.365 			"/>\n          <polygon points="397.201,270.655 297.201,270.655 295.227,267.233 395.226,267.233 			"/>\n        </g>\n        <g>\n          <polygon points="510.092,258.919 410.094,258.919 408.117,255.497 508.117,255.497 			"/>\n          <polygon points="513.48,264.788 413.482,264.788 411.506,261.365 511.504,261.365 			"/>\n          <polygon points="516.869,270.655 416.869,270.655 414.894,267.233 514.893,267.233 			"/>\n        </g>\n        <g>\n          <polygon points="345.24,381.167 245.24,381.167 243.264,377.745 343.264,377.745 			"/>\n          <polygon points="348.627,387.035 248.627,387.035 246.651,383.612 346.651,383.612 			"/>\n          <polygon points="352.016,392.903 252.016,392.903 250.04,389.481 350.04,389.481 			"/>\n        </g>\n        <g>\n          <polygon points="461.006,381.167 361.006,381.167 359.03,377.745 459.029,377.745 			"/>\n          <polygon points="464.393,387.035 364.394,387.035 362.418,383.612 462.418,383.612 			"/>\n          <polygon points="467.781,392.903 367.781,392.903 365.807,389.481 465.807,389.481 			"/>\n        </g>\n        <g>\n          <polygon points="580.672,381.167 480.674,381.167 478.697,377.745 578.697,377.745 			"/>\n          <polygon points="584.061,387.035 484.061,387.035 482.086,383.612 582.084,383.612 			"/>\n          <polygon points="587.449,392.903 487.449,392.903 485.475,389.481 585.473,389.481 			"/>\n        </g>\n        <g>\n          <path d="M61.366,24.978c0.012,0.616-0.175,1.145-0.562,1.584c-0.386,0.44-0.96,0.783-1.721,1.03\n            c-0.762,0.247-1.695,0.37-2.799,0.37c-1.12,0-2.199-0.123-3.237-0.37c-1.039-0.247-1.997-0.59-2.875-1.03\n            s-1.663-0.968-2.354-1.584s-1.254-1.299-1.688-2.051l-4.482-7.763h4.08l4.34,7.517c0.196,0.341,0.443,0.664,0.738,0.968\n            c0.297,0.305,0.638,0.578,1.025,0.818c0.387,0.241,0.824,0.432,1.314,0.573c0.488,0.141,1.021,0.211,1.598,0.211\n            s1.027-0.07,1.354-0.211c0.327-0.141,0.549-0.332,0.666-0.573c0.117-0.24,0.144-0.513,0.079-0.818\n            c-0.063-0.305-0.194-0.627-0.392-0.968l-4.34-7.517h4.104l4.482,7.763C61.132,23.678,61.354,24.361,61.366,24.978z"/>\n          <path d="M74.355,27.627l-2.764-4.788c-0.143-0.247-0.307-0.481-0.491-0.704c-0.185-0.223-0.39-0.42-0.616-0.59\n            S70,21.24,69.71,21.14c-0.289-0.1-0.61-0.149-0.962-0.149s-0.631,0.049-0.838,0.149c-0.206,0.1-0.347,0.238-0.421,0.414\n            c-0.075,0.176-0.09,0.378-0.046,0.607c0.045,0.229,0.139,0.466,0.28,0.713l2.744,4.753h-3.96l-5.062-8.767h3.815l0.702,1.215\n            h0.048c0.035-0.188,0.117-0.373,0.244-0.555c0.127-0.182,0.309-0.337,0.547-0.466c0.236-0.129,0.516-0.235,0.836-0.317\n            c0.32-0.082,0.689-0.123,1.105-0.123c0.8,0,1.541,0.105,2.223,0.317s1.291,0.484,1.828,0.818c0.537,0.334,1.008,0.719,1.41,1.153\n            c0.403,0.435,0.73,0.869,0.98,1.303l3.131,5.422H74.355z"/>\n          <path d="M90.34,27.627l-0.661-1.144h-0.048c-0.127,0.446-0.477,0.789-1.049,1.03c-0.574,0.24-1.26,0.361-2.061,0.361\n            c-0.896,0-1.771-0.129-2.623-0.387c-0.854-0.258-1.647-0.602-2.383-1.03c-0.735-0.428-1.395-0.924-1.975-1.487\n            c-0.582-0.563-1.049-1.15-1.4-1.76c-0.353-0.61-0.558-1.194-0.615-1.751c-0.059-0.558,0.035-1.047,0.279-1.47\n            c0.244-0.422,0.643-0.757,1.196-1.003s1.263-0.37,2.127-0.37c0.88,0,1.694,0.123,2.445,0.37c0.75,0.247,1.378,0.517,1.884,0.81\n            h0.047l-3.16-5.475h3.936l7.684,13.309H90.34z M87.654,23.226c-0.162-0.282-0.39-0.557-0.682-0.827\n            c-0.291-0.27-0.623-0.511-0.992-0.722c-0.371-0.211-0.769-0.382-1.195-0.511c-0.426-0.129-0.863-0.193-1.311-0.193\n            c-0.465,0-0.836,0.064-1.113,0.193s-0.477,0.296-0.598,0.501c-0.122,0.206-0.165,0.443-0.129,0.713s0.135,0.545,0.298,0.827\n            s0.384,0.561,0.663,0.836c0.278,0.275,0.6,0.519,0.961,0.73c0.362,0.211,0.756,0.382,1.184,0.511\n            c0.426,0.129,0.871,0.193,1.335,0.193c0.448,0,0.812-0.064,1.089-0.193c0.277-0.129,0.479-0.299,0.605-0.511\n            c0.125-0.211,0.179-0.452,0.158-0.722C87.908,23.784,87.816,23.507,87.654,23.226z"/>\n          <path d="M106.47,23.349c0.067,0.118,0.136,0.235,0.203,0.352c0.067,0.118,0.124,0.229,0.169,0.334h-8.664\n            c0.174,0.247,0.403,0.47,0.687,0.669c0.283,0.2,0.599,0.373,0.948,0.52c0.349,0.147,0.711,0.261,1.086,0.343\n            s0.738,0.123,1.091,0.123c0.624,0,1.103-0.085,1.437-0.255c0.334-0.17,0.559-0.39,0.676-0.661l3.467,1.268\n            c-0.215,0.599-0.688,1.06-1.422,1.382c-0.734,0.322-1.709,0.484-2.924,0.484c-0.896,0-1.805-0.103-2.723-0.308\n            c-0.918-0.206-1.791-0.504-2.617-0.897c-0.828-0.394-1.58-0.877-2.256-1.453s-1.227-1.232-1.654-1.972\n            c-0.413-0.716-0.619-1.364-0.619-1.945c0.001-0.581,0.172-1.074,0.515-1.479s0.841-0.719,1.497-0.942\n            c0.654-0.223,1.438-0.334,2.35-0.334c0.881,0,1.751,0.108,2.612,0.326s1.675,0.531,2.44,0.942s1.465,0.91,2.1,1.497\n            S106.036,22.598,106.47,23.349z M102.205,22.24c-0.264-0.458-0.688-0.851-1.269-1.18c-0.582-0.328-1.265-0.493-2.049-0.493\n            c-0.384,0-0.711,0.044-0.979,0.132c-0.27,0.087-0.48,0.208-0.632,0.36c-0.151,0.153-0.24,0.332-0.267,0.537\n            c-0.025,0.206,0.019,0.419,0.132,0.643H102.205z"/>\n          <path d="M115.449,21.237c-0.195-0.035-0.381-0.059-0.557-0.07c-0.174-0.012-0.342-0.018-0.502-0.018\n            c-0.527,0-0.931,0.07-1.21,0.21c-0.278,0.141-0.47,0.311-0.57,0.509c-0.101,0.199-0.132,0.416-0.093,0.65\n            c0.039,0.234,0.109,0.438,0.211,0.614l2.595,4.495h-3.937l-5.055-8.756h3.792l0.731,1.268h0.048\n            c0.045-0.449,0.265-0.815,0.661-1.099c0.396-0.283,0.963-0.425,1.699-0.425c0.16,0,0.318,0.006,0.479,0.018\n            c0.158,0.012,0.293,0.03,0.402,0.053L115.449,21.237z"/>\n          <path d="M126.697,14.988c0.926,0.023,1.93,0.141,3.012,0.352c1.082,0.211,2.127,0.54,3.137,0.985\n            c-0.404,0.658-0.811,1.297-1.22,1.919c-0.569-0.293-1.181-0.522-1.837-0.687c-0.654-0.164-1.241-0.252-1.76-0.264l1.626,2.817\n            c0.706,0.141,1.429,0.299,2.171,0.475c0.741,0.176,1.461,0.411,2.158,0.704c0.697,0.293,1.336,0.651,1.916,1.074\n            c0.58,0.422,1.053,0.95,1.418,1.584c0.373,0.646,0.541,1.206,0.504,1.681c-0.039,0.475-0.227,0.871-0.562,1.188\n            c-0.337,0.317-0.791,0.558-1.359,0.722c-0.57,0.164-1.203,0.252-1.899,0.264l0.741,1.285h-1.775l-0.742-1.285\n            c-1.055-0.024-2.184-0.167-3.393-0.432s-2.365-0.66-3.471-1.188c0.233-0.317,0.469-0.637,0.707-0.959\n            c0.236-0.323,0.469-0.648,0.695-0.977c0.31,0.176,0.65,0.337,1.023,0.484c0.373,0.147,0.742,0.273,1.106,0.378\n            c0.365,0.106,0.718,0.191,1.06,0.255c0.34,0.064,0.647,0.097,0.92,0.097l-1.778-3.08c-0.77-0.141-1.521-0.3-2.255-0.476\n            c-0.734-0.176-1.422-0.405-2.064-0.687s-1.225-0.625-1.746-1.03s-0.952-0.9-1.291-1.487c-0.332-0.575-0.469-1.089-0.409-1.541\n            s0.255-0.833,0.587-1.145c0.332-0.311,0.77-0.551,1.312-0.722c0.542-0.17,1.118-0.267,1.729-0.291l-0.701-1.214h1.752\n            L126.697,14.988z M126.257,17.258c-0.411,0.035-0.73,0.156-0.956,0.361c-0.225,0.206-0.227,0.502-0.002,0.889\n            c0.217,0.375,0.534,0.663,0.953,0.863c0.42,0.199,0.912,0.346,1.479,0.44L126.257,17.258z M132.658,25.479\n            c0.531-0.023,0.883-0.155,1.057-0.396c0.173-0.241,0.141-0.566-0.097-0.977s-0.579-0.719-1.024-0.924\n            c-0.447-0.206-0.961-0.367-1.541-0.484L132.658,25.479z"/>\n          <path d="M147.65,27.627l-5.284-9.154l-2.132,1.795l-3.297-2.095l3.852-3.01h3.674l7.195,12.463H147.65z"/>\n          <path d="M167.952,23.507c0.44,0.764,0.638,1.423,0.592,1.981s-0.272,1.018-0.679,1.381c-0.406,0.364-0.948,0.637-1.627,0.819\n            c-0.68,0.182-1.435,0.273-2.266,0.273c-0.769,0-1.543-0.073-2.324-0.22c-0.78-0.146-1.533-0.354-2.256-0.625\n            c-0.725-0.27-1.403-0.602-2.039-0.995c-0.635-0.393-1.19-0.836-1.667-1.329l3.194-0.828c0.427,0.435,0.965,0.792,1.616,1.074\n            c0.649,0.281,1.312,0.422,1.983,0.422c0.688,0,1.196-0.152,1.523-0.458c0.328-0.305,0.32-0.757-0.025-1.355\n            c-0.211-0.364-0.491-0.669-0.841-0.915c-0.351-0.247-0.732-0.443-1.146-0.59c-0.412-0.146-0.844-0.25-1.293-0.308\n            c-0.45-0.059-0.883-0.088-1.299-0.088c-0.608,0-1.271,0.05-1.99,0.15c-0.719,0.1-1.334,0.232-1.848,0.396l-3.707-7.129h10.416\n            l1.463,2.535h-6.84l0.994,1.972c0.229-0.046,0.494-0.079,0.797-0.097c0.302-0.018,0.58-0.026,0.836-0.026\n            c0.848,0,1.695,0.083,2.543,0.246c0.847,0.165,1.643,0.414,2.388,0.749s1.42,0.748,2.024,1.241\n            C167.081,22.275,167.572,22.851,167.952,23.507z"/>\n        </g>\n      </g>\n    </g>\n    </svg>\n    </div>\n\n    <div class="welcome-hero-cover"></div>\n\n    <div class="welcome-logo" ng-if="$ctrl.step==2">\n      <a ui-sref=\'welcome\'><img src=\'assets/images/yno_tasting_logo_white.svg\'></a>\n      <desktop-nav-secondary how-state="true" ></desktop-nav-secondary>\n    </div>\n\n    <div class="welcome-copy full">\n      <h2>Step 2. Yno Guy Tasting List.</h2>\n      <p>All new tasters will be emailed a starter <a href=\'http://ynoguy.com\' target=\'_blank\'>Yno Guy</a> Tasting List. The list consists of 18 wines divided into 3 price groups of 6 available for purchase in most US locations. This list is intended to inspire every Yno Taster to <a ui-sref=\'welcome-signup\'>become a Yno Host</a> and host their own tasting parties.</p>\n      <div class="text-btns">\n        <button class=\'text-btn\' ng-click="$ctrl.nextStep(-1)"><span class=\'fas fa-angle-up\'></span> Step 1</button>\n        <button class=\'text-btn\' ng-click="$ctrl.nextStep(1)"><span class=\'fas fa-angle-down\'></span> Step 3</button>\n      </div>\n    </div>\n\n  </div>\n\n  <div id=\'step3\' class="welcome-background how-step">\n\n    <div class="welcome-how-hero">\n      <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n         width="600px" height="414.664px" viewBox="0 0 600 414.664" enable-background="new 0 0 600 414.664" xml:space="preserve">\n         <path class=\'element\' fill="#CDCCCC" d="M405.489,375.161c-2.611,0-5.157,0.186-7.618,0.689l-34.68-108.337C379.002,266.298,391.465,253,391.465,237\n         	h-19.461l92.085-138h-128.64c14.426-10,23.998-25.632,23.998-44.08c0-28.896-23.426-52.388-52.321-52.388\n         	c-28.895,0-52.321,23.525-52.321,52.42c0,18.449,9.573,34.047,23.998,44.047h-128.64l92.085,138H221.39\n         	c0,16,13.108,29.919,29.493,30.532l-36.089,108.234c-2.401-0.479-4.882-0.588-7.425-0.588c-20.803,0-37.671,16.822-37.671,37.822\n         	h32.786h42.556h9.765l52.321-104.642L359.447,413h8.371h41.857h33.485C443.161,392,426.295,375.161,405.489,375.161z\n         	 M261.615,186.592L236.636,146h26.541L261.615,186.592z M351.24,186.592L349.678,146h26.541L351.24,186.592z M325.431,70\n         	c-0.372,8-8.04,16.804-17.471,16.804c-9.434,0-17.103-8.804-17.47-16.804H325.431z M315.604,43c0.254-6,5.557-11.615,12.075-11.615\n         	c6.515,0,11.817,5.615,12.075,11.615H315.604z M273.087,43c0.255-6,5.555-11.615,12.072-11.615c6.52,0,11.822,5.615,12.075,11.615\n         	H273.087z M313.597,146.446c5.204,0,7.808,0.495,7.808,1.476c0,1.162-1.169,1.794-3.508,1.898c-2.824,0.14-5.461,0.795-7.905,1.963\n         	c-2.439,1.17-4.61,2.767-6.516,4.791c-1.904,2.023-3.384,4.297-4.451,6.826c-1.067,2.532-1.594,5.206-1.594,8.032\n         	c0,3.139,0.888,5.651,2.661,7.534c1.781,1.883,4.092,2.824,6.949,2.824c2.648,0,4.963-1.106,6.948-3.321\n         	c1.986-2.215,2.976-4.803,2.976-7.766c0-2.442-0.613-4.727-1.84-6.853c-1.227-2.125-3.012-3.906-5.362-5.336\n         	c-0.997-0.66-1.497-1.132-1.497-1.412c0-0.417,0.709-1.046,2.127-1.885c1.598-0.873,3.385-1.602,5.363-2.194\n         	c1.978-0.595,3.638-0.892,4.99-0.892c1.557,0,3.041,0.333,4.443,0.994c1.406,0.664,2.648,1.617,3.724,2.853\n         	c1.075,1.239,1.901,2.669,2.474,4.29c0.567,1.621,0.854,3.337,0.854,5.15c0,3.037-0.699,6.025-2.093,8.973\n         	c-1.394,2.947-3.225,5.326-5.489,7.139c-2.936,2.338-6.463,4.239-10.596,5.704c-4.136,1.468-8.068,2.195-11.797,2.195\n         	c-3.625,0-7.226-0.513-10.799-1.543c-3.572-1.03-6.409-2.385-8.502-4.061c-2.788-2.303-4.188-5.546-4.188-9.734\n         	c0-3.316,0.997-6.63,2.994-9.947c1.991-3.316,4.692-6.318,8.101-9.004c3.406-2.687,7.163-4.804,11.271-6.359\n         	C305.25,147.223,309.398,146.446,313.597,146.446z"/>\n       </svg>\n    </div>\n\n    <div class="welcome-hero-cover"></div>\n\n    <div class="welcome-logo" ng-if="$ctrl.step==3">\n      <a ui-sref=\'welcome\'><img src=\'assets/images/yno_tasting_logo_white.svg\'></a>\n      <desktop-nav-secondary how-state="true" ></desktop-nav-secondary>\n    </div>\n\n    <div class="welcome-copy full">\n      <h2>Step 3. Yno Host.</h2>\n      <p><a ui-sref=\'user-host\'>Sign up as a Yno Host</a> to register your locations and begin hosting your own Yno Tastings.</p>\n      <p>Yno Hosts can:<br>\n        <ul>\n          <li>get the same privileges as Yno Tasters</li>\n          <li>invite guests and host their own tastings</li>\n          <li>review their previous tasting results</li>\n          <li>download curated suggested tasting lists</li>\n        </ul>\n        </p>\n        <p>Don’t be shy. If you\'re uncomfortable choosing your own wines, download a curated tasting list. After each completed tasting we’ll send you a new list based on your results. Soon, you’ll be choosing your own wines like a pro!</p>\n      <div class="text-btns">\n        <button class=\'text-btn\' ng-click="$ctrl.nextStep(-1)"><span class=\'fas fa-angle-up\'></span> Step 2</button>\n        <button class=\'text-btn\' ng-click="$ctrl.nextStep(1)"><span class=\'fas fa-angle-down\'></span> Step 4</button>\n      </div>\n    </div>\n\n  </div>\n\n  <div id=\'step4\' class="welcome-background how-step">\n\n    <div class="welcome-how-hero">\n      <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n         width="600px" height="414.664px" viewBox="0 0 600 414.664" enable-background="new 0 0 600 414.664" xml:space="preserve">\n         <g id="Layer_2">\n         	<g>\n         		<path fill="#6A5C49" d="M122.316,159.34c0-7.469-6.68-16.298-14.325-20.84V85.983H88.893V138.5\n         			c-7.641,4.542-14.321,13.376-14.321,20.84v7.805h47.745V159.34z"/>\n         		<path fill="#6A5C49" d="M74.566,276.951h0.005c0,5.273,4.274,9.549,9.547,9.549h28.646c5.271,0,9.547-4.276,9.547-9.549v-66.839\n         			H74.566V276.951z"/>\n         		<polygon opacity="0.75" fill="#6A5C49" points="74.571,167.145 74.566,210.112 122.312,210.112 122.316,167.145 		"/>\n         	</g>\n         	<g>\n         		<path fill="#A79F94" d="M68.674,300.002c-4.807-5.108-4.834-5.211-4.369-12.21c0.465-7,0.608-6.99,1.073-13.99\n         			c0.465-6.999,2.383-6.871,2.848-13.87c0.465-6.999,0.229-7.015,0.694-14.014c0.465-6.999,3.819-6.776,4.284-13.776\n         			c0.465-7,0.353-7.007,0.818-14.008c0.465-6.998-4.068-7.299-3.603-14.297c0.465-7.001,5.82-6.646,6.285-13.646\n         			c0.465-6.999-2.646-7.205-2.181-14.204c0.465-7.003-1.468-7.132-1.002-14.135c0.465-7.003,6.732-7.28,5.677-14.219\n         			c-1.133-7.447-4.926-6.735-7.531-13.802s-9.471-7.809-5.686-14.321c3.323-5.717,7.043-1.573,13.653-1.396\n         			c6.612,0.177,6.565,1.935,13.177,2.111c6.61,0.177,6.559,2.06,13.169,2.237c6.615,0.177,6.715-3.579,13.33-3.402\n         			c6.615,0.177,6.956-1.42,10.546,4.137c3.599,5.57-2.959,3.164-5.502,9.289s-0.625,7.017-1.556,13.583\n         			c-1,7.05-1.947,7.222-1.279,14.312c0.669,7.09,2.352,6.932,3.021,14.022c0.669,7.089-1.75,7.317-1.081,14.407\n         			c0.669,7.09,4.388,6.739,5.057,13.829c0.669,7.09-0.23,7.175,0.439,14.266c0.669,7.091-1.807,7.325-1.138,14.416\n         			c0.669,7.089,3.21,6.85,3.879,13.939c0.669,7.092,0.67,7.092,1.339,14.183c0.669,7.09,1.172,7.042,1.841,14.132\n         			c0.669,7.094,2.022,6.966,2.691,14.061c0.669,7.094,3.27,8.208-1.493,13.507c-4.709,5.24-6.09-2.165-13.135-2.165\n         			c-7.047,0-7.047,2.917-14.095,2.917c-7.045,0-7.045-3.259-14.091-3.259c-7.05,0-6.793,4.589-13.768,5.619\n         			C74.595,305.197,73.506,305.137,68.674,300.002z"/>\n         	</g>\n         	<g>\n         		<g>\n         			<g>\n         				<path d="M95.404,229.395l2.106-8.682l-0.193-7.871l-0.381-9.139l-6.781,7.226l-4.603-6.839l6.117-3.674l4.998-4.664l7.236,0.624\n         					l-1.384,8.094l1.661,8.033l0.383,8.038l-0.083,8.654L95.404,229.395z"/>\n         			</g>\n         		</g>\n         	</g>\n         	<g>\n         		<path fill="#6A5C49" d="M192.985,159.34c0-7.469-6.68-16.298-14.325-20.84V85.983h-19.099V138.5\n         			c-7.641,4.542-14.321,13.376-14.321,20.84v7.805h47.745V159.34z"/>\n         		<path fill="#6A5C49" d="M145.235,276.951h0.005c0,5.273,4.274,9.549,9.547,9.549h28.646c5.271,0,9.547-4.276,9.547-9.549v-66.839\n         			h-47.745V276.951z"/>\n         		<polygon opacity="0.75" fill="#6A5C49" points="145.24,167.145 145.235,210.112 192.98,210.112 192.985,167.145 		"/>\n         	</g>\n         	<g>\n         		<path fill="#A79F94" d="M139.343,300.002c-4.807-5.108-4.834-5.211-4.369-12.21c0.465-7,0.608-6.99,1.073-13.99\n         			c0.465-6.999,2.383-6.871,2.848-13.87c0.465-6.999,0.229-7.015,0.694-14.014c0.465-6.999,3.819-6.776,4.284-13.776\n         			c0.465-7,0.353-7.007,0.818-14.008c0.465-6.998-4.068-7.299-3.603-14.297c0.465-7.001,5.82-6.646,6.285-13.646\n         			c0.465-6.999-2.646-7.205-2.181-14.204c0.465-7.003-1.468-7.132-1.002-14.135c0.465-7.003,6.732-7.28,5.677-14.219\n         			c-1.133-7.447-4.926-6.735-7.531-13.802s-9.471-7.809-5.686-14.321c3.323-5.717,7.043-1.573,13.653-1.396\n         			c6.612,0.177,6.565,1.935,13.177,2.111c6.61,0.177,6.559,2.06,13.169,2.237c6.615,0.177,6.715-3.579,13.33-3.402\n         			c6.615,0.177,6.956-1.42,10.546,4.137c3.599,5.57-2.959,3.164-5.502,9.289s-0.625,7.017-1.556,13.583\n         			c-1,7.05-1.947,7.222-1.279,14.312c0.669,7.09,2.352,6.932,3.021,14.022c0.669,7.089-1.75,7.317-1.081,14.407\n         			c0.669,7.09,4.388,6.739,5.057,13.829c0.669,7.09-0.23,7.175,0.439,14.266c0.669,7.091-1.807,7.325-1.138,14.416\n         			c0.669,7.089,3.21,6.85,3.879,13.939c0.669,7.092,0.67,7.092,1.339,14.183c0.669,7.09,1.172,7.042,1.841,14.132\n         			c0.669,7.094,2.022,6.966,2.691,14.061c0.669,7.094,3.27,8.208-1.493,13.507c-4.709,5.24-6.09-2.165-13.135-2.165\n         			c-7.047,0-7.047,2.917-14.095,2.917c-7.045,0-7.045-3.259-14.091-3.259c-7.05,0-6.793,4.589-13.768,5.619\n         			C145.264,305.197,144.174,305.137,139.343,300.002z"/>\n         	</g>\n         	<g>\n         		<g>\n         			<path d="M157.002,229.15c-3.061-0.835-1.687-4.335,0.147-6.923c4.885-6.891,6.117-5.832,12.372-11.508\n         				c0.787-0.756,1.284-1.53,1.769-2.316c0.484-0.785,1.025-1.474,1.025-2.44c0-1.147-0.042-2.399-0.768-3.109\n         				s-2.01-0.708-3.221-0.708c-1.271,0-2.255,0.459-3.057,1.352c-0.802,0.893-1.341,1.87-1.492,3.322\n         				c-3.682,0.224-3.999,0.858-7.459-0.42c0.182-1.634,1.067-3.365,1.778-4.642c0.71-1.277,1.667-2.115,2.756-3.014\n         				c1.09-0.899,2.1-1.702,3.508-2.175c1.407-0.472,2.801-0.944,4.375-0.944c1.483,0,2.863,0.349,4.255,0.742\n         				c1.392,0.394,2.558,0.971,3.648,1.788c1.089,0.817,2.258,1.583,2.909,2.824c0.65,1.241,1.099,2.781,1.099,4.445\n         				c0,1.15-0.685,2.107-0.987,3.03c-0.303,0.923-0.432,1.887-0.961,2.674c-0.53,0.788-0.941,1.729-1.623,2.41\n         				c-0.681,0.681-1.456,1.304-2.182,1.969c-3.718,3.319-11,2.783-7.759,6.569c4.267,4.983,7.314-2.888,13.169,0.07\n         				c2.958,1.495,2.271,3.867-0.264,6.001C170.986,235.77,168.214,232.21,157.002,229.15z"/>\n         		</g>\n         	</g>\n         	<g>\n         		<path fill="#6A5C49" d="M263.653,159.34c0-7.469-6.68-16.298-14.325-20.84V85.983h-19.099V138.5\n         			c-7.641,4.542-14.321,13.376-14.321,20.84v7.805h47.745V159.34z"/>\n         		<path fill="#6A5C49" d="M215.903,276.951h0.005c0,5.273,4.274,9.549,9.547,9.549h28.646c5.271,0,9.547-4.276,9.547-9.549v-66.839\n         			h-47.745V276.951z"/>\n         		<polygon opacity="0.75" fill="#6A5C49" points="215.908,167.145 215.903,210.112 263.648,210.112 263.653,167.145 		"/>\n         	</g>\n         	<g>\n         		<path fill="#A79F94" d="M210.011,300.002c-4.807-5.108-4.834-5.211-4.369-12.21c0.465-7,0.608-6.99,1.073-13.99\n         			c0.465-6.999,2.383-6.871,2.848-13.87c0.465-6.999,0.229-7.015,0.694-14.014c0.465-6.999,3.819-6.776,4.284-13.776\n         			c0.465-7,0.353-7.007,0.818-14.008c0.465-6.998-4.068-7.299-3.603-14.297c0.465-7.001,5.82-6.646,6.285-13.646\n         			c0.465-6.999-2.646-7.205-2.181-14.204c0.465-7.003-1.468-7.132-1.002-14.135c0.465-7.003,6.732-7.28,5.677-14.219\n         			c-1.133-7.447-4.926-6.735-7.531-13.802s-9.471-7.809-5.686-14.321c3.323-5.717,7.043-1.573,13.653-1.396\n         			c6.612,0.177,6.565,1.935,13.177,2.111c6.61,0.177,6.559,2.06,13.169,2.237c6.615,0.177,6.715-3.579,13.33-3.402\n         			c6.615,0.177,6.956-1.42,10.546,4.137c3.599,5.57-2.959,3.164-5.502,9.289s-0.625,7.017-1.556,13.583\n         			c-1,7.05-1.947,7.222-1.279,14.312c0.669,7.09,2.352,6.932,3.021,14.022c0.669,7.089-1.75,7.317-1.081,14.407\n         			c0.669,7.09,4.388,6.739,5.057,13.829c0.669,7.09-0.23,7.175,0.439,14.266c0.669,7.091-1.807,7.325-1.138,14.416\n         			c0.669,7.089,3.21,6.85,3.879,13.939c0.669,7.092,0.67,7.092,1.339,14.183c0.669,7.09,1.172,7.042,1.841,14.132\n         			c0.669,7.094,2.022,6.966,2.691,14.061c0.669,7.094,3.27,8.208-1.493,13.507c-4.709,5.24-6.09-2.165-13.135-2.165\n         			c-7.047,0-7.047,2.917-14.095,2.917c-7.045,0-7.045-3.259-14.091-3.259c-7.05,0-6.793,4.589-13.768,5.619\n         			C215.932,305.197,214.843,305.137,210.011,300.002z"/>\n         	</g>\n         	<g>\n         		<g>\n         			<path d="M250.812,219.24c0,1.754-0.032,3.233-0.743,4.517c-0.711,1.285-1.255,2.818-2.405,3.649\n         				c-1.151,0.831-2.694,1.249-4.131,1.657c-1.438,0.408-2.965,0.912-4.448,0.912c-1.453,0-2.854-0.755-4.231-1.088\n         				c-1.377-0.333-2.938-0.299-4.073-0.98c-1.135-0.681-2.205-1.753-3.052-2.828c-0.848-1.074-1.287-3.003-1.711-4.517\n         				c3.266-1.656,3.548-1.752,7.188-2.147c0.302,1.06,0.564,3.119,1.503,3.92c0.938,0.802,2.561,0.735,4.014,0.735\n         				c0.544,0,1.195,0.255,1.755,0.104c0.56-0.151,0.773-1.008,1.212-1.326c0.438-0.317,1.481-0.198,1.77-0.713\n         				c0.288-0.515-0.053-1.425-0.053-2.183c0-0.817,0.18-1.76-0.199-2.305c-0.379-0.544-1.333-0.561-1.953-0.879\n         				c-0.621-0.317-1.33-0.211-2.117-0.347s-1.489-0.13-2.276-0.13c-1.021,0-1.215,0.222-1.568-0.737\n         				c-0.958-2.598-1.192-2.667-0.16-5.237c0.415-1.032,0.797-0.256,1.91-0.256c0.727,0,1.487,0.479,2.153,0.373\n         				c0.666-0.106,0.974-1.119,1.503-1.409c0.529-0.29,1.148-0.286,1.465-0.773c0.318-0.488-0.11-1.107-0.11-1.898\n         				c0-1.157,0.343-2.22-0.474-2.829c-0.817-0.608-1.889-0.829-2.948-0.829c-1.09,0-1.667,0.875-2.469,1.525\n         				c-0.802,0.651-1.689,1.009-1.931,2.099c-3.625-0.27-3.864,0.119-7.181-1.367c0.393-1.362,1.071-2.764,1.858-3.778\n         				c0.787-1.014,1.602-2.049,2.676-2.73c1.074-0.681,2.213-1.574,3.484-1.922c1.271-0.347,2.729,0.693,4.061,0.693\n         				c1.422,0,2.714-0.118,4.062,0.245c1.346,0.364,2.72,0.472,3.78,1.229c1.059,0.758,1.618,1.94,2.269,3.076\n         				c0.65,1.137,0.684,2.353,0.684,3.899c0,1.789,0.114,3.389-0.9,4.617c-1.014,1.227-2.559,1.569-4.132,1.993\n         				c-0.064,0.023-0.039,0.804,0.025,0.828c0.908,0.211,2.121-0.177,2.878,0.291c0.756,0.469,1.541,1.122,2.086,1.771\n         				c0.544,0.65,0.262,1.827,0.565,2.627C250.75,217.595,250.812,218.333,250.812,219.24z"/>\n         		</g>\n         	</g>\n         	<g>\n         		<path fill="#6A5C49" d="M334.322,159.34c0-7.469-6.68-16.298-14.326-20.84V85.983h-19.098V138.5\n         			c-7.641,4.542-14.321,13.376-14.321,20.84v7.805h47.746V159.34z"/>\n         		<path fill="#6A5C49" d="M286.572,276.951h0.005c0,5.273,4.274,9.549,9.547,9.549h28.646c5.271,0,9.547-4.276,9.547-9.549v-66.839\n         			h-47.745V276.951z"/>\n         		<polygon opacity="0.75" fill="#6A5C49" points="286.577,167.145 286.572,210.112 334.316,210.112 334.322,167.145 		"/>\n         	</g>\n         	<g>\n         		<path fill="#A79F94" d="M280.68,300.002c-4.807-5.108-4.834-5.211-4.369-12.21c0.465-7,0.608-6.99,1.073-13.99\n         			c0.465-6.999,2.383-6.871,2.848-13.87c0.465-6.999,0.229-7.015,0.694-14.014c0.465-6.999,3.819-6.776,4.284-13.776\n         			c0.465-7,0.353-7.007,0.818-14.008c0.465-6.998-4.068-7.299-3.603-14.297c0.465-7.001,5.82-6.646,6.285-13.646\n         			c0.465-6.999-2.646-7.205-2.181-14.204c0.465-7.003-1.468-7.132-1.002-14.135c0.465-7.003,6.732-7.28,5.677-14.219\n         			c-1.133-7.447-4.926-6.735-7.531-13.802s-9.471-7.809-5.686-14.321c3.323-5.717,7.043-1.573,13.653-1.396\n         			c6.612,0.177,6.565,1.935,13.177,2.111c6.61,0.177,6.56,2.06,13.17,2.237c6.614,0.177,6.715-3.579,13.329-3.402\n         			c6.614,0.177,6.956-1.42,10.546,4.137c3.6,5.57-2.959,3.164-5.502,9.289c-2.542,6.125-0.625,7.017-1.556,13.583\n         			c-0.999,7.05-1.947,7.222-1.278,14.312c0.668,7.09,2.352,6.932,3.02,14.022c0.67,7.089-1.749,7.317-1.08,14.407\n         			c0.669,7.09,4.389,6.739,5.057,13.829c0.67,7.09-0.229,7.175,0.439,14.266c0.669,7.091-1.807,7.325-1.139,14.416\n         			c0.67,7.089,3.211,6.85,3.88,13.939c0.669,7.092,0.671,7.092,1.339,14.183c0.67,7.09,1.173,7.042,1.842,14.132\n         			c0.669,7.094,2.021,6.966,2.691,14.061c0.669,7.094,3.27,8.208-1.494,13.507c-4.709,5.24-6.09-2.165-13.135-2.165\n         			c-7.047,0-7.047,2.917-14.096,2.917c-7.045,0-7.045-3.259-14.09-3.259c-7.05,0-6.793,4.589-13.768,5.619\n         			C286.601,305.197,285.511,305.137,280.68,300.002z"/>\n         	</g>\n         	<g>\n         		<g>\n         			<path d="M319.025,222.479c-1.801,2.563,1.832,3.708-0.521,5.775c-2.677,2.353-4.429,2.974-7.105,0.622\n         				c-2.353-2.068,3.271-5.642,0.377-6.841c-6.983-2.894-8.358,3.428-15.32,0.481c-2.947-1.248-1.049-3.592,0.394-6.449\n         				c5.289-10.469,4.125-11.697,12.942-19.432c3.43-3.009,7.586-4.597,9.504-0.457c4.14,8.939-3.271,10.474-1.102,20.083\n         				c0.49,2.17,3.906-2.08,5.207-0.275c1.805,2.505,1.002,3.437-0.66,6.038C321.513,223.948,320.291,220.678,319.025,222.479z\n         				 M311.418,204.247c-0.001-0.068-0.171-0.296-0.209-0.239c-3.861,5.916-6.95,5.061-6.869,12.126\n         				c0.045,3.881,4.505,2.644,7.554,0.241C316.564,212.693,311.486,210.194,311.418,204.247z"/>\n         		</g>\n         	</g>\n         	<g>\n         		<path fill="#6A5C49" d="M404.99,159.34c0-7.469-6.68-16.298-14.326-20.84V85.983h-19.098V138.5\n         			c-7.641,4.542-14.321,13.376-14.321,20.84v7.805h47.745V159.34z"/>\n         		<path fill="#6A5C49" d="M357.24,276.951h0.005c0,5.273,4.274,9.549,9.547,9.549h28.646c5.271,0,9.547-4.276,9.547-9.549v-66.839\n         			H357.24V276.951z"/>\n         		<polygon opacity="0.75" fill="#6A5C49" points="357.245,167.145 357.24,210.112 404.984,210.112 404.99,167.145 		"/>\n         	</g>\n         	<g>\n         		<path fill="#A79F94" d="M351.348,300.002c-4.807-5.108-4.834-5.211-4.369-12.21c0.465-7,0.608-6.99,1.074-13.99\n         			c0.465-6.999,2.383-6.871,2.848-13.87c0.465-6.999,0.229-7.015,0.693-14.014c0.465-6.999,3.818-6.776,4.283-13.776\n         			c0.465-7,0.354-7.007,0.818-14.008c0.465-6.998-4.068-7.299-3.604-14.297c0.466-7.001,5.82-6.646,6.285-13.646\n         			c0.465-6.999-2.646-7.205-2.181-14.204c0.466-7.003-1.468-7.132-1.003-14.135c0.466-7.003,6.732-7.28,5.678-14.219\n         			c-1.133-7.447-4.926-6.735-7.531-13.802s-9.471-7.809-5.687-14.321c3.323-5.717,7.043-1.573,13.653-1.396\n         			c6.611,0.177,6.564,1.935,13.176,2.111s6.561,2.06,13.17,2.237c6.615,0.177,6.715-3.579,13.33-3.402\n         			c6.613,0.177,6.955-1.42,10.545,4.137c3.6,5.57-2.959,3.164-5.502,9.289c-2.541,6.125-0.625,7.017-1.555,13.583\n         			c-1,7.05-1.947,7.222-1.279,14.312c0.668,7.09,2.352,6.932,3.02,14.022c0.67,7.089-1.748,7.317-1.08,14.407\n         			c0.67,7.09,4.389,6.739,5.057,13.829c0.67,7.09-0.229,7.175,0.439,14.266c0.67,7.091-1.807,7.325-1.139,14.416\n         			c0.67,7.089,3.211,6.85,3.881,13.939c0.668,7.092,0.67,7.092,1.338,14.183c0.67,7.09,1.174,7.042,1.842,14.132\n         			c0.67,7.094,2.021,6.966,2.691,14.061s3.27,8.208-1.494,13.507c-4.709,5.24-6.09-2.165-13.135-2.165\n         			c-7.047,0-7.047,2.917-14.096,2.917c-7.045,0-7.045-3.259-14.09-3.259c-7.05,0-6.793,4.589-13.768,5.619\n         			C357.27,305.197,356.18,305.137,351.348,300.002z"/>\n         	</g>\n         	<g>\n         		<g>\n         			<path d="M392.103,217.955c0,1.968,0.293,3.789-0.402,5.226c-0.697,1.438-1.68,2.747-2.846,3.685\n         				c-1.165,0.938-2.736,1.229-4.22,1.698c-1.482,0.469-2.957,0.447-4.529,0.447c-1.453,0-2.816,0.168-4.133-0.21\n         				c-1.316-0.378-2.474-0.937-3.547-1.633c-1.075-0.696-1.73-1.706-2.503-2.72c-0.772-1.014-1.954-2.46-2.317-3.732\n         				c3.227-1.669,3.708-0.549,7.307-1.05c0.332,1.12,0.603,1.875,1.526,2.601c0.923,0.727,2.304,0.514,3.575,0.514\n         				c1.301,0,2.248-0.397,3.201-1.185c0.953-0.787,0.99-1.733,0.99-3.276c0-0.938,0.521-1.786,0.129-2.421\n         				c-0.395-0.636-1.34-0.521-1.961-0.9c-0.62-0.378-1.029-0.959-1.816-1.111c-0.787-0.151-1.526-0.979-2.313-0.979\n         				c-1.15,0-2.473,0.559-3.94,0.815c-1.469,0.258-3.016,0.682-4.166,1.105c-0.193-9.2-5.384-11.756,1.463-17.904\n         				c7.33-6.583,10.087-4.108,19.438-1.006c3.103,1.03,2.799,5.687-0.118,7.161c-5.774,2.917-7.005-2.558-13.042-0.234\n         				c-2.377,0.914-0.34,2.669-0.231,5.213c0.483-0.121,1.037-0.106,1.627-0.151c0.591-0.045,1.12-0.143,1.604-0.143\n         				c1.604,0,3.133,0.136,4.555,0.559c1.423,0.424,2.325,1.5,3.37,2.363c1.043,0.862,1.778,1.741,2.384,3.012\n         				C391.791,214.969,392.103,216.26,392.103,217.955z"/>\n         		</g>\n         	</g>\n         	<g>\n         		<path fill="#6A5C49" d="M475.658,159.34c0-7.469-6.68-16.298-14.326-20.84V85.983h-19.098V138.5\n         			c-7.641,4.542-14.32,13.376-14.32,20.84v7.805h47.744V159.34z"/>\n         		<path fill="#6A5C49" d="M427.908,276.951h0.006c0,5.273,4.273,9.549,9.547,9.549h28.645c5.271,0,9.547-4.276,9.547-9.549v-66.839\n         			h-47.744V276.951z"/>\n         		<polygon opacity="0.75" fill="#6A5C49" points="427.914,167.145 427.908,210.112 475.652,210.112 475.658,167.145 		"/>\n         	</g>\n         	<g>\n         		<path fill="#A79F94" d="M422.016,300.002c-4.807-5.108-4.834-5.211-4.369-12.21c0.465-7,0.609-6.99,1.074-13.99\n         			c0.465-6.999,2.383-6.871,2.848-13.87c0.465-6.999,0.229-7.015,0.693-14.014c0.465-6.999,3.818-6.776,4.283-13.776\n         			c0.465-7,0.354-7.007,0.818-14.008c0.465-6.998-4.068-7.299-3.604-14.297c0.467-7.001,5.82-6.646,6.285-13.646\n         			c0.465-6.999-2.645-7.205-2.18-14.204c0.465-7.003-1.469-7.132-1.004-14.135c0.467-7.003,6.732-7.28,5.678-14.219\n         			c-1.133-7.447-4.926-6.735-7.531-13.802s-9.471-7.809-5.686-14.321c3.322-5.717,7.043-1.573,13.652-1.396\n         			c6.611,0.177,6.564,1.935,13.176,2.111s6.561,2.06,13.17,2.237c6.615,0.177,6.715-3.579,13.33-3.402\n         			c6.613,0.177,6.955-1.42,10.545,4.137c3.6,5.57-2.959,3.164-5.502,9.289c-2.541,6.125-0.625,7.017-1.555,13.583\n         			c-1,7.05-1.947,7.222-1.279,14.312c0.668,7.09,2.352,6.932,3.02,14.022c0.67,7.089-1.748,7.317-1.08,14.407\n         			c0.67,7.09,4.389,6.739,5.057,13.829c0.67,7.09-0.229,7.175,0.439,14.266c0.67,7.091-1.807,7.325-1.139,14.416\n         			c0.67,7.089,3.211,6.85,3.881,13.939c0.668,7.092,0.67,7.092,1.338,14.183c0.67,7.09,1.174,7.042,1.842,14.132\n         			c0.67,7.094,2.021,6.966,2.691,14.061s3.27,8.208-1.494,13.507c-4.709,5.24-6.09-2.165-13.135-2.165\n         			c-7.047,0-7.047,2.917-14.096,2.917c-7.045,0-7.045-3.259-14.09-3.259c-7.049,0-6.793,4.589-13.768,5.619\n         			C427.938,305.197,426.848,305.137,422.016,300.002z"/>\n         	</g>\n         	<g>\n         		<g>\n         			<path d="M464.305,217.773c0,1.816-0.281,3.62-0.946,5.073c-0.665,1.453-1.556,2.952-2.704,3.951\n         				c-1.146,0.999-2.841,1.43-4.382,1.958c-1.541,0.529-3.21,0.73-4.932,0.73c-1.753,0-3.49-0.026-5.016-0.555\n         				c-1.526-0.529-3.137-1.151-4.285-2.15c-1.147-0.999-1.708-2.624-2.373-4.046c-0.664-1.422-1.604-3.024-1.604-4.78\n         				c0-1.907,0.795-3.713,1.461-5.272c0.665-1.559,1.384-3.276,2.442-4.882c3.873-5.792,2.005-7.894,7.761-11.821\n         				c3.803-2.596,8.611-4.074,9.154,0.499c0.798,6.72-3.357,5.615-7.302,11.114c-0.077,0.107-0.794,0.465-0.683,0.537\n         				c0.302-0.121,0.967-0.731,1.39-0.792c0.423-0.061,0.821-0.077,1.185-0.077c1.389,0,2.888-0.14,4.171,0.359\n         				c1.285,0.5,2.61,1.245,3.562,2.168c0.952,0.923,1.157,2.493,1.731,3.779C463.509,214.854,464.305,216.2,464.305,217.773z\n         				 M456.082,217.955c0-1.453-0.43-2.374-1.342-3.327c-0.913-0.954-1.834-1.124-3.354-1.124c-1.521,0-2.67-0.036-3.612,0.902\n         				c-0.942,0.938-1.45,2.082-1.45,3.595c0,1.393,0.633,2.385,1.545,3.383c0.912,0.999,1.921,1.135,3.472,1.135\n         				c1.52,0,2.722,0.076,3.649-0.862C455.918,220.719,456.082,219.498,456.082,217.955z"/>\n         		</g>\n         	</g>\n         </g>\n       </svg>\n    </div>\n\n    <div class="welcome-hero-cover"></div>\n\n    <div class="welcome-logo" ng-if="$ctrl.step==4">\n      <a ui-sref=\'welcome\'><img src=\'assets/images/yno_tasting_logo_white.svg\'></a>\n      <desktop-nav-secondary how-state="true" ></desktop-nav-secondary>\n    </div>\n\n    <div class="welcome-copy full">\n      <h2>Step 4. Yno Tasting</h2>\n    <p>Get your party on! Use Yno Tasting set your party name and date, pick your wines, and invite your guests. On party day, open, bag, and tag your wines prior to your guests’ arrival. While you’re tasting Yno will track your progress. Guests can rate, comment, and revisit wines on their mobile device or Alexa until their host closes the tasting. </p>\n    <p>TIP: to make your tasting ”double blind” bag your wines first and have your first guest tag them while you’re not looking. Then, select <em>Host is Tasting</em> in the Yno Tasting admin.</p>\n      <div class="text-btns">\n        <button class=\'text-btn\' ng-click="$ctrl.nextStep(-1)"><span class=\'fas fa-angle-up\'></span> Step 3</button>\n        <button class=\'text-btn\' ng-click="$ctrl.nextStep(1)"><span class=\'fas fa-angle-down\'></span> Finish</button>\n      </div>\n    </div>\n\n  </div>\n\n  <div id=\'step5\' class="welcome-background how-step">\n\n    <div class="welcome-how-hero">\n      <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n         width="600px" height="414.664px" viewBox="0 0 600 414.664" enable-background="new 0 0 600 414.664" xml:space="preserve">\n     <g id="Layer_3">\n     	<g>\n     		<path fill="#2F261B" d="M201.324,158.156c0-9.232-8.257-20.146-17.708-25.76V67.483h-23.606v64.913\n     			c-9.444,5.614-17.702,16.534-17.702,25.76v9.647h59.017V158.156z"/>\n     		<path fill="#2F261B" d="M142.301,303.53h0.006c0,6.518,5.284,11.804,11.801,11.804h35.408c6.516,0,11.8-5.286,11.8-11.804v-82.617\n     			h-59.015V303.53z"/>\n     		<polygon fill="#7E7769" points="142.307,167.804 142.301,220.913 201.316,220.913 201.324,167.804 		"/>\n     	</g>\n     	<g>\n     		<path fill="#3C321E" d="M238.374,158.156c0-9.232-8.257-20.146-17.708-25.76V67.483h-23.606v64.913\n     			c-9.444,5.614-17.702,16.534-17.702,25.76v9.647h59.017V158.156z"/>\n     		<path fill="#3C321E" d="M179.351,303.53h0.006c0,6.518,5.284,11.804,11.801,11.804h35.408c6.516,0,11.801-5.286,11.801-11.804\n     			v-82.617h-59.015V303.53z"/>\n     		<polygon fill="#877F72" points="179.357,167.804 179.351,220.913 238.366,220.913 238.374,167.804 		"/>\n     	</g>\n     	<g>\n     		<path fill="#493D28" d="M275.422,158.156c0-9.232-8.257-20.146-17.707-25.76V67.483h-23.606v64.913\n     			c-9.444,5.614-17.702,16.534-17.702,25.76v9.647h59.016V158.156z"/>\n     		<path fill="#493D28" d="M216.401,303.53h0.006c0,6.518,5.284,11.804,11.801,11.804h35.408c6.515,0,11.8-5.286,11.8-11.804v-82.617\n     			h-59.015V303.53z"/>\n     		<polygon fill="#90887B" points="216.407,167.804 216.401,220.913 275.416,220.913 275.422,167.804 		"/>\n     	</g>\n     	<g>\n     		<path fill="#544833" d="M312.473,158.156c0-9.232-8.257-20.146-17.707-25.76V67.483h-23.606v64.913\n     			c-9.444,5.614-17.702,16.534-17.702,25.76v9.647h59.016V158.156z"/>\n     		<path fill="#544833" d="M253.451,303.53h0.006c0,6.518,5.283,11.804,11.8,11.804h35.409c6.515,0,11.801-5.286,11.801-11.804\n     			v-82.617h-59.016V303.53z"/>\n     		<polygon fill="#989083" points="253.457,167.804 253.451,220.913 312.467,220.913 312.473,167.804 		"/>\n     	</g>\n     	<g>\n     		<path fill="#5F523E" d="M349.523,158.156c0-9.232-8.257-20.146-17.707-25.76V67.483h-23.607v64.913\n     			c-9.444,5.614-17.702,16.534-17.702,25.76v9.647h59.017V158.156z"/>\n     		<path fill="#5F523E" d="M290.501,303.53h0.006c0,6.518,5.284,11.804,11.801,11.804h35.409c6.515,0,11.8-5.286,11.8-11.804v-82.617\n     			h-59.016V303.53z"/>\n     		<polygon fill="#A0988C" points="290.507,167.804 290.501,220.913 349.517,220.913 349.523,167.804 		"/>\n     	</g>\n     	<g>\n     		<g>\n     			<path fill="#6A5C49" d="M422.572,161.156c0-9.232-8.257-20.146-17.707-25.76V70.483h-23.606v64.913\n     				c-9.444,5.614-17.702,16.534-17.702,25.76v9.647h59.016V161.156z"/>\n     			<path fill="#6A5C49" d="M363.551,306.53h0.006c0,6.518,5.283,11.804,11.801,11.804h35.408c6.515,0,11.801-5.286,11.801-11.804\n     				v-82.617h-59.016V306.53z"/>\n     			<polygon fill="#A79F94" points="363.557,170.804 363.551,223.913 422.566,223.913 422.572,170.804 			"/>\n     		</g>\n     		<polygon fill="#FFFFFF" points="392.929,207.18 403.218,212.59 401.255,201.132 409.577,193.016 398.074,191.346 392.929,180.921\n     			387.784,191.346 376.278,193.016 384.604,201.132 382.637,212.59 		"/>\n     	</g>\n     </g>\n       </svg>\n    </div>\n\n    <div class="welcome-hero-cover"></div>\n\n    <div class="welcome-logo" ng-if="$ctrl.step==5">\n      <a ui-sref=\'welcome\'><img src=\'assets/images/yno_tasting_logo_white.svg\'></a>\n      <desktop-nav-secondary how-state="true" ></desktop-nav-secondary>\n    </div>\n\n    <div class="welcome-copy full">\n      <h2>Step 5. Reveal Results!</h2>\n      <p>When all your ratings are in or your tasting time is up, Yno Tasting will reveal your wines to your guests. Your tasting is now complete! Based on your results, a new tasting list will be sent to the host for her next party.</p>\n      <p>Every Yno Taster can return to ynotasting.com anytime to review past tastings, wines, and new tasting invites. Over time tasters will become more familiar with the wines they like.</p>\n      <div class="text-btns">\n        <button class=\'text-btn\' ui-sref="welcome-signup">Wine Up Now!</button>\n        <button class=\'text-btn\' ng-click="$ctrl.nextStep(-1)"><span class=\'fas fa-angle-up\'></span> Step 4</button>\n      </div>\n    </div>\n\n  </div>\n\n  <mobile-nav signed-in="$ctrl.taster"></mobile-nav>\n\n';
},function(t,n,e){"use strict";function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.WelcomeSigninComponent=void 0;var a=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),s=e(90);n.WelcomeSigninComponent={bindings:{user:"<"},template:s.template,controller:function(){function t(n,e,a,s,o,r,c,l){"ngInject";i(this,t),this.redirect_url=n.protocol()+"://"+n.host()+":"+n.port()+"/user/password/reset",this.$location=n,this.$log=e,this.$state=s,this.$scope=a,this._=o,this.constants=r,this.AlertsService=l,this.UserService=c,this.subtitle=this.constants.SIGNIN_SUBTITLE,this.copy=this.constants.SIGNIN_COPY,this.wait=!1}return t.$inject=["$location","$log","$scope","$state","lodash","welcomeConstants","UserService","AlertsService"],a(t,[{key:"$onInit",value:function(){this.user?this.$state.go("dashboard"):this.user={},this.$location.path().indexOf("alexa")>-1&&(this.subtitle=this.constants.SIGNIN_ALEXA_SUBTITLE,this.copy=this.constants.SIGNIN_ALEXA_COPY)}},{key:"signinUser",value:function(){var t=this;this.UserService.signinUser(this.user).then(function(){t.$state.go("dashboard")})["catch"](function(){t.AlertsService.setFailureAlert("Unable to sign in. Please check your email and password.")})["finally"](function(){t.wait=!1})}}]),t}()}},function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.template='\n\n<div class="welcome-background">\n\n  <div class="welcome-hero">\n    <img src=\'assets/images/welcome/welcome-landing-hero.png\'>\n  </div>\n\n  <div class="welcome-hero-cover"></div>\n\n  <div class="welcome-logo">\n    <a ui-sref=\'welcome\'><img src=\'assets/images/yno_tasting_logo_white.svg\'></a>\n    <desktop-nav-secondary></desktop-nav-secondary>\n  </div>\n\n  <div class="welcome-copy full">\n    <h2>{{$ctrl.subtitle}}</h2>\n    <p>{{$ctrl.copy}}</p>\n    <form name="signinForm" ng-submit="$ctrl.signinUser()">\n      <div class="main-form-control" ng-class="{\'error\':signinForm.email.$dirty && signinForm.email.$invalid}">\n        <label>Email</label>\n        <input type="email" name="email" required\n          ng-model="$ctrl.user.email"\n          ng-pattern="/^[_a-z0-9]+(.[_a-z0-9]+)*@[a-z0-9-]+(.[a-z0-9-]+)*(.[a-z]{2,4})$/">\n      </div>\n      <div class="main-form-control" ng-class="{\'error\':signinForm.password.$dirty && signinForm.password.$invalid}">\n        <label>Password</label>\n        <input type="password" name="password" required\n          ng-model="$ctrl.user.password"\n          ng-minlength="6">\n      </div>\n      <div class="main-form-btns">\n        <span class=\'descriptor\'>Sign In</span>\n        <div>\n          <button type="button" ui-sref=\'welcome-signup\'><i class="fas fa-user-plus"></i></button>\n          <button type="button" ui-sref=\'welcome-password-reset\'><i class="fas fa-key"></i></button>\n          <button type="submit"\n            ng-disabled="signinForm.$invalid">\n            <i class="fas fa-check"></i>\n          </button>\n        </div>\n      </div>\n    </form>\n    <div class="mobile-nav-spacer"></div>\n  </div>\n\n  <desktop-nav-primary welcome-state="$ctrl.constants.WELCOME_SIGNIN_STATE"></desktop-nav-primary>\n\n</div>\n\n<mobile-nav></mobile-nav>\n<alerts-modal></alerts-modal>\n<wait-state wait-on="$ctrl.wait"></wait-state>\n\n'},function(t,n,e){"use strict";function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.WelcomeSignupComponent=void 0;var a=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),s=e(92);n.WelcomeSignupComponent={bindings:{user:"<"},template:s.template,controller:function(){function t(n,e,a,s,o,r){"ngInject";i(this,t),this.$log=a,this.$state=e,this.constants=s,this.UserService=o,this.TasterService=r,this.viewState=1,this.taster=null}return t.$inject=["$scope","$state","$log","welcomeConstants","UserService","TasterService"],a(t,[{key:"$onInit",value:function(){this.user&&this.$state.go("dashboard")}},{key:"signupInvalid",value:function(t){return t.$invalid||this.user.password!=this.user.password_confirmation}},{key:"signupUser",value:function(){var t=this;this.UserService.signupUser(this.user).then(function(n){t.taster=n,t.viewState=2})}},{key:"signupTaster",value:function(){this.TasterService.signupTaster(this.taster)}}]),t}()}},function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.template='\n\n<div class="welcome-background">\n\n  <div class="welcome-hero">\n    <img src=\'assets/images/welcome/welcome-landing-hero.png\'>\n  </div>\n\n  <div class="welcome-hero-cover"></div>\n\n  <div class="welcome-logo">\n    <a ui-sref=\'welcome\'><img src=\'assets/images/yno_tasting_logo_white.svg\'></a>\n    <desktop-nav-secondary></desktop-nav-secondary>\n  </div>\n\n  <div class="welcome-copy full">\n    <h2>Come on in. The wine is fine.</h2>\n    <p>Every new Yno Taster receives a free “Classic California” tasting list. This list contains 18 wines in 3 price ranges handpicked by the <a href="http://ynoguy.com" target="_blank">Yno Guy</a> to represent 6 classic varieties of California wine. These wines are readily available in most states and will kickstart your blind tasting adventure.</p>\n    <form role="form" class="main-form" name="user_signup"\n      ng-if="!$ctrl.taster"\n      ng-submit="$ctrl.signupUser()">\n      <div class="main-form-control" ng-class="{\'error\':user_signup.email.$dirty && user_signup.email.$invalid}">\n        <label>Email</label>\n        <input type="email" name="email" id="email"\n          ng-pattern="/^[_a-z0-9]+(.[_a-z0-9]+)*@[a-z0-9-]+(.[a-z0-9-]+)*(.[a-z]{2,4})$/"\n          ng-model="$ctrl.user.email" required>\n      </div>\n      <div class="main-form-control" ng-class="{\'error\':user_signup.password.$dirty && user_signup.password.$invalid}">\n        <label>Password</label>\n        <input type="password" name="password" id="password" required\n          placeholder="6 character minimum"\n          ng-model="$ctrl.user.password"\n          ng-minlength="6">\n      </div>\n      <div class="main-form-control" ng-class="{\'error\':user_signup.password_confirmation.$dirty && user_signup.password_confirmation.$invalid}">\n        <label>\n          <span>Password</span>\n          <span>Confirmation</span>\n        </label>\n        <input type="password" name="password_confirmation" id="password_confirmation" required\n          ng-model="$ctrl.user.password_confirmation"\n          ng-minlength="6">\n      </div>\n      <div class="main-form-btns">\n        <span class="descriptor">Sign Up</span>\n        <div>\n          <button type=\'button\' ui-sref="welcome-signin"><i class="fas fa-sign-in-alt"></i></button>\n          <button type="submit" ng-disabled="$ctrl.signupInvalid(user_signup)">\n            <i class="fas fa-check"></i>\n          </button>\n        </div>\n      </div>\n    </form>\n    <form class="main-form" name="taster_signup"\n      ng-if="$ctrl.taster"\n      ng-submit="$ctrl.signupTaster()">\n      <div class="main-form-control">\n        <label>Name</label>\n        <input type="text" name="name" id="name"\n          placeholder="e.g. Jane Doe"\n          ng-model="$ctrl.taster.name" required>\n      </div>\n      <div class="main-form-control">\n        <label>Handle</label>\n        <input type="text" name="name" id="name"\n          placeholder="e.g. Wine Diva"\n          ng-model="$ctrl.taster.handle" required>\n      </div>\n      <div class="main-form-btns">\n        <span>&nbsp;</span>\n        <button type="submit" ng-disabled="taster_signup.$invalid">\n          <i class="fa fa-user"></i>\n        </button>\n      </div>\n    </form>\n\n  </div>\n\n  <desktop-nav-primary welcome-state="$ctrl.constants.WELCOME_SIGNIN_STATE"></desktop-nav-primary>\n  <div class="mobile-nav-spacer"></div>\n</div>\n\n<mobile-nav></mobile-nav>\n<alerts-modal></alerts-modal>\n\n'},function(t,n,e){"use strict";function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.WelcomeComponent=void 0;var a=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),s=e(94);n.WelcomeComponent={bindings:{user:"<"},template:s.template,controller:function(){function t(n,e,a,s,o){"ngInject";i(this,t),this.$log=n,this.$state=e,this.constants=a,this.AlertsService=s,this.NotificationsService=o,this.welcomeState=this.constants.WELCOME_LANDING_STATE,this.heroImg=this.constants.WELCOME_LANDING_HERO,this.tagline=this.constants.WELCOME_LANDING_TAGLINE}return t.$inject=["$log","$state","welcomeConstants","AlertsService","NotificationsService"],a(t,[{key:"$onInit",value:function(){this.user?this.$state.go("dashboard"):this.AlertsService.broadcastAlerts()}},{key:"setWelcomeState",value:function(t){switch(t){case this.constants.WELCOME_WHO_STATE:this.heroImg=this.constants.WELCOME_WHO_HERO,this.tagline=this.constants.WELCOME_WHO_TAGLINE;break;case this.constants.WELCOME_WHY_STATE:this.heroImg=this.constants.WELCOME_WHY_HERO,this.tagline=this.constants.WELCOME_WHY_TAGLINE;break;case this.constants.WELCOME_HOW_STATE:this.heroImg=this.constants.WELCOME_HOW_HERO,this.tagline=this.constants.WELCOME_HOW_TAGLINE;break;default:t=this.constants.WELCOME_LANDING_STATE,this.heroImg=this.constants.WELCOME_LANDING_HERO,this.tagline=this.constants.WELCOME_LANDING_TAGLINE}this.welcomeState=t}}]),t}()}},function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.template='\n\n  <div class="welcome-background">\n\n    <div class="welcome-hero">\n      <img src=\'assets/images/welcome/welcome-landing-hero.png\'>\n      <span>It’s the answer to finding that perfect wine... and other stupid ideas.</span>\n    </div>\n\n    <div class="welcome-hero-cover"></div>\n\n    <div class="welcome-logo">\n      <a href><img src=\'assets/images/yno_tasting_logo_white.svg\'></a>\n      <desktop-nav-secondary></desktop-nav-secondary>\n    </div>\n\n    <div class="welcome-copy top">\n      <h2>Welcome to Yno</h2>\n      <p>How do you choose wine? Pretentious point scores? Snooty experts? Trendy advertising? Pretty labels? So, how’s that working for you? Still hit and miss? The truth is one man’s syrah is another woman’s swill. Discovering wine is personal and Yno is here to help with that journey. Just remember there is no perfect wine...only your next wine. So, let’s get started!</p>\n    </div>\n\n    <div class="welcome-copy bottom" >\n      <p>Yno Tasting is a wine tasting party platform. It’s a fun way to for you and your friends to discover new wines the same way the experts do. Not sure where to start? No problem. Sign up now and we’ll send you your first curated tasting list with full instructions on how to host a tasting party.</p>\n      <button class=\'text-btn\' ui-sref="welcome-signup">Wine Up Now!</button>\n    </div>\n\n    <desktop-nav-primary></desktop-nav-primary>\n    <div class="mobile-nav-spacer"></div>\n  </div>\n\n  <mobile-nav></mobile-nav>\n  <alerts-modal></alerts-modal>\n  <notification></notification>\n\n'},function(t,n,e){"use strict";function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.WelcomeWhoComponent=void 0;var a=e(96);n.WelcomeWhoComponent={template:a.template,controller:["$log","$state","welcomeConstants",function s(t,n,e){"ngInject";i(this,s),this.$log=t,this.$state=n,this.constants=e}]}},function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.template='\n\n  <div class="welcome-background">\n\n    <div class="welcome-hero">\n      <img src="assets/images/welcome/welcome-who-hero.png">\n      <span>Are you over 21? Do you like wine? OK, you’re in.</span>\n    </div>\n\n    <div class="welcome-hero-cover"></div>\n\n    <div class="welcome-logo">\n      <a ui-sref=\'welcome\'><img src=\'assets/images/yno_tasting_logo_white.svg\'></a>\n      <desktop-nav-secondary></desktop-nav-secondary>\n    </div>\n\n    <div class="welcome-copy top">\n      <h2>Who can Yno?</h2>\n      <p>Whether you are wine newbie or a long time wine lover, Yno was designed for you.</p>\n      <p>Enthusiasts can use Yno to compare new varietals or styles with their friends. Aspiring masters and somms can use Yno as a tool for recording their tasting prowess. All notes and ratings are stored for every taster to be reviewed later.</p>\n    </div>\n\n    <div class="welcome-copy bottom">\n      <p>However, those new to wine can use Yno to learn what they like...one tasting at a time. Every new Yno Taster gets a curated tasting list of classic wines they can find in their local stores. After each completed tasting they will receive a new list based on their results. Ultimately, everyone who uses Yno Tasting will become more familiar with the wine styles, varietals, and regions they like.</p>\n      <button class=\'text-btn\' ui-sref=\'welcome-signup\'>Wine Up Now!</button>\n    </div>\n\n    <desktop-nav-primary welcome-state="$ctrl.constants.WELCOME_WHO_STATE"></desktop-nav-primary>\n\n    <div class="mobile-nav-spacer"></div>\n\n  </div>\n\n  <mobile-nav></mobile-nav>\n\n'},function(t,n,e){"use strict";function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.WelcomePasswordResetComponent=void 0;var a=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),s=e(98);n.WelcomePasswordResetComponent={bindings:{user:"<"},template:s.template,controller:function(){function t(n,e,a,s,o,r,c,l){"ngInject";i(this,t),this.redirect_url=n.protocol()+"://"+n.host()+":"+n.port()+"/user/password/reset",this.$location=n,this.$log=e,this.$state=s,this.$scope=a,this._=o,this.constants=r,this.AlertsService=l,this.UserService=c,this.subtitle=r.PASSWORD_REQUEST_SUBTITLE,this.copy=r.PASSWORD_REQUEST_COPY,this.wait=!1}return t.$inject=["$location","$log","$scope","$state","lodash","welcomeConstants","UserService","AlertsService"],a(t,[{key:"$onInit",value:function(){this.user?this.$state.go("dashboard"):this.setViewState()}},{key:"setViewState",value:function(t){switch(t){case 2:this.subtitle=this.constants.PASSWORD_RESET_SUBTITLE,this.copy=this.constants.PASSWORD_RESET_COPY,this.viewState=t;break;default:this.subtitle=this.constants.PASSWORD_REQUEST_SUBTITLE,this.copy=this.constants.PASSWORD_REQUEST_COPY,this.user={},this.viewState=1}}},{key:"requestPasswordReset",value:function(){var t=this;this.wait=!0,this.UserService.requestPasswordReset({email:this.user.email,redirect_url:this.redirect_url}).then(function(){t.setViewState(2)})["catch"](function(){t.AlertsService.setFailureAlert("Um, we had a problem finding that email. Try again?")})["finally"](function(){t.wait=!1})}},{key:"resetUserPassword",value:function(){var t=this;this.wait=!0,this.UserService.resetUserPassword(this.user).then(function(n){t.user.email=n.data.email,t.UserService.signinUser(t.user).then(function(){t.$state.go("dashboard")})["catch"](function(){t.AlertsService.setFailureAlert("Unable to sign in. Please check your email and password.")})["finally"](function(){t.wait=!1,t.setViewState()})})["catch"](function(){t.wait=!1,t.AlertsService.setFailureAlert("Unable to update password. Please try later.")})}}]),t}()}},function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.template='\n\n<div class="welcome-background">\n\n  <div class="welcome-hero">\n    <img src=\'assets/images/welcome/welcome-landing-hero.png\'>\n  </div>\n\n  <div class="welcome-hero-cover"></div>\n\n  <div class="welcome-logo">\n    <a ui-sref=\'welcome\'><img src=\'assets/images/yno_tasting_logo_white.svg\'></a>\n    <desktop-nav-secondary></desktop-nav-secondary>\n  </div>\n\n  <div class="welcome-copy full">\n    <h2>{{$ctrl.subtitle}}</h2>\n    <p>{{$ctrl.copy}}</p>\n    <form name="pwdResetForm" ng-submit="$ctrl.requestPasswordReset()" ng-if="$ctrl.viewState==1">\n      <div class="main-form-control" ng-class="{\'error\':pwdResetForm.email.$dirty && pwdResetForm.email.$invalid}">\n        <label>Email</label>\n        <input name="email" type="email" required\n          ng-model="$ctrl.user.email"\n          ng-pattern="/^[_a-z0-9]+(.[_a-z0-9]+)*@[a-z0-9-]+(.[a-z0-9-]+)*(.[a-z]{2,4})$/">\n      </div>\n      <div class="main-form-btns">\n        <span>&nbsp;</span>\n        <div>\n          <button type="button" ui-sref="welcome-signin"><i class="fa fa-sign-in"></i></button>\n          <button type="submit"\n            ng-disabled="pwdResetForm.$invalid">\n            <i class="fa fa-check"></i>\n          </button>\n        </div>\n      </div>\n    </form>\n    <form name="updatePasswordForm" ng-submit="$ctrl.resetUserPassword()" ng-if="$ctrl.viewState==2">\n      <div class="main-form-control" ng-class="{\'error\':updatePasswordForm.token.$dirty && updatePasswordForm.token.$invalid}">\n        <label>Code</label>\n        <input ng-model="$ctrl.user.reset_password_token" type="text" name="token" required>\n      </div>\n      <div class="main-form-control" ng-class="{\'error\':updatePasswordForm.password.$dirty && updatePasswordForm.password.$invalid}">\n        <label>Password</label>\n        <input type="password" name="password" placeholder="6 characters minimum" required\n          ng-minlength="6"\n          ng-model="$ctrl.user.password"\n          ng-class="{\'error\':updatePasswordForm.password.$dirty && updatePasswordForm.password.$invalid}">\n      </div>\n      <div class="main-form-control" ng-class="{\'error\':updatePasswordForm.passwordConfirmation.$dirty && updatePasswordForm.passwordConfirmation.$invalid}">\n        <label><span>Password</span><span>Confirmation</span></label>\n        <input type="password" name="passwordConfirmation" required\n          ng-model="$ctrl.user.password_confirmation"\n          ng-minlength="6">\n      </div>\n      <div class="main-form-btns">\n        <span>&nbsp;</span>\n        <div>\n          <button type="button" ng-click="$ctrl.setViewState()"><i class="fa fa-sign-in"></i></button>\n          <button type="submit"\n            ng-disabled="updatePasswordForm.$invalid || $ctrl.user.password!=$ctrl.user.password_confirmation">\n            <i class="fa fa-check"></i>\n          </button>\n        </div>\n      </div>\n    </form>\n  </div>\n\n  <desktop-nav-primary welcome-state="$ctrl.constants.WELCOME_SIGNIN_STATE"></desktop-nav-primary>\n\n</div>\n\n<mobile-nav></mobile-nav>\n<alerts-modal></alerts-modal>\n<wait-state wait-on="$ctrl.wait"></wait-state>\n\n'},function(t,n,e){"use strict";function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.WelcomePrivacyComponent=void 0;var a=e(100);n.WelcomePrivacyComponent={bindings:{taster:"<"},template:a.template,controller:["$state","welcomeConstants",function s(t,n){"ngInject";i(this,s),this.$state=t,this.constants=n}]}},function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.template='\n\n  <div class="welcome-background">\n\n    <div class="welcome-hero">\n      <img src=\'assets/images/welcome/welcome-landing-hero.png\'>\n      <span>No lawyers were hired nor harmed while writing this copy.</span>\n    </div>\n\n    <div class="welcome-hero-cover"></div>\n\n    <div class="welcome-logo">\n      <a ui-sref=\'welcome\'><img src=\'assets/images/yno_tasting_logo_white.svg\'></a>\n      <desktop-nav-secondary welcome-state="$ctrl.constants.WELCOME_PRIVACY_STATE"></desktop-nav-secondary>\n    </div>\n\n    <div class="welcome-copy top">\n      <h2>Privacy</h2>\n      <h3>What we store</h3>\n      <p><strong>For all tasters:</strong> email, birthdate, name, handle, wines, ratings, and comments.<br>\n      <strong>For all hosts:</strong> same as tasters as well as host locations.</p>\n    </div>\n\n    <div class="welcome-copy bottom">\n      <h3>What we share</h3>\n      <p>Currently, nothing. All tasters will be notified prior any future change to policy.</p>\n      <h3>About emails</h3>\n      <p>We take your privacy seriously. Emails are never shared within or outside the Yno platform. All tasters are identified by name or handle. We promise to never share emails regardless of future policy changes.</p>\n    </div>\n\n    <desktop-nav-primary></desktop-nav-primary>\n    <div class="mobile-nav-spacer"></div>\n\n  </div>\n\n  <mobile-nav signed-in="$ctrl.taster"></mobile-nav>\n\n'},function(t,n,e){"use strict";function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.WelcomeWhyComponent=void 0;var a=e(102);n.WelcomeWhyComponent={template:a.template,controller:["$log","$state","welcomeConstants",function s(t,n,e){"ngInject";i(this,s),this.$log=t,this.$state=n,this.constants=e}]}},function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.template='\n\n  <div class="welcome-background">\n\n    <div class="welcome-hero">\n      <img src="assets/images/welcome/welcome-why-hero.png">\n      <span>Ever perused a wine aisle? Yeah, that’s why.</span>\n    </div>\n\n    <div class="welcome-hero-cover"></div>\n\n    <div class="welcome-logo">\n      <a ui-sref=\'welcome\'><img src=\'assets/images/yno_tasting_logo_white.svg\'></a>\n      <desktop-nav-secondary></desktop-nav-secondary>\n    </div>\n\n    <div class="welcome-copy top">\n      <h2>Why Yno?</h2>\n      <p>As a wine educator and lover I am constantly aggravated by all the misleading advice on how to choose wine. In America we’ve been taught that wine is for special occasions, or that good wine is at least 90 points. There are even questionaires, palette analyzers, and other gimmicky nonsense that are designed to <em>tell</em> you what to drink. The fact is, only <em>you</em> know what you like...and even that is subject to change.</p>\n    </div>\n\n    <div class="welcome-copy bottom">\n      <p>That’s why I developed Yno Tasting. A blind wine tasting platform designed to help consumers discover what wines they like in a comparative setting. Yno Tasting will help decide whether you like reds more than whites, chardonnays more than viogniers, Oregon Pinots...virtually any question you have about wine can be answered in a blind tasting. It’s fun, it’s informative and, ultimately, it will help you feel confident in choosing from a wine list or aisle.</p>\n      <button class=\'text-btn\' ui-sref=\'welcome-signup\'>Wine Up Now!</button>\n    </div>\n\n    <desktop-nav-primary welcome-state="$ctrl.constants.WELCOME_WHY_STATE"></desktop-nav-primary>\n\n    <div class="mobile-nav-spacer"></div>\n\n  </div>\n\n  <mobile-nav></mobile-nav>\n\n'},function(t,n){"use strict";function e(t,n){"ngInject";t.state("welcome",{url:"/",component:"welcome",resolve:{user:["UserService",function(t){return t.getUserByValidation()}]}}).state("welcome-alexa",{url:"/alexa",component:"welcomeAlexa"}).state("welcome-how",{url:"/how",component:"welcomeHow",resolve:{taster:["TasterService",function(t){return t.getTasterFromValidation()}]}}).state("welcome-signin",{url:"/signin",component:"welcomeSignin",resolve:{user:["UserService",function(t){return t.getUserByValidation()}]}}).state("welcome-signin-alexa",{url:"/signin/alexa",component:"welcomeSignin",resolve:{user:["UserService",function(t){return t.getUserByValidation()}]}}).state("welcome-signup",{url:"/signup",component:"welcomeSignup",resolve:{user:["UserService",function(t){return t.getUserByValidation()}]}}).state("welcome-accept-invite",{url:"/user/accept_invite/:invitation_token",component:"welcomeAcceptInvite",resolve:{token:["$stateParams",function(t){return t.invitation_token}]}}).state("welcome-who",{url:"/who",component:"welcomeWho"}).state("welcome-password-reset",{url:"/password_reset",component:"welcomePasswordReset"}).state("welcome-privacy",{url:"/privacy",component:"welcomePrivacy",resolve:{taster:["TasterService",function(t){return t.getTasterFromValidation()}]}}).state("welcome-why",{url:"/why",component:"welcomeWhy"}),n.otherwise("/")}e.$inject=["$stateProvider","$urlRouterProvider"],Object.defineProperty(n,"__esModule",{value:!0}),n.WelcomeConfig=e},function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.WelcomeConstants={WELCOME_WHY_STATE:"whyState",WELCOME_WHO_STATE:"whoState",WELCOME_HOW_STATE:"howState",WELCOME_LANDING_STATE:"landingState",WELCOME_PRIVACY_STATE:"privacyState",WELCOME_SIGNIN_STATE:"signinState",SIGNIN_SUBTITLE:"Welcome back! We missed you, too.",SIGNIN_COPY:"",SIGNIN_ALEXA_SUBTITLE:"Ooh, you’re getting...Alexafied!",SIGNIN_ALEXA_COPY:"That’s awesome! After signing in be sure to return to your Alexa app and disable/enable the Yno Tasting Skill to complete linking.",PASSWORD_REQUEST_SUBTITLE:"Captain Forgetful?",PASSWORD_REQUEST_COPY:"No problem. Tell us your email and we will send you an authorization code.",PASSWORD_RESET_SUBTITLE:"Email. Incoming.",PASSWORD_RESET_COPY:"You’re code has been sent. Simply paste it in, enter a new password, and we’ll forget this incident ever happened."}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.FiltersModule=void 0;var i=e(106),a=e(107),s=e(108),o=e(109);n.FiltersModule=angular.module("ynoTasting.filters",[]).filter("localToUtcDate",i.LocalToUtcDateFilter).filter("utcToLocalDate",a.UtcToLocalDateFilter).filter("utcToLocalTimeFromNowFilter",s.UtcToLocalTimeFromNowFilter).filter("utcToLocalTimeToNowFilter",o.UtcToLocalTimeToNowFilter).name},function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.LocalToUtcDateFilter=function(){return function(t){return moment(t).utc().format()}}},function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.UtcToLocalDateFilter=function(){return function(t,n){return n||(n="lll"),moment(t,"YYYY-MM-DDTHH:mm:ss.SSSZ").local().format(n)}}},function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.UtcToLocalTimeFromNowFilter=function(){return function(t){return moment(t).local().fromNow()}}},function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.UtcToLocalTimeToNowFilter=function(){return function(t){return moment(t).local().toNow()}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ServicesModule=void 0;var i=e(111),a=e(112),s=e(113),o=e(114),r=e(115),c=e(116),l=e(117),d=e(118),u=e(119),g=e(120),p=e(121),v=e(122),h=e(123);n.ServicesModule=angular.module("ynoTasting.services",[]).service("AlertsService",i.AlertsService).service("GuestService",s.GuestService).service("HostService",o.HostService).service("HostLocationService",r.HostLocationService).service("LocationService",c.LocationService).service("ModalService",a.ModalService).service("NotificationsService",l.NotificationsService).service("TasterService",d.TasterService).service("TastingService",u.TastingService).service("TastingWineService",g.TastingWineService).service("UserService",p.UserService).service("WineService",v.WineService).service("WineReviewService",h.WineReviewService).name},function(t,n){"use strict";function e(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}();n.AlertsService=function(){function t(n,i){"ngInject";e(this,t),this.$log=n,this.$rootScope=i,this.alerts=[],this.alertIndex=0}return t.$inject=["$log","$rootScope"],i(t,[{key:"broadcastAlerts",value:function(){for(var t=0;t<this.alerts.length;t++)this.$rootScope.$broadcast("set-alerts-event",this.alerts[t])}},{key:"setFailureAlert",value:function(t){var n={id:this.alertIndex++,type:"failure",message:t};this.alerts.push(n),this.$rootScope.$broadcast("set-alerts-event",n)}},{key:"setWarningAlert",value:function(t,n,e){var i={id:this.alertIndex++,type:"warning",message:t,code:n,data:e};this.alerts.push(i),this.$rootScope.$broadcast("set-alerts-event",i)}},{key:"setConfirmationAlert",value:function(t){var n={id:this.alertIndex++,type:"confirmation",message:t};this.alerts.push(n),this.$rootScope.$broadcast("set-alerts-event",n)}},{key:"dismissAlert",value:function(t){for(var n=null,e=0;e<this.alerts.length;e++)if(this.alerts[e].id==t){n=this.alerts[e],n.action="dismiss",this.alerts.splice(e,1);break}n&&this.$rootScope.$broadcast("end-alerts-event",n)}},{key:"confirmAlert",value:function(t){for(var n=null,e=0;e<this.alerts.length;e++)if(this.alerts[e].id==t){n=this.alerts[e],n.action="confirm",this.alerts.splice(e,1);break}n&&this.$rootScope.$broadcast("end-alerts-event",n)}},{key:"denyAlert",value:function(t){for(var n=null,e=0;e<this.alerts.length;e++)if(this.alerts[e].id==t){n=this.alerts[e],n.action="deny",this.alerts.splice(e,1);break}n&&this.$rootScope.$broadcast("end-alerts-event",n)}}]),t}()},function(t,n){"use strict";function e(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}();n.ModalService=function(){function t(n,i){"ngInject";e(this,t),this.$log=i,this.$rootScope=n,this.state="closed",this.modals=[],this.currentModal=null}return t.$inject=["$rootScope","$log"],i(t,[{key:"registerModal",value:function(t){this.modals[t.name]=t}},{key:"destroyAllModals",value:function(){for(var t=0;t<this.modals.length;t++)this.$rootScope.$broadcast("modal-state-change-event",{state:"closed",name:this.modals[t].name});this.modals=[],this.currentModal=null}},{key:"getCurrentModal",value:function(){return this.currentModal}},{key:"setModalState",value:function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.$rootScope.$broadcast("modal-state-change-event",{state:t,name:n,data:e})}},{key:"getModalState",value:function(t){return this.modals[t].modalState}}]),t}()},function(t,n){"use strict";function e(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}();n.GuestService=function(){function t(n,i,a,s,o,r){"ngInject";e(this,t),this.$log=n,this.$http=i,this.$q=a,this.$state=s,this.$rootScope=o,this.constants=r}return t.$inject=["$log","$http","$q","$state","$rootScope","constants"],i(t,[{key:"getInvitations",value:function(){var t=this,n=this.$q.defer();return this.$http.get(this.constants.apiUrl+"/guests/invitations").then(function(t){n.resolve(t.data)})["catch"](function(n){t.$log.error("GuestService","getInvitations",n),t.$state.to("dashboard")}),n.promise;
}},{key:"confirmInvitation",value:function(t){return this.$http.get(this.constants.apiUrl+"/guests/confirm/"+t)}},{key:"denyInvitation",value:function(t){return this.$http.get(this.constants.apiUrl+"/guests/deny/"+t)}},{key:"create",value:function(t){return this.$http.post(this.constants.apiUrl+"/guests",{guest:t})}},{key:"inviteNewUser",value:function(t,n){var e=this;this.$rootScope.$broadcast("service-init-event"),this.$http.post(this.constants.apiUrl+"/guests/invite_new_user",{tasting_id:t,email:n}).then(function(t){e.$rootScope.$broadcast("invite-taster-event",t.data)})["catch"](function(t){e.$log.error("GuestService.inviteNewUser",t)})["finally"](function(){e.$rootScope.$broadcast("service-complete-event")})}},{key:"inviteTaster",value:function(t,n){var e=this;this.$rootScope.$broadcast("service-init-event"),this.$http.post(this.constants.apiUrl+"/guests/invite_taster",{tasting_id:t,taster_id:n}).then(function(t){e.$rootScope.$broadcast("invite-taster-event",t.data)})["catch"](function(t){e.$log.error("GuestService.inviteTaster",t)})["finally"](function(){e.$rootScope.$broadcast("service-complete-event")})}},{key:"destroy",value:function(t){var n=this;this.$http["delete"](this.constants.apiUrl+"/guests/"+t).then(function(t){n.$rootScope.$broadcast("destroy-guest-event",t.data)})["catch"](function(t){n.$log.error("GuestService.destroy",t)})}},{key:"includeHost",value:function(t){var n=this;this.$http.get(this.constants.apiUrl+"/guests/include_host/"+t).then(function(){n.$rootScope.$broadcast("include-host-as-guest-event")})["catch"](function(t){n.$log.error("GuestService.includeHost",t)})}},{key:"show",value:function(t){var n=this,e=this.$q.defer();return this.$http.get(this.constants.apiUrl+"/guests/"+t).then(function(t){e.resolve(t.data)})["catch"](function(t){n.$log.error("GuestService.show",t)}),e.promise}}]),t}()},function(t,n){"use strict";function e(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}();n.HostService=function(){function t(n,i,a,s,o,r,c,l){"ngInject";e(this,t),this.$auth=n,this.$log=i,this.$http=s,this.$q=a,this.$state=o,this.$rootScope=r,this.constants=c,this.UserService=l}return t.$inject=["$auth","$log","$q","$http","$state","$rootScope","constants","UserService"],i(t,[{key:"getHostFromValidation",value:function(){var t=this,n=this.$q.defer();return this.$auth.validateUser().then(function(e){t.$http.get(t.constants.apiUrl+"/hosts/user/"+e.id).then(function(t){n.resolve(t.data)})["catch"](function(){t.$state.go("user-host")})})["catch"](function(n){t.$log.error("HostService.getHostFromValidation",n),t.$state.go("welcome")}),n.promise}},{key:"create",value:function(t){var n=this;this.$http.post(this.constants.apiUrl+"/hosts",t).then(function(t){n.$rootScope.$broadcast("host-create-event",t.data)})["catch"](function(t){n.$log.error("HostService.create",t)})}}]),t}()},function(t,n){"use strict";function e(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}();n.HostLocationService=function(){function t(n,i,a,s){"ngInject";e(this,t),this.$log=i,this.$rootScope=n,this.$http=a,this.constants=s}return t.$inject=["$rootScope","$log","$http","constants"],i(t,[{key:"create",value:function(t){var n=this;this.$http.post(this.constants.apiUrl+"/host_locations",t).then(function(t){n.$rootScope.$broadcast("create-host-location-event",t.data)})["catch"](function(t){n.$log.error("HostLocationService.create",t)})}},{key:"update",value:function(t){var n=this;this.$http.put(this.constants.apiUrl+"/host_locations/"+t.id,t).then(function(t){n.$rootScope.$broadcast("update-host-location-event",t.data)})["catch"](function(t){n.$log.error("HostLocationService.update",t)})}},{key:"destroy",value:function(t){var n=this;this.$http["delete"](this.constants.apiUrl+"/host_locations/"+t).then(function(t){n.$rootScope.$broadcast("destroy-host-location-event",t.data)})["catch"](function(t){n.$log.error("HostLocationService.destroy",t)})}}]),t}()},function(t,n){"use strict";function e(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}();n.LocationService=function(){function t(n,i,a,s){"ngInject";e(this,t),this.$log=i,this.$rootScope=n,this.$http=a,this.constants=s}return t.$inject=["$rootScope","$log","$http","constants"],i(t,[{key:"create",value:function(t){var n=this;this.$http.post(this.constants.apiUrl+"/locations",t).then(function(t){n.$rootScope.$broadcast("create-location-event",t.data)})["catch"](function(t){n.$log.error("LocationService.create",t)})}}]),t}()},function(t,n){"use strict";function e(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}();n.NotificationsService=function(){function t(n,i,a){"ngInject";e(this,t),this.$log=n,this.$rootScope=i,this.$interval=a,this.displayTimer=null,this.message=null}return t.$inject=["$log","$rootScope","$interval"],i(t,[{key:"endNotification",value:function(t){t.$rootScope.$broadcast("end-notifications-event"),t.message=null}},{key:"setNotification",value:function(t){this.message&&this.$interval.cancel(this.displayTimer),this.message=t,this.displayTimer=this.$interval(this.endNotification,3e3,1,!0,this),this.$rootScope.$broadcast("set-notifications-event",t)}}]),t}()},function(t,n){"use strict";function e(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}();n.TasterService=function(){function t(n,i,a,s,o,r,c,l){"ngInject";e(this,t),this.constants=c,this.AlertsService=l,this.$log=i,this.$http=a,this.$rootScope=n,this.$auth=s,this.$q=o,this.$state=r}return t.$inject=["$rootScope","$log","$http","$auth","$q","$state","constants","AlertsService"],i(t,[{key:"getTasterFromValidation",value:function(){var t=this,n=this.$q.defer();return this.$auth.validateUser().then(function(e){t.$http.get(t.constants.apiUrl+"/tasters/user/"+e.id).then(function(e){"inactive"==e.data.status?t.$state.go("user"):n.resolve(e.data)})["catch"](function(n){t.$log.error("TasterService: getTaster",n),t.$state.go("welcome")})})["catch"](function(n){t.$log.error("TasterService: validateUser",n),t.$state.go("welcome")}),n.promise}},{key:"getTasterFromUser",value:function(t){var n=this,e=this.$q.defer();return this.$http.get(this.constants.apiUrl+"/tasters/user/"+t).then(function(t){e.resolve(t.data)})["catch"](function(t){n.$log.error("TasterService.getTasterFromUser",t)}),e.promise}},{key:"update",value:function(t){var n=this;this.$rootScope.$broadcast("service-init-event"),this.$http.put(this.constants.apiUrl+"/tasters/"+t.id,t).then(function(t){n.$rootScope.$broadcast("taster-update-event",t.data)})["catch"](function(){n.AlertsService.setFailureAlert("There was an error in updating taster. Please try later.")})["finally"](function(){n.$rootScope.$broadcast("service-complete-event")})}},{key:"loadTaster",value:function(t){var n=this;this.$http.get(this.constants.apiUrl+"/tasters/"+t).then(function(t){n.setTaster(t.data)})["catch"](function(t){n.$log.error(t)})}},{key:"signupTaster",value:function(t){var n=this;this.$http.post(this.constants.apiUrl+"/tasters",{taster:t}).then(function(){n.$state.go("dashboard")})["catch"](function(){n.AlertsService.setFailureAlert("There was an error in taster sign up. Please try later.")})}}]),t}()},function(t,n){"use strict";function e(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}();n.TastingService=function(){function t(n,i,a,s,o,r){"ngInject";e(this,t),this.constants=r,this.$log=n,this.$http=i,this.$q=a,this.$rootScope=s,this.$state=o}return t.$inject=["$log","$http","$q","$rootScope","$state","constants"],i(t,[{key:"createTasting",value:function(t){var n=this;this.$http.post(this.constants.apiUrl+"/tastings",t).then(function(t){n.$rootScope.$broadcast("create-tasting-event",t.data)})["catch"](function(t){n.$log.error("TastingService.createTasting",t)})}},{key:"destroyTasting",value:function(t){var n=this;this.$http["delete"](this.constants.apiUrl+"/tastings/"+t).then(function(){n.$state.go("dashboard")})["catch"](function(t){n.$log.error("TastingService.destroyTasting",t)})}},{key:"updateTasting",value:function(t){var n=this;t.open_at=moment(t.open_at).utc(),t.close_at&&(t.close_at=moment(t.close_at).utc()),t.closed_at&&(t.closed_at=moment(t.closed_at).utc()),t.completed_at&&(t.completed_at=moment(t.completed_at).utc()),this.$http.put(this.constants.apiUrl+"/tastings/"+t.id,t).then(function(t){n.$rootScope.$broadcast("update-tasting-event",t.data)})["catch"](function(t){n.$log.error("TastingService.updateTasting",t)})}},{key:"getTasting",value:function(t){var n=this,e=this.$q.defer();return this.$http.get(this.constants.apiUrl+"/tastings/"+t).then(function(t){e.resolve(t.data)})["catch"](function(){n.$state.go("dashboard")}),e.promise}},{key:"getTastingList",value:function(){var t=this,n=this.$q.defer();return this.$http.get(this.constants.apiUrl+"/tastings/").then(function(t){n.resolve(t.data)})["catch"](function(n){t.$log.error("TastingService.getTastingList",n)}),n.promise}}]),t}()},function(t,n){"use strict";function e(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}();n.TastingWineService=function(){function t(n,i,a,s){"ngInject";e(this,t),this.constants=s,this.$log=n,this.$http=a,this.$rootScope=i}return t.$inject=["$log","$rootScope","$http","constants"],i(t,[{key:"create",value:function(t){var n=this;this.$http.post(this.constants.apiUrl+"/tasting_wines",t).then(function(t){n.$rootScope.$broadcast("tasting-wine-create-event",t.data)})["catch"](function(t){n.$log.error("TastingWineService.create",t)})}},{key:"update",value:function(t){var n=this;this.$http.put(this.constants.apiUrl+"/tasting_wines/"+t.id,t).then(function(t){n.$rootScope.$broadcast("tasting-wine-update-event",t.data)})["catch"](function(t){n.$log.error("TastingWineService.update",t)})}},{key:"destroy",value:function(t){var n=this;this.$http["delete"](this.constants.apiUrl+"/tasting_wines/"+t.id).then(function(t){n.$rootScope.$broadcast("tasting-wine-destroy-event",t.data)})["catch"](function(t){n.$log.error("TastingWineService.destroy",t)})}}]),t}()},function(t,n){"use strict";function e(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}();n.UserService=function(){function t(n,i,a,s,o,r,c,l){"ngInject";e(this,t),this.$log=n,this.$http=i,this.$auth=s,this.$rootScope=r,this.$q=a,this.$state=o,this.constants=c,this.AlertsService=l}return t.$inject=["$log","$http","$q","$auth","$state","$rootScope","constants","AlertsService"],i(t,[{key:"acceptInvite",value:function(t){var n=this,e=this.$q.defer();return this.$http.put(this.constants.apiUrl+"/users/invitation/accept/"+t.invitation_token,{user:t}).then(function(i){t.email=i.data.email,n.$auth.submitLogin(t).then(function(){e.resolve(i.data)})["catch"](function(t){n.$log.error("UserService.acceptInvite.login",t),n.$state.go("welcome")})})["catch"](function(t){n.$log.error("UserService.acceptInvite",t),n.$state.go("welcome")}),e.promise}},{key:"getUserByEmail",value:function(t){var n=this,e=this.$q.defer();return this.$http.post(this.constants.apiUrl+"/users/email/",{email:t}).then(function(t){e.resolve(t.data)})["catch"](function(t){n.$log.error("UserService.getUserByEmail",t)}),e.promise}},{key:"getUserByValidation",value:function(){var t=this.$q.defer();return this.$auth.validateUser().then(function(n){n.errors?t.resolve(null):t.resolve(n)})["catch"](function(){t.resolve(null)}),t.promise}},{key:"getValidateUser",value:function(){return this.$auth.validateUser()}},{key:"requestPasswordReset",value:function(t){return this.$auth.requestPasswordReset(t)}},{key:"signinUser",value:function(t){return this.$auth.submitLogin(t)}},{key:"signoutUser",value:function(){var t=this;this.$auth.signOut().then(function(){t.$state.go("welcome")})["catch"](function(n){t.$log.log("UserService.signoutUser",n)})}},{key:"signupUser",value:function(t){var n=this,e=this.$q.defer();return this.$auth.submitRegistration(t).then(function(t){"success"==t.data.status?e.resolve({user_id:t.data.data.id,user:t.data.data}):(n.AlertsService.setFailureAlert(t.data.data),n.$log.error("WelcomeSignupComponent.signupUser",t.data.data))})["catch"](function(t){n.$log.error("WelcomeSignupComponent.signupUser",t),n.AlertsService.setFailureAlert(t.data.errors.full_messages[0])}),e.promise}},{key:"show",value:function(t){var n=this,e=this.$q.defer();return this.$http.get(this.constants.apiUrl+"/users/"+t).then(function(t){e.resolve(t.data)})["catch"](function(t){n.$log.error("UserService.show",t)}),e.promise}},{key:"update",value:function(t){var n=this;this.$auth.updateAccount(t).then(function(t){n.$rootScope.$broadcast("user-update-event",t.data.data)})["catch"](function(t){n.$log.error("UserService.update",t)})}},{key:"resetUserPassword",value:function(t){return this.$http.post(this.constants.apiUrl+"/users/password/reset",{user:t})}}]),t}()},function(t,n){"use strict";function e(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}();n.WineService=function(){function t(n,i,a,s,o){"ngInject";e(this,t),this.constants=o,this.$log=n,this.$http=i,this.$q=a,this.$rootScope=s}return t.$inject=["$log","$http","$q","$rootScope","constants"],i(t,[{key:"create",value:function(t){var n=this;this.$http.post(this.constants.apiUrl+"/wines",t).then(function(t){n.$rootScope.$broadcast("wine-create-event",t.data)})["catch"](function(t){n.$log.error("WineService.create",t)})}},{key:"show",value:function(t){var n=this,e=this.$q.defer();return this.$http.get(this.constants.apiUrl+"/wines/"+t).then(function(t){e.resolve(t.data)})["catch"](function(t){n.$log.error("WineService.show",t)}),e.promise}}]),t}()},function(t,n){"use strict";function e(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}();n.WineReviewService=function(){function t(n,i,a,s,o){"ngInject";e(this,t),this.constants=o,this.$log=i,this.$http=a,this.$q=s,this.$rootScope=n}return t.$inject=["$rootScope","$log","$http","$q","constants"],i(t,[{key:"getStatus",value:function(t){var n=this,e=this.$q.defer();return this.$http.get(this.constants.apiUrl+"/wine_reviews/"+t+"/status").then(function(t){e.resolve(t.data)})["catch"](function(t){n.$log.error("WineReviewService.getStatus",t)}),e.promise}},{key:"index",value:function(){var t=this,n=this.$q.defer();return this.$http.get(this.constants.apiUrl+"/wine_reviews").then(function(t){n.resolve(t.data)})["catch"](function(n){t.$log.error("WineReviewService.index",n)}),n.promise}},{key:"updateReview",value:function(t){var n=this;this.$http.put(this.constants.apiUrl+"/wine_reviews/"+t.id,t).then(function(t){n.$rootScope.$broadcast("wine-review-update-event",t.data)})["catch"](function(t){n.$log.error("WineReviewService.updateReview",t)})}},{key:"reveal",value:function(t){var n=this;this.$http.post(this.constants.apiUrl+"/wine_reviews/reveal",{wine_review:t}).then(function(t){n.$rootScope.$broadcast("wine-reveal-event",t.data)})["catch"](function(t){n.$log.error("WineReviewService.updateReview",t)})}}]),t}()},function(t,n){"use strict";function e(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});n.AppComponent={template:"\n    <ui-view></ui-view>\n  ",controller:["$location","$window",function i(t,n){"ngInject";e(this,i),"www.ynotasting.com"==t.host()&&(n.location.href="https://ynotasting.com"+t.path()),"ynotasting.com"==t.host()&&"http"==t.protocol()&&(n.location.href="https://ynotasting.com"+t.path())}]}},function(t,n){"use strict";function e(t,n,e,i,a){"ngInject";n.html5Mode({enabled:!0,requireBase:!0}),e.debugEnabled(a.enableDebug),t.configure({apiUrl:a.authUrl,validateOnPageLoad:!1,storage:"localStorage"}),i.options({startView:"month",today:!0,format:"LL LT",minutesStep:15})}e.$inject=["$authProvider","$locationProvider","$logProvider","momentPickerProvider","constants"],Object.defineProperty(n,"__esModule",{value:!0}),n.AppConfig=e},function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.AppConstants={authUrl:"",invitationUrl:"/auth/invitation",apiUrl:"/api/v1",baseUrl:"/",enableDebug:!0}}]);
//# sourceMappingURL=../maps/scripts/app-668ea27386.js.map
